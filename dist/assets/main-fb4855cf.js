var at=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var _=(e,t,n)=>(at(e,t,"read from private field"),n?n.call(e):t.get(e)),C=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},g=(e,t,n,r)=>(at(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Ae=(e,t,n)=>(at(e,t,"access private method"),n);import"./style-27b4b240.js";class c{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class ee{static fromArray(t,n){let r=n||new Qe;for(let i=t.length-1;i>=0;--i)r=new en(t[i],r);return r}[Symbol.iterator](){return new jn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function je(e,t){return new en(e,t)}function a(e,t){return ee.fromArray(e,t)}var he;class jn{constructor(t){C(this,he,void 0);g(this,he,t)}next(){if(_(this,he)instanceof Qe)return{done:!0};{let{head:t,tail:n}=_(this,he);return g(this,he,n),{value:t,done:!1}}}}he=new WeakMap;class Qe extends ee{}class en extends ee{constructor(t,n){super(),this.head=t,this.tail=n}}class ke{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return Mn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return Rn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new ke(this.buffer.slice(t,n))}sliceAfter(t){return new ke(this.buffer.slice(t))}}class Nn{constructor(t){this.value=t}}function Rn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function Mn(e){return new Float64Array(e.reverse().buffer)[0]}class Ne extends c{static isResult(t){return t instanceof Ne}}class h extends Ne{constructor(t){super(),this[0]=t}isOk(){return!0}}class y extends Ne{constructor(t){super(),this[0]=t}isOk(){return!1}}function ue(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Ut(r)||!Ut(i)||!Dn(r,i)||vn(r,i)||Bn(r,i)||Wn(r,i)||qn(r,i)||Un(r,i)||Vn(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,f]=zn(r);for(let d of l(r))n.push(f(r,d),f(i,d))}return!0}function zn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function vn(e,t){return e instanceof Date&&(e>t||e<t)}function Bn(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Wn(e,t){return Array.isArray(e)&&e.length!==t.length}function qn(e,t){return e instanceof Map&&e.size!==t.size}function Un(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Vn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ut(e){return typeof e=="object"&&e!==null}function Dn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function et(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class bt extends c{constructor(t){super(),this[0]=t}}class Vt extends c{}function Fn(e,t){if(e instanceof bt){let n=e[0];return new h(n)}else return new y(t)}function tn(e){return wr(e)}function Re(e){return yr(e)}function Pn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=je(i,r)}}}function Hn(e){return Pn(e,a([]))}function Gn(e){return Hn(e)}function Yn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Gn(s);{let u=r.head;e=r.tail,t=i,n=je(i(u),s)}}}function Kn(e,t){return Yn(e,t,a([]))}function gt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function Me(e,t){if(e.isOk()){let n=e[0];return new h(t(n))}else{let n=e[0];return new y(n)}}function nn(e,t){if(e.isOk()){let n=e[0];return new h(n)}else{let n=e[0];return new y(t(n))}}function b(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new y(n)}}function rn(e,t){return e.isOk()?e[0]:t()}function Xn(e,t){return e.isOk()?e:t}function $t(e,t){if(e.isOk()){let n=e[0];return new h(n)}else return new y(t)}function sn(e){return br(e)}function xt(e){return e}class At extends c{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function It(e){return e}function un(e){return Ir(e)}function ln(e){return pn(e)}function Jn(e){return Or(e)}function an(e){return t=>{if(e.hasLength(0))return new y(a([new At("another type",ln(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new h(s)}else return an(r)(t)}}}function Zn(e,t){let n=It(t),r=an(a([un,s=>Me(Jn(s),Re)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",ln(n),">"]),l=sn(u);return xt(l)}})();return e.withFields({path:je(i,e.path)})}function Qn(e,t){return nn(e,n=>Kn(n,t))}function Dt(e,t){return n=>{let r=new At("field","nothing",a([]));return b(kr(n,e),i=>{let u=Fn(i,a([r])),l=b(u,t);return Qn(l,f=>Zn(f,e))})}}const Ft=new WeakMap,ft=new DataView(new ArrayBuffer(8));let ot=0;function dt(e){const t=Ft.get(e);if(t!==void 0)return t;const n=ot++;return ot===2147483647&&(ot=0),Ft.set(e,n),n}function pt(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Ot(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function fn(e){ft.setFloat64(0,e);const t=ft.getInt32(0),n=ft.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function er(e){return Ot(e.toString())}function tr(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return dt(e);if(e instanceof Date)return fn(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+N(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+N(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+pt(N(r),N(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+pt(N(u),Ot(s))|0}}return n}function N(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return fn(e);case"string":return Ot(e);case"bigint":return er(e);case"object":return tr(e);case"symbol":return dt(e);case"function":return dt(e);default:return 0}}const P=5,kt=Math.pow(2,P),nr=kt-1,rr=kt/2,ir=kt/4,k=0,D=1,T=2,de=3,Et={type:T,bitmap:0,array:[]};function ze(e,t){return e>>>t&nr}function tt(e,t){return 1<<ze(e,t)}function sr(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Lt(e,t){return sr(e&t-1)}function R(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function ur(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function wt(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function on(e,t,n,r,i,s){const u=N(t);if(u===r)return{type:de,hash:u,array:[{type:k,k:t,v:n},{type:k,k:i,v:s}]};const l={val:!1};return ve(St(Et,e,u,t,n,l),e,r,i,s,l)}function ve(e,t,n,r,i,s){switch(e.type){case D:return lr(e,t,n,r,i,s);case T:return St(e,t,n,r,i,s);case de:return ar(e,t,n,r,i,s)}}function lr(e,t,n,r,i,s){const u=ze(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:D,size:e.size+1,array:R(e.array,u,{type:k,k:r,v:i})};if(l.type===k)return ue(r,l.k)?i===l.v?e:{type:D,size:e.size,array:R(e.array,u,{type:k,k:r,v:i})}:(s.val=!0,{type:D,size:e.size,array:R(e.array,u,on(t+P,l.k,l.v,n,r,i))});const f=ve(l,t+P,n,r,i,s);return f===l?e:{type:D,size:e.size,array:R(e.array,u,f)}}function St(e,t,n,r,i,s){const u=tt(n,t),l=Lt(e.bitmap,u);if(e.bitmap&u){const f=e.array[l];if(f.type!==k){const x=ve(f,t+P,n,r,i,s);return x===f?e:{type:T,bitmap:e.bitmap,array:R(e.array,l,x)}}const d=f.k;return ue(r,d)?i===f.v?e:{type:T,bitmap:e.bitmap,array:R(e.array,l,{type:k,k:r,v:i})}:(s.val=!0,{type:T,bitmap:e.bitmap,array:R(e.array,l,on(t+P,d,f.v,n,r,i))})}else{const f=e.array.length;if(f>=rr){const d=new Array(32),x=ze(n,t);d[x]=St(Et,t+P,n,r,i,s);let E=0,L=e.bitmap;for(let ae=0;ae<32;ae++){if(L&1){const lt=e.array[E++];d[ae]=lt}L=L>>>1}return{type:D,size:f+1,array:d}}else{const d=ur(e.array,l,{type:k,k:r,v:i});return s.val=!0,{type:T,bitmap:e.bitmap|u,array:d}}}}function ar(e,t,n,r,i,s){if(n===e.hash){const u=Tt(e,r);if(u!==-1)return e.array[u].v===i?e:{type:de,hash:n,array:R(e.array,u,{type:k,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:de,hash:n,array:R(e.array,l,{type:k,k:r,v:i})}}return ve({type:T,bitmap:tt(e.hash,t),array:[e]},t,n,r,i,s)}function Tt(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(ue(t,e.array[r].k))return r;return-1}function Ke(e,t,n,r){switch(e.type){case D:return fr(e,t,n,r);case T:return or(e,t,n,r);case de:return cr(e,r)}}function fr(e,t,n,r){const i=ze(n,t),s=e.array[i];if(s!==void 0){if(s.type!==k)return Ke(s,t+P,n,r);if(ue(r,s.k))return s}}function or(e,t,n,r){const i=tt(n,t);if(!(e.bitmap&i))return;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==k)return Ke(u,t+P,n,r);if(ue(r,u.k))return u}function cr(e,t){const n=Tt(e,t);if(!(n<0))return e.array[n]}function Ct(e,t,n,r){switch(e.type){case D:return hr(e,t,n,r);case T:return dr(e,t,n,r);case de:return pr(e,r)}}function hr(e,t,n,r){const i=ze(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===k){if(!ue(s.k,r))return e}else if(u=Ct(s,t+P,n,r),u===s)return e;if(u===void 0){if(e.size<=ir){const l=e.array,f=new Array(e.size-1);let d=0,x=0,E=0;for(;d<i;){const L=l[d];L!==void 0&&(f[x]=L,E|=1<<d,++x),++d}for(++d;d<l.length;){const L=l[d];L!==void 0&&(f[x]=L,E|=1<<d,++x),++d}return{type:T,bitmap:E,array:f}}return{type:D,size:e.size-1,array:R(e.array,i,u)}}return{type:D,size:e.size,array:R(e.array,i,u)}}function dr(e,t,n,r){const i=tt(n,t);if(!(e.bitmap&i))return e;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==k){const l=Ct(u,t+P,n,r);return l===u?e:l!==void 0?{type:T,bitmap:e.bitmap,array:R(e.array,s,l)}:e.bitmap===i?void 0:{type:T,bitmap:e.bitmap^i,array:wt(e.array,s)}}return ue(r,u.k)?e.bitmap===i?void 0:{type:T,bitmap:e.bitmap^i,array:wt(e.array,s)}:e}function pr(e,t){const n=Tt(e,t);if(n<0)return e;if(e.array.length!==1)return{type:de,hash:e.hash,array:wt(e.array,n)}}function cn(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===k){t(s.v,s.k);continue}cn(s,t)}}}class j{static fromObject(t){const n=Object.keys(t);let r=j.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=j.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new j(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=Ke(this.root,0,N(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?Et:this.root,s=ve(i,0,N(t),t,n,r);return s===this.root?this:new j(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Ct(this.root,0,N(t),t);return n===this.root?this:n===void 0?j.new():new j(n,this.size-1)}has(t){return this.root===void 0?!1:Ke(this.root,0,N(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){cn(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+pt(N(n),N(r))|0}),t}equals(t){if(!(t instanceof j)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&ue(t.get(i,!r),r)}),n}}const jt=void 0,Pt={};function wr(e){return/^[-+]?(\d+)$/.test(e)?new h(parseInt(e)):new y(jt)}function yr(e){return e.toString()}function mr(e){const t=hn(e);return t?ee.fromArray(Array.from(t).map(n=>n.segment)):ee.fromArray(e.match(/./gsu))}function hn(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function _r(e){var r,i;let t;const n=hn(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new h([t,e.slice(t.length)]):new y(jt)}function br(e){let t="";for(const n of e)t=t+n;return t}function Nt(e,t){return e.indexOf(t)>=0}function gr(e){var t;typeof process=="object"&&((t=process.stderr)!=null&&t.write)?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function $r(){return j.new()}function dn(e,t){const n=e.get(t,Pt);return n===Pt?new y(jt):new h(n)}function xr(e,t,n){return n.set(e,t)}function pn(e){if(typeof e=="string")return"String";if(e instanceof Ne)return"Result";if(e instanceof ee)return"List";if(e instanceof ke)return"BitArray";if(e instanceof j)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Rt(e,t){return Ar(e,pn(t))}function Ar(e,t){return new y(ee.fromArray([new At(e,t,ee.fromArray([]))]))}function Ir(e){return typeof e=="string"?new h(e):Rt("String",e)}function Or(e){return Number.isInteger(e)?new h(e):Rt("Int",e)}function kr(e,t){const n=()=>Rt("Dict",e);if(e instanceof j||e instanceof WeakMap||e instanceof Map){const r=dn(e,t);return new h(r.isOk()?new bt(r[0]):new Vt)}else return Object.getPrototypeOf(e)==Object.prototype?Ht(e,t,()=>new h(new Vt)):Ht(e,t,n)}function Ht(e,t,n){try{return t in e?new h(new bt(e[t])):n()}catch{return n()}}function te(e){const t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return JSON.stringify(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(te).join(", ")})`;if(e instanceof ee)return Tr(e);if(e instanceof Nn)return jr(e);if(e instanceof ke)return Cr(e);if(e instanceof c)return Sr(e);if(e instanceof j)return Er(e);if(e instanceof Set)return`//js(Set(${[...e].map(te).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Lr(e)}function Er(e){let t="dict.from_list([",n=!0;return e.forEach((r,i)=>{n||(t=t+", "),t=t+"#("+te(i)+", "+te(r)+")",n=!1}),t+"])"}function Lr(e){var s,u;const t=((u=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:u.name)||"Object",n=[];for(const l of Object.keys(e))n.push(`${te(l)}: ${te(e[l])}`);const r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Sr(e){const t=Object.keys(e).map(n=>{const r=te(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Tr(e){return`[${e.toArray().map(te).join(", ")}]`}function Cr(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function jr(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function $e(){return $r()}function Be(e,t){return dn(e,t)}function v(e,t,n){return xr(t,n,e)}function nt(e){let n=sn(e);return xt(n)}function Nr(e){return _r(e)}function Rr(e){let t=te(e);return xt(t)}function Mr(e){let n=Rr(e);return gr(n),e}function zr(e,t){return n=>t(e(n))}class vr extends c{constructor(t){super(),this.all=t}}function Gt(){return new vr(a([]))}function K(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?Br(e,t,n,r):Yt(e,t,n,r)}return t!=null&&t.tag?Yt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?qr(e,t):Wr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function Yt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?Oe(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?Oe(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&Oe(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new Qe,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const f of u)i.appendChild(K(null,f,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(K(null,u,n,i));return e&&e.replaceWith(i),i}function Br(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const f=s.get(u);f!==l&&(Oe(e,u,f,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)Oe(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new Qe,f=r;for(;f;)if(f._slot){l=f._slot;break}else f=f.parentNode;for(;u;)Array.isArray(l)&&l.length?K(u,l.shift(),n,e):l.head&&(K(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const d of l)e.appendChild(K(null,d,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const f=u.nextSibling;K(u,l.shift(),n,e),u=f}else if(l.head){const f=u.nextSibling;K(u,l.head,n,e),l=l.tail,u=f}else{const f=u.nextSibling;u.remove(),u=f}for(const f of l)e.appendChild(K(null,f,n,e))}return e}function Oe(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>Me(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function Wr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function qr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var S,J,Z,Q,se,Se,be,ge,Te,yt,Ce,mt;class Ur{constructor(t,n,r){C(this,Te);C(this,Ce);C(this,S,null);C(this,J,null);C(this,Z,[]);C(this,Q,[]);C(this,se,!1);C(this,Se,null);C(this,be,null);C(this,ge,null);g(this,Se,t),g(this,be,n),g(this,ge,r)}start(t,n){if(!Fr())return new y(new ti);if(_(this,S))return new y(new Zr);if(g(this,S,t instanceof HTMLElement?t:document.querySelector(t)),!_(this,S))return new y(new ei);const[r,i]=_(this,Se).call(this,n);return g(this,J,r),g(this,Q,i.all.toArray()),g(this,se,!0),window.requestAnimationFrame(()=>Ae(this,Te,yt).call(this)),new h(s=>this.dispatch(s))}dispatch(t){_(this,Z).push(t),Ae(this,Te,yt).call(this)}emit(t,n=null){_(this,S).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!_(this,S))return new y(new Qr);_(this,S).remove(),g(this,S,null),g(this,J,null),g(this,Z,[]),g(this,Q,[]),g(this,se,!1),g(this,be,()=>{}),g(this,ge,()=>{})}}S=new WeakMap,J=new WeakMap,Z=new WeakMap,Q=new WeakMap,se=new WeakMap,Se=new WeakMap,be=new WeakMap,ge=new WeakMap,Te=new WeakSet,yt=function(){if(Ae(this,Ce,mt).call(this),_(this,se)){const t=_(this,ge).call(this,_(this,J));g(this,S,K(_(this,S),t,n=>this.dispatch(n))),g(this,se,!1)}},Ce=new WeakSet,mt=function(t=0){if(_(this,S)){if(_(this,Z).length)for(;_(this,Z).length;){const[n,r]=_(this,be).call(this,_(this,J),_(this,Z).shift());_(this,se)||g(this,se,_(this,J)!==n),g(this,J,n),g(this,Q,_(this,Q).concat(r.all.toArray()))}for(;_(this,Q).length;)_(this,Q).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));_(this,Z).length&&(t>=5?console.warn(tooManyUpdates):Ae(this,Ce,mt).call(this,++t))}};const Vr=(e,t,n)=>new Ur(e,t,n),Dr=(e,t,n)=>e.start(t,n),Fr=()=>window&&window.document;class wn extends c{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class Pr extends c{constructor(t,n){super(),this[0]=t,this[1]=n}}function xe(e,t){return new wn(e,It(t),!1)}function yn(e,t){return new wn(e,It(t),!0)}function Hr(e,t){return new Pr("on"+e,zr(t,n=>$t(n,void 0)))}function Gr(e){return xe("style",gt(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function Ve(e){return xe("id",e)}function Kt(e){return xe("placeholder",e)}function fe(e){return xe("href",e)}function Yr(e){return xe("src",e)}function Kr(e){return yn("height",Re(e))}function Xr(e){return yn("width",Re(e))}class Jr extends c{constructor(t){super(),this.content=t}}class I extends c{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function ne(e,t,n){return e==="area"?new I("",e,t,a([]),!1,!0):e==="base"?new I("",e,t,a([]),!1,!0):e==="br"?new I("",e,t,a([]),!1,!0):e==="col"?new I("",e,t,a([]),!1,!0):e==="embed"?new I("",e,t,a([]),!1,!0):e==="hr"?new I("",e,t,a([]),!1,!0):e==="img"?new I("",e,t,a([]),!1,!0):e==="input"?new I("",e,t,a([]),!1,!0):e==="link"?new I("",e,t,a([]),!1,!0):e==="meta"?new I("",e,t,a([]),!1,!0):e==="param"?new I("",e,t,a([]),!1,!0):e==="source"?new I("",e,t,a([]),!1,!0):e==="track"?new I("",e,t,a([]),!1,!0):e==="wbr"?new I("",e,t,a([]),!1,!0):new I("",e,t,n,!1,!1)}function p(e){return new Jr(e)}class Zr extends c{}class Qr extends c{}class ei extends c{}class ti extends c{}function ni(e,t,n){return Vr(s=>[e(s),Gt()],(s,u)=>[t(s,u),Gt()],n)}function ct(e,t){return ne("h3",e,t)}function Ie(e,t){return ne("div",e,t)}function De(e,t){return ne("p",e,t)}function oe(e,t){return ne("a",e,t)}function Xt(e){return ne("br",e,a([]))}function ce(e,t){return ne("code",e,t)}function Jt(e,t){return ne("strong",e,t)}function ri(e){return ne("iframe",e,a([]))}function Zt(e){return ne("textarea",e,a([]))}function ii(e,t){return Hr(e,t)}function si(e){let t=e;return Dt("target",Dt("value",un))(t)}function Qt(e){return ii("input",t=>{let n=si(t);return Me(n,e)})}class Xe extends c{constructor(t){super(),this.error=t}}class He extends c{constructor(t,n){super(),this.row=t,this.col=n}}class V extends c{constructor(t){super(),this.parse=t}}function A(e,t,n){let r=e.parse;return r(t,n)}function rt(e){return new V((t,n)=>{if(!(n instanceof He))throw et("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new h([s,u,new He(r+1,0)]):new h([s,u,new He(r,i+1)]):new y(new Xe(s))}else return new y(new Xe("EOF"))})}function m(e){return rt(t=>e===t)}function ye(e,t){return new V((n,r)=>Xn(A(e,n,r),A(t,n,r)))}function We(e){return new V((t,n)=>{if(e.hasLength(0))return new y(new Xe("choiceless choice"));if(e.hasLength(1)){let r=e.head;return A(r,t,n)}else{let r=e.head,i=e.tail,s=A(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],f=s[0][2];return new h([u,l,f])}else return A(We(i),t,n)}})}function le(e){return new V((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return Me(A(le(e),s,u),l=>[je(i,l[0]),l[1],l[2]])}else return new h([a([]),t,n])})}function mn(e){return new V((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return Me(A(le(e),s,u),l=>[je(i,l[0]),l[1],l[2]])}else{let i=r[0];return new y(i)}})}function F(e,t){return new V((n,r)=>{let i=A(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new h([t(s),u,l])}else{let s=i[0];return new y(s)}})}function ui(e){return new V((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new h([new h(i),s,u])}else return new h([new y(void 0),t,n])})}function Mt(e){return new V((t,n)=>A(e,t,n).isOk()?new y(new Xe("")):new h([void 0,t,n]))}function M(e){return new V((t,n)=>A(e(),t,n))}function o(e,t){return new V((n,r)=>{let i=A(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return A(t(s),u,l)}else{let s=i[0];return new y(s)}})}function $(e){return new V((t,n)=>new h([e,t,n]))}function pe(e){let t=Nr(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return o(m(n),i=>o(pe(r),s=>$(i+s)))}else return $("")}function _n(e,t){let n=A(e,mr(t),new He(1,1));if(n.isOk()){let r=n[0][0];return new h(r)}else{let r=n[0];return new y(r)}}function li(){return rt(e=>Nt("abcdefghijklmnopqrstuvwxyz",e))}function ai(){return rt(e=>Nt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function zt(){return ye(li(),ai())}function vt(){return rt(e=>Nt("0123456789",e))}function qe(){return ye(vt(),zt())}let bn=class extends c{constructor(t){super(),this[0]=t}},gn=class extends c{constructor(t){super(),this[0]=t}},$n=class extends c{constructor(t,n){super(),this[0]=t,this[1]=n}},fi=class extends c{constructor(t,n){super(),this[0]=t,this[1]=n}},xn=class extends c{constructor(t){super(),this.int=t}},Fe=class extends c{constructor(t,n){super(),this.val=t,this.gen=n}},Bt=class extends c{constructor(t){super(),this[0]=t}},Wt=class extends c{constructor(t,n){super(),this[0]=t,this[1]=n}},Ee=class extends c{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},Je=class extends c{constructor(t,n){super(),this[0]=t,this[1]=n}};function oi(){let e=mn(vt()),t=F(e,nt),n=F(t,tn),r=F(n,i=>rn(i,()=>{throw et("panic","tinylang",19,"","parsed int isn't an int",{})}));return F(r,i=>new bn(i))}function An(){return o(zt(),e=>o(le(ye(qe(),m("_"))),t=>$(e+nt(t))))}function ci(){let e=An();return F(e,t=>new gn(t))}function _e(){return o(le(We(a([m(" "),m("	"),m(`
`)]))),e=>$(void 0))}function hi(e,t){return t(new xn(e.int+1),e.int)}function Ge(e,t,n){if(t instanceof bn){let r=t[0];return new h(new Fe(new Bt(r),e))}else if(t instanceof gn){let r=t[0],i=Be(n,r);if(i.isOk()){let s=i[0];return new h(new Fe(new Wt(s,r),e))}else return new y("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof $n){let r=t[0],i=t[1];return hi(e,(s,u)=>b(Ge(s,i,v(n,r,u)),l=>{let f=new Ee(u,r,l.val),d=new Fe(f,s);return new h(d)}))}else{let r=t[0],i=t[1];return b(Ge(e,r,n),s=>b(Ge(s.gen,i,n),u=>{let l=new Je(s.val,u.val),f=new Fe(l,u.gen);return new h(f)}))}}function di(e,t){return b(Ge(e,t,$e()),n=>new h(n.val))}function Ye(e,t){for(;;){let n=e,r=t;if(n instanceof Bt)return n;if(n instanceof Wt){let i=n[0],s=Be(r,i);return s.isOk()?s[0]:n}else if(n instanceof Je){let i=n[0],s=n[1],u=Ye(i,r),l=Ye(s,r);if(u instanceof Ee){let f=u[0];e=u[2],t=v(r,f,l)}else return new Je(u,l)}else{let i=n[0],s=n[1],u=n[2];return new Ee(i,s,Ye(u,r))}}}function pi(e){return Ye(e,$e())}function me(e){if(e instanceof Bt){let t=e[0];return Re(t)}else{if(e instanceof Wt)return e[1];if(e instanceof Ee){let t=e[1],n=e[2];return"\\"+t+". "+me(n)}else if(e instanceof Je&&e[0]instanceof Ee){let t=e[0],n=e[1];return"("+me(t)+")("+me(n)+")"}else{let t=e[0],n=e[1];return me(t)+"("+me(n)+")"}}}function wi(e){return e.isOk(),e[0]}function it(){return o(_e(),e=>o(We(a([oi(),ci(),yi(),mi()])),t=>o(_e(),n=>o(le(o(m("("),r=>o(M(it),i=>o(m(")"),s=>o(_e(),u=>$(i)))))),r=>{let i=gt(r,t,(s,u)=>new fi(s,u));return $(i)}))))}function yi(){return o(m("\\"),e=>o(_e(),t=>o(An(),n=>o(_e(),r=>o(m("."),i=>o(_e(),s=>o(M(it),u=>$(new $n(n,u)))))))))}function mi(){return o(m("("),e=>o(M(it),t=>o(m(")"),n=>$(t))))}function _i(e){let t=b($t(_n(it(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>b(di(new xn(0),n),r=>{let i=pi(r);return new h(me(i))}));return wi(t)}class In extends c{constructor(t){super(),this[0]=t}}class On extends c{constructor(t){super(),this[0]=t}}class kn extends c{constructor(t,n){super(),this[0]=t,this[1]=n}}class En extends c{constructor(t,n){super(),this[0]=t,this[1]=n}}class Ln extends c{}class Sn extends c{}class qt extends c{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class bi extends c{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Tn extends c{constructor(t){super(),this.int=t}}class re extends c{constructor(t,n){super(),this.val=t,this.gen=n}}class we extends c{constructor(t){super(),this[0]=t}}class B extends c{constructor(t,n){super(),this[0]=t,this[1]=n}}class W extends c{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class H extends c{constructor(t,n){super(),this[0]=t,this[1]=n}}class O extends c{}class U extends c{}class z extends c{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Ue extends c{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function gi(){let e=mn(vt()),t=F(e,nt),n=F(t,tn),r=F(n,i=>rn(i,()=>{throw et("panic","tinytypedlang",23,"","parsed int isn't an int",{})}));return F(r,i=>new In(i))}function st(){return o(zt(),e=>o(le(ye(qe(),m("_"))),t=>$(e+nt(t))))}function $i(){let e=st();return F(e,t=>new On(t))}function xi(){return o(pe("Type"),e=>o(Mt(ye(qe(),m("_"))),t=>$(new Ln)))}function Ai(){return o(pe("Int"),e=>o(Mt(ye(qe(),m("_"))),t=>$(new Sn)))}function q(){return o(le(We(a([m(" "),m("	"),m(`
`)]))),e=>$(void 0))}function ht(e,t){return t(new Tn(e.int+1),e.int)}function Y(e,t,n){if(t instanceof In){let r=t[0];return new h(new re(new we(r),e))}else if(t instanceof On){let r=t[0],i=Be(n,r);if(i.isOk()){let s=i[0];return new h(new re(new B(s,r),e))}else return new y("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof kn){let r=t[0],i=t[1];return ht(e,(s,u)=>b(Y(s,i,v(n,r,u)),l=>{let f=new W(u,r,l.val),d=new re(f,s);return new h(d)}))}else if(t instanceof En){let r=t[0],i=t[1];return b(Y(e,r,n),s=>b(Y(s.gen,i,n),u=>{let l=new H(s.val,u.val),f=new re(l,u.gen);return new h(f)}))}else{if(t instanceof Ln)return new h(new re(new O,e));if(t instanceof Sn)return new h(new re(new U,e));if(t instanceof qt){let r=t[0],i=t[1],s=t[2];return ht(e,(u,l)=>b(Y(u,i,n),f=>b(Y(f.gen,s,v(n,r,l)),d=>{let x=new z(l,r,f.val,d.val),E=new re(x,d.gen);return new h(E)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return ht(e,(l,f)=>b(Y(l,i,n),d=>{let x=v(n,r,f);return b(Y(d.gen,s,x),E=>b(Y(E.gen,u,x),L=>{let ae=new Ue(f,r,d.val,E.val,L.val),lt=new re(ae,L.gen);return new h(lt)}))}))}}}function Ii(e,t){return b(Y(e,t,$e()),n=>new h(n.val))}function ut(e,t,n){let r=i=>ut(i,t,n);if(e instanceof we){let i=e[0];return new we(i)}else if(e instanceof B){let i=e[0];return t===i?n:e}else if(e instanceof W){let i=e[0],s=e[1],u=e[2];return new W(i,s,r(u))}else if(e instanceof H){let i=e[0],s=e[1];return new H(r(i),r(s))}else{if(e instanceof O)return new O;if(e instanceof U)return new U;if(e instanceof z){let i=e[0],s=e[1],u=e[2],l=e[3];return new z(i,s,r(u),r(l))}else{let i=e[0],s=e[1],u=e[2],l=e[3],f=e[4];return new Ue(i,s,r(u),r(l),r(f))}}}function X(e,t){for(;;){let n=e,r=t;if(n instanceof we)return n;if(n instanceof B){let i=n[0],s=Be(r,i);return s.isOk()?s[0]:n}else if(n instanceof H){let i=n[0],s=n[1],u=X(i,r),l=X(s,r);if(u instanceof W){let f=u[0];e=u[2],t=v(r,f,l)}else return new H(u,l)}else{if(n instanceof O)return new O;if(n instanceof U)return new U;if(n instanceof Ue){let i=n[0],s=n[3];e=n[4],t=v(r,i,X(s,r))}else if(n instanceof W){let i=n[0],s=n[1],u=n[2];return new W(i,s,X(u,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new z(i,s,X(u,r),X(l,r))}}}}function _t(e,t,n){let r=X(e,n),i=X(t,n);if(r instanceof B&&i instanceof B){let s=r[0],u=i[0];return s===u}else{if(r instanceof U&&i instanceof U)return!0;if(r instanceof O&&i instanceof O)return!0;if(r instanceof z&&i instanceof z){let s=r[0],u=r[1],l=r[2],f=r[3],d=i[0],x=i[2],E=i[3];return _t(l,x,n)&&_t(ut(E,d,new B(s,u)),f,n)}else return!1}}function Oi(e){return X(e,$e())}function ie(e,t){for(;;){let n=e,r=t;if(r instanceof B)return r[0]===n;if(r instanceof W){let i=r[2];e=n,t=i}else if(r instanceof H){let i=r[0],s=r[1];return ie(n,i)||ie(n,s)}else if(r instanceof z){let i=r[2],s=r[3];return ie(n,i)||ie(n,s)}else if(r instanceof Ue){let i=r[2],s=r[3],u=r[4];return ie(n,i)||ie(n,s)||ie(n,u)}else return!1}}function w(e){if(e instanceof we){let t=e[0];return Re(t)}else{if(e instanceof B)return e[1];if(e instanceof W){let t=e[1],n=e[2];return"\\"+t+". "+w(n)}else if(e instanceof H&&e[0]instanceof W){let t=e[0],n=e[1];return"("+w(t)+")("+w(n)+")"}else if(e instanceof H){let t=e[0],n=e[1];return w(t)+"("+w(n)+")"}else{if(e instanceof O)return"Type";if(e instanceof U)return"Int";if(e instanceof z){let t=e[0],n=e[1],r=e[2],i=e[3];return ie(t,i)?"forall "+n+": "+w(r)+". "+w(i):r instanceof we||r instanceof B||r instanceof O||r instanceof U?w(r)+"->"+w(i):(r instanceof W||r instanceof H||r instanceof z,"("+w(r)+") -> "+w(i))}else{let t=e[1],n=e[2],r=e[3],i=e[4];return"let "+t+": "+w(n)+" = "+w(r)+`;
`+w(i)}}}}function ki(e){return e.isOk(),e[0]}function Pe(e,t,n,r){for(;;){let i=e,s=t,u=n,l=r;if(i instanceof W){let f=i[0],d=i[1],x=i[2];if(s instanceof z){let E=s[0],L=s[2],ae=s[3];e=x,t=ut(ae,E,new B(f,d)),n=v(u,f,L),r=l}else return new y("Type mismatch. Expected "+w(s)+" but found a lambda.")}else return b(Ze(i,u,l),f=>_t(f,s,l)?new h(void 0):new y("Type mismatch. Expected "+w(s)+" but found "+w(f)+"."))}}function Ze(e,t,n){if(e instanceof we)return new h(new U);if(e instanceof B){let r=e[0],i=e[1];return nn(Be(t,r),s=>"Variable "+i+" is not defined in the current context.")}else if(e instanceof H){let r=e[0],i=e[1];return b(Ze(r,t,n),s=>{if(s instanceof z){let u=s[0],l=s[2],f=s[3];return b(Pe(i,l,t,n),d=>new h(ut(f,u,i)))}else return new y("Type error. Expected a function type, but found "+w(s))})}else if(e instanceof z){let r=e[0],i=e[2],s=e[3];return b(Pe(i,new O,t,n),u=>b(Pe(s,new O,v(t,r,i),n),l=>new h(new O)))}else{if(e instanceof U)return new h(new O);if(e instanceof O)return new h(new O);if(e instanceof Ue){let r=e[0],i=e[2],s=e[3],u=e[4];return b(Pe(s,i,t,n),l=>Ze(u,v(t,r,i),v(n,r,s)))}else return new y("Type error. Can't infer the type of this lambda. Try annotating it with a `let` expression.")}}function G(){return o(q(),e=>o(We(a([gi(),xi(),Ai(),Ei(),Si(),$i(),Li(),Ti()])),t=>o(q(),n=>o(le(o(m("("),r=>o(M(G),i=>o(m(")"),s=>o(q(),u=>$(i)))))),r=>{let i=gt(r,t,(s,u)=>new En(s,u));return o(ui(pe("->")),s=>o((()=>s.isOk()?o(M(G),u=>$(new qt("_",i,u))):$(i))(),u=>$(u)))}))))}function Ei(){return o(pe("forall"),e=>o(Mt(ye(qe(),m("_"))),t=>o(q(),n=>o(st(),r=>o(q(),i=>o(m(":"),s=>o(q(),u=>o(M(G),l=>o(m("."),f=>o(M(G),d=>$(new qt(r,l,d))))))))))))}function Li(){return o(m("\\"),e=>o(q(),t=>o(st(),n=>o(q(),r=>o(m("."),i=>o(q(),s=>o(M(G),u=>$(new kn(n,u)))))))))}function Si(){return o(pe("let "),e=>o(q(),t=>o(st(),n=>o(q(),r=>o(m(":"),i=>o(M(G),s=>o(pe("="),u=>o(M(G),l=>o(m(";"),f=>o(M(G),d=>$(new bi(n,s,l,d))))))))))))}function Ti(){return o(m("("),e=>o(M(G),t=>o(m(")"),n=>$(t))))}function Ci(e){let t=b($t(_n(G(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>b(Ii(new Tn(0),n),r=>b(Ze(r,$e(),$e()),i=>{let s=Oi(r);return new h(w(s))})));return ki(t)}class Le extends c{constructor(t,n){super(),this.untyped=t,this.typed=n}}class Cn extends c{constructor(t){super(),this[0]=t}}class ji extends c{constructor(t){super(),this[0]=t}}function Ni(e){return new Le("","")}function Ri(e,t){if(t instanceof Cn){let n=t[0];return new Le(n,e.typed)}else{let n=t[0];return new Le(e.untyped,n)}}function Mi(e){return Ie(a([]),a([ct(a([]),a([p("Who I Am")])),De(a([]),a([p("I'm Ryan Brewer, the software developer behind "),oe(a([fe("https://github.com/RyanBrewer317/SaberVM")]),a([p("SaberVM")])),p(`,
an abstract machine for safe, portable computation that functional languages can compile to. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, both informationally and financially. 
Consider supporting my work!
`)])),ri(a([Yr("https://github.com/sponsors/RyanBrewer317/button"),xe("title","Sponsor RyanBrewer317"),Kr(32),Xr(114),Gr(a([["border","0"],["border-radius","6px;"]]))])),ct(a([]),a([p("My Website")])),De(a([]),a([p("This is my website. It's hosted by Firebase and written mostly in "),oe(a([fe("https://gleam.run")]),a([p("Gleam")])),p(", and the code is up on my "),oe(a([fe("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([p("github")])),p(". The only framework used is "),oe(a([fe("https://lustre.build/")]),a([p("Lustre")])),p("; scripting, markup, styles, and layout were all done by hand.")])),ct(a([]),a([p("Lambda Calculus in Gleam")])),De(a([]),a([p(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),oe(a([fe("https://gleam.run")]),a([p("Gleam")])),p(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),ce(a([]),a([p("\\var. body")])),p(", and are called like "),ce(a([]),a([p("fun(arg)")])),p(". There are also positive integers like 7. Try writing "),ce(a([]),a([p("(\\x.x)(2)")])),p(", which evaluates to 2. The code for this can be found "),oe(a([fe("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([p("here")])),p(".")])),Zt(a([Ve("code"),Kt("Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)"),Qt(t=>new Cn(t))])),Xt(a([])),(()=>{if(e instanceof Le&&e.untyped==="")return p("");{let t=e.untyped,n=_i(t);return(r=>Ie(a([]),a([Jt(a([]),a([p("output ")])),p(" (variables may be renamed): "),Ie(a([Ve("code-output")]),a([p(r)]))])))(n)}})(),De(a([]),a([p(`Want types in your lambda calculus?
Below I've extended the evaluator with a simple dependent type system. 
Lambdas need to be annotated using a `),ce(a([]),a([p("let")])),p("-binding, like "),ce(a([]),a([p("let f: Int->Int = \\x. x; f(3)")])),p(". Pi types are written "),ce(a([]),a([p("forall x: A. B")])),p(", and the type of types is "),ce(a([]),a([p("Type")])),p(". The code for this extended evaluator can be found "),oe(a([fe("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),a([p("here")])),p(".")])),Zt(a([Ve("typed-code"),Kt("Play with dependent types! Example: let id: forall a: Type. a->a = \\a.\\x.x; id(Int)(3)"),Qt(t=>new ji(t))])),Xt(a([])),(()=>{if(e instanceof Le&&e.typed==="")return p("");{let t=e.typed,n=Ci(Mr(t));return(r=>Ie(a([]),a([Jt(a([]),a([p("output ")])),p(" (variables may be renamed): "),Ie(a([Ve("typed-code-output")]),a([p(r)]))])))(n)}})()]))}function zi(){let e=ni(Ni,Ri,Mi),t=Dr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw et("assignment_no_match","ryanbrewerdev",16,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{zi()});
