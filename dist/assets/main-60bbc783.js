var ht=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var b=(e,t,n)=>(ht(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$=(e,t,n,r)=>(ht(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Oe=(e,t,n)=>(ht(e,t,"access private method"),n);import"./style-b7ef9c88.js";class p{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class ce{static fromArray(t,n){let r=n||new rt;for(let i=t.length-1;i>=0;--i)r=new Jt(t[i],r);return r}[Symbol.iterator](){return new Rn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function Ne(e,t){return new Jt(e,t)}function a(e,t){return ce.fromArray(e,t)}var me;class Rn{constructor(t){B(this,me,void 0);$(this,me,t)}next(){if(b(this,me)instanceof rt)return{done:!0};{let{head:t,tail:n}=b(this,me);return $(this,me,n),{value:t,done:!1}}}}me=new WeakMap;class rt extends ce{}class Jt extends ce{constructor(t,n){super(),this.head=t,this.tail=n}}class Xe{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return Nn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return Mn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Xe(this.buffer.slice(t,n))}sliceAfter(t){return new Xe(this.buffer.slice(t))}}function Mn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function Nn(e){return new Float64Array(e.reverse().buffer)[0]}class ze extends p{static isResult(t){return t instanceof ze}}class c extends ze{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends ze{constructor(t){super(),this[0]=t}isOk(){return!1}}function pe(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Ut(r)||!Ut(i)||!Fn(r,i)||Bn(r,i)||Wn(r,i)||jn(r,i)||qn(r,i)||Vn(r,i)||Un(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,f]=zn(r);for(let h of l(r))n.push(f(r,h),f(i,h))}return!0}function zn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function Bn(e,t){return e instanceof Date&&(e>t||e<t)}function Wn(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function jn(e,t){return Array.isArray(e)&&e.length!==t.length}function qn(e,t){return e instanceof Map&&e.size!==t.size}function Vn(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Un(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ut(e){return typeof e=="object"&&e!==null}function Fn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function it(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class k extends p{constructor(t){super(),this[0]=t}}class H extends p{}function Pn(e,t){if(e instanceof k){let n=e[0];return new c(n)}else return new m(t)}function Ft(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new H}function Zt(e){return yr(e)}function Be(e){return mr(e)}function Dn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=Ne(i,r)}}}function Hn(e){return Dn(e,a([]))}function Gn(e){return Hn(e)}function Yn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Gn(s);{let u=r.head;e=r.tail,t=i,n=Ne(i(u),s)}}}function Kn(e,t){return Yn(e,t,a([]))}function xt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function he(e,t){if(e.isOk()){let n=e[0];return new c(t(n))}else{let n=e[0];return new m(n)}}function Qt(e,t){if(e.isOk()){let n=e[0];return new c(n)}else{let n=e[0];return new m(t(n))}}function y(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function en(e,t){return e.isOk()?e[0]:t()}function Xn(e,t){return e.isOk()?e:t}function kt(e,t){if(e.isOk()){let n=e[0];return new c(n)}else return new m(t)}function tn(e){return gr(e)}function nn(e){return e}class At extends p{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function It(e){return e}function rn(e){return Ar(e)}function sn(e){return hn(e)}function Jn(e){return Ir(e)}function Zn(e){return Er(e)}function un(e){return t=>{if(e.hasLength(0))return new m(a([new At("another type",sn(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new c(s)}else return un(r)(t)}}}function Qn(e,t){let n=It(t),r=un(a([rn,s=>he(Jn(s),Be)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",sn(n),">"]),l=tn(u);return nn(l)}})();return e.withFields({path:Ne(i,e.path)})}function er(e,t){return Qt(e,n=>Kn(n,t))}function Je(e,t){return n=>{let r=new At("field","nothing",a([]));return y(Or(n,e),i=>{let u=Pn(i,a([r])),l=y(u,t);return er(l,f=>Qn(f,e))})}}const Pt=new WeakMap,dt=new DataView(new ArrayBuffer(8));let pt=0;function mt(e){const t=Pt.get(e);if(t!==void 0)return t;const n=pt++;return pt===2147483647&&(pt=0),Pt.set(e,n),n}function _t(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Et(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function ln(e){dt.setFloat64(0,e);const t=dt.getInt32(0),n=dt.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function tr(e){return Et(e.toString())}function nr(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return mt(e);if(e instanceof Date)return ln(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+j(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+j(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+_t(j(r),j(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+_t(j(u),Et(s))|0}}return n}function j(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return ln(e);case"string":return Et(e);case"bigint":return tr(e);case"object":return nr(e);case"symbol":return mt(e);case"function":return mt(e);default:return 0}}const Z=5,Ot=Math.pow(2,Z),rr=Ot-1,ir=Ot/2,sr=Ot/4,v=0,J=1,R=2,_e=3,vt={type:R,bitmap:0,array:[]};function We(e,t){return e>>>t&rr}function st(e,t){return 1<<We(e,t)}function ur(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Lt(e,t){return ur(e&t-1)}function q(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function lr(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function bt(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function an(e,t,n,r,i,s){const u=j(t);if(u===r)return{type:_e,hash:u,array:[{type:v,k:t,v:n},{type:v,k:i,v:s}]};const l={val:!1};return je(Tt(vt,e,u,t,n,l),e,r,i,s,l)}function je(e,t,n,r,i,s){switch(e.type){case J:return ar(e,t,n,r,i,s);case R:return Tt(e,t,n,r,i,s);case _e:return fr(e,t,n,r,i,s)}}function ar(e,t,n,r,i,s){const u=We(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:J,size:e.size+1,array:q(e.array,u,{type:v,k:r,v:i})};if(l.type===v)return pe(r,l.k)?i===l.v?e:{type:J,size:e.size,array:q(e.array,u,{type:v,k:r,v:i})}:(s.val=!0,{type:J,size:e.size,array:q(e.array,u,an(t+Z,l.k,l.v,n,r,i))});const f=je(l,t+Z,n,r,i,s);return f===l?e:{type:J,size:e.size,array:q(e.array,u,f)}}function Tt(e,t,n,r,i,s){const u=st(n,t),l=Lt(e.bitmap,u);if(e.bitmap&u){const f=e.array[l];if(f.type!==v){const g=je(f,t+Z,n,r,i,s);return g===f?e:{type:R,bitmap:e.bitmap,array:q(e.array,l,g)}}const h=f.k;return pe(r,h)?i===f.v?e:{type:R,bitmap:e.bitmap,array:q(e.array,l,{type:v,k:r,v:i})}:(s.val=!0,{type:R,bitmap:e.bitmap,array:q(e.array,l,an(t+Z,h,f.v,n,r,i))})}else{const f=e.array.length;if(f>=ir){const h=new Array(32),g=We(n,t);h[g]=Tt(vt,t+Z,n,r,i,s);let L=0,A=e.bitmap;for(let ee=0;ee<32;ee++){if(A&1){const Fe=e.array[L++];h[ee]=Fe}A=A>>>1}return{type:J,size:f+1,array:h}}else{const h=lr(e.array,l,{type:v,k:r,v:i});return s.val=!0,{type:R,bitmap:e.bitmap|u,array:h}}}}function fr(e,t,n,r,i,s){if(n===e.hash){const u=St(e,r);if(u!==-1)return e.array[u].v===i?e:{type:_e,hash:n,array:q(e.array,u,{type:v,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:_e,hash:n,array:q(e.array,l,{type:v,k:r,v:i})}}return je({type:R,bitmap:st(e.hash,t),array:[e]},t,n,r,i,s)}function St(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(pe(t,e.array[r].k))return r;return-1}function Ze(e,t,n,r){switch(e.type){case J:return or(e,t,n,r);case R:return cr(e,t,n,r);case _e:return hr(e,r)}}function or(e,t,n,r){const i=We(n,t),s=e.array[i];if(s!==void 0){if(s.type!==v)return Ze(s,t+Z,n,r);if(pe(r,s.k))return s}}function cr(e,t,n,r){const i=st(n,t);if(!(e.bitmap&i))return;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==v)return Ze(u,t+Z,n,r);if(pe(r,u.k))return u}function hr(e,t){const n=St(e,t);if(!(n<0))return e.array[n]}function Ct(e,t,n,r){switch(e.type){case J:return dr(e,t,n,r);case R:return pr(e,t,n,r);case _e:return wr(e,r)}}function dr(e,t,n,r){const i=We(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===v){if(!pe(s.k,r))return e}else if(u=Ct(s,t+Z,n,r),u===s)return e;if(u===void 0){if(e.size<=sr){const l=e.array,f=new Array(e.size-1);let h=0,g=0,L=0;for(;h<i;){const A=l[h];A!==void 0&&(f[g]=A,L|=1<<h,++g),++h}for(++h;h<l.length;){const A=l[h];A!==void 0&&(f[g]=A,L|=1<<h,++g),++h}return{type:R,bitmap:L,array:f}}return{type:J,size:e.size-1,array:q(e.array,i,u)}}return{type:J,size:e.size,array:q(e.array,i,u)}}function pr(e,t,n,r){const i=st(n,t);if(!(e.bitmap&i))return e;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==v){const l=Ct(u,t+Z,n,r);return l===u?e:l!==void 0?{type:R,bitmap:e.bitmap,array:q(e.array,s,l)}:e.bitmap===i?void 0:{type:R,bitmap:e.bitmap^i,array:bt(e.array,s)}}return pe(r,u.k)?e.bitmap===i?void 0:{type:R,bitmap:e.bitmap^i,array:bt(e.array,s)}:e}function wr(e,t){const n=St(e,t);if(n<0)return e;if(e.array.length!==1)return{type:_e,hash:e.hash,array:bt(e.array,n)}}function fn(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===v){t(s.v,s.k);continue}fn(s,t)}}}class U{static fromObject(t){const n=Object.keys(t);let r=U.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=U.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new U(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=Ze(this.root,0,j(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?vt:this.root,s=je(i,0,j(t),t,n,r);return s===this.root?this:new U(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Ct(this.root,0,j(t),t);return n===this.root?this:n===void 0?U.new():new U(n,this.size-1)}has(t){return this.root===void 0?!1:Ze(this.root,0,j(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){fn(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+_t(j(n),j(r))|0}),t}equals(t){if(!(t instanceof U)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&pe(t.get(i,!r),r)}),n}}const Rt=void 0,Dt={};function yr(e){return/^[-+]?(\d+)$/.test(e)?new c(parseInt(e)):new m(Rt)}function mr(e){return e.toString()}function _r(e){const t=on(e);return t?ce.fromArray(Array.from(t).map(n=>n.segment)):ce.fromArray(e.match(/./gsu))}function on(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function br(e){var r,i;let t;const n=on(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new c([t,e.slice(t.length)]):new m(Rt)}function gr(e){let t="";for(const n of e)t=t+n;return t}function Mt(e,t){return e.indexOf(t)>=0}function $r(){return U.new()}function cn(e,t){const n=e.get(t,Dt);return n===Dt?new m(Rt):new c(n)}function xr(e,t,n){return n.set(e,t)}function hn(e){if(typeof e=="string")return"String";if(e instanceof ze)return"Result";if(e instanceof ce)return"List";if(e instanceof Xe)return"BitArray";if(e instanceof U)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function ut(e,t){return kr(e,hn(t))}function kr(e,t){return new m(ce.fromArray([new At(e,t,ce.fromArray([]))]))}function Ar(e){return typeof e=="string"?new c(e):ut("String",e)}function Ir(e){return Number.isInteger(e)?new c(e):ut("Int",e)}function Er(e){return typeof e=="boolean"?new c(e):ut("Bool",e)}function Or(e,t){const n=()=>ut("Dict",e);if(e instanceof U||e instanceof WeakMap||e instanceof Map){const r=cn(e,t);return new c(r.isOk()?new k(r[0]):new H)}else return Object.getPrototypeOf(e)==Object.prototype?Ht(e,t,()=>new c(new H)):Ht(e,t,n)}function Ht(e,t,n){try{return t in e?new c(new k(e[t])):n()}catch{return n()}}function Ee(){return $r()}function qe(e,t){return cn(e,t)}function T(e,t,n){return xr(t,n,e)}function vr(e,t){return n=>t(e(n))}class Lr extends p{constructor(t){super(),this.all=t}}function Gt(){return new Lr(a([]))}function re(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?Tr(e,t,n,r):Yt(e,t,n,r)}return t!=null&&t.tag?Yt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?Cr(e,t):Sr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function Yt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?Te(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?Te(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&Te(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new rt,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const f of u)i.appendChild(re(null,f,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(re(null,u,n,i));return e&&e.replaceWith(i),i}function Tr(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const f=s.get(u);f!==l&&(Te(e,u,f,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)Te(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new rt,f=r;for(;f;)if(f._slot){l=f._slot;break}else f=f.parentNode;for(;u;)Array.isArray(l)&&l.length?re(u,l.shift(),n,e):l.head&&(re(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const h of l)e.appendChild(re(null,h,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const f=u.nextSibling;re(u,l.shift(),n,e),u=f}else if(l.head){const f=u.nextSibling;re(u,l.head,n,e),l=l.tail,u=f}else{const f=u.nextSibling;u.remove(),u=f}for(const f of l)e.appendChild(re(null,f,n,e))}return e}function Te(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>he(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function Sr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function Cr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var C,se,ue,le,oe,Ce,Ae,Ie,Re,gt,Me,$t;class Rr{constructor(t,n,r){B(this,Re);B(this,Me);B(this,C,null);B(this,se,null);B(this,ue,[]);B(this,le,[]);B(this,oe,!1);B(this,Ce,null);B(this,Ae,null);B(this,Ie,null);$(this,Ce,t),$(this,Ae,n),$(this,Ie,r)}start(t,n){if(!zr())return new m(new Jr);if(b(this,C))return new m(new Yr);if($(this,C,t instanceof HTMLElement?t:document.querySelector(t)),!b(this,C))return new m(new Xr);const[r,i]=b(this,Ce).call(this,n);return $(this,se,r),$(this,le,i.all.toArray()),$(this,oe,!0),window.requestAnimationFrame(()=>Oe(this,Re,gt).call(this)),new c(s=>this.dispatch(s))}dispatch(t){b(this,ue).push(t),Oe(this,Re,gt).call(this)}emit(t,n=null){b(this,C).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!b(this,C))return new m(new Kr);b(this,C).remove(),$(this,C,null),$(this,se,null),$(this,ue,[]),$(this,le,[]),$(this,oe,!1),$(this,Ae,()=>{}),$(this,Ie,()=>{})}}C=new WeakMap,se=new WeakMap,ue=new WeakMap,le=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,Re=new WeakSet,gt=function(){if(Oe(this,Me,$t).call(this),b(this,oe)){const t=b(this,Ie).call(this,b(this,se));$(this,C,re(b(this,C),t,n=>this.dispatch(n))),$(this,oe,!1)}},Me=new WeakSet,$t=function(t=0){if(b(this,C)){if(b(this,ue).length)for(;b(this,ue).length;){const[n,r]=b(this,Ae).call(this,b(this,se),b(this,ue).shift());b(this,oe)||$(this,oe,b(this,se)!==n),$(this,se,n),$(this,le,b(this,le).concat(r.all.toArray()))}for(;b(this,le).length;)b(this,le).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));b(this,ue).length&&(t>=5?console.warn(tooManyUpdates):Oe(this,Me,$t).call(this,++t))}};const Mr=(e,t,n)=>new Rr(e,t,n),Nr=(e,t,n)=>e.start(t,n),zr=()=>window&&window.document;function lt(e){let n=tn(e);return nn(n)}function Br(e){return br(e)}class dn extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class Wr extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}function ae(e,t){return new dn(e,It(t),!1)}function pn(e,t){return new dn(e,It(t),!0)}function jr(e,t){return new Wr("on"+e,vr(t,n=>kt(n,void 0)))}function qr(e){return ae("style",xt(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function ve(e){return ae("id",e)}function Vr(e){return ae("type",e)}function Ur(e){return ae("placeholder",e)}function Fr(e){return ae("for",e)}function K(e){return ae("href",e)}function Kt(e){return ae("src",e)}function Pr(e){return pn("height",Be(e))}function Dr(e){return pn("width",Be(e))}function Hr(e){return ae("alt",e)}class Gr extends p{constructor(t){super(),this.content=t}}class E extends p{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function z(e,t,n){return e==="area"?new E("",e,t,a([]),!1,!0):e==="base"?new E("",e,t,a([]),!1,!0):e==="br"?new E("",e,t,a([]),!1,!0):e==="col"?new E("",e,t,a([]),!1,!0):e==="embed"?new E("",e,t,a([]),!1,!0):e==="hr"?new E("",e,t,a([]),!1,!0):e==="img"?new E("",e,t,a([]),!1,!0):e==="input"?new E("",e,t,a([]),!1,!0):e==="link"?new E("",e,t,a([]),!1,!0):e==="meta"?new E("",e,t,a([]),!1,!0):e==="param"?new E("",e,t,a([]),!1,!0):e==="source"?new E("",e,t,a([]),!1,!0):e==="track"?new E("",e,t,a([]),!1,!0):e==="wbr"?new E("",e,t,a([]),!1,!0):new E("",e,t,n,!1,!1)}function d(e){return new Gr(e)}class Yr extends p{}class Kr extends p{}class Xr extends p{}class Jr extends p{}function Zr(e,t,n){return Mr(s=>[e(s),Gt()],(s,u)=>[t(s,u),Gt()],n)}function wt(e,t){return z("h3",e,t)}function Pe(e,t){return z("div",e,t)}function De(e,t){return z("p",e,t)}function te(e,t){return z("a",e,t)}function Xt(e){return z("br",e,a([]))}function ne(e,t){return z("code",e,t)}function Qr(e,t){return z("span",e,t)}function ei(e,t){return z("strong",e,t)}function ti(e){return z("img",e,a([]))}function ni(e){return z("iframe",e,a([]))}function ri(e){return z("input",e,a([]))}function ii(e,t){return z("label",e,t)}function si(e){return z("textarea",e,a([]))}function wn(e,t){return jr(e,t)}function ui(e){let t=e;return Je("target",Je("value",rn))(t)}function li(e){return wn("input",t=>{let n=ui(t);return he(n,e)})}function ai(e){let t=e;return Je("target",Je("checked",Zn))(t)}function fi(e){return wn("change",t=>{let n=ai(t);return he(n,e)})}class Qe extends p{constructor(t){super(),this.error=t}}class Ge extends p{constructor(t,n){super(),this.row=t,this.col=n}}class Y extends p{constructor(t){super(),this.parse=t}}function I(e,t,n){let r=e.parse;return r(t,n)}function at(e){return new Y((t,n)=>{if(!(n instanceof Ge))throw it("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new c([s,u,new Ge(r+1,0)]):new c([s,u,new Ge(r,i+1)]):new m(new Qe(s))}else return new m(new Qe("EOF"))})}function _(e){return at(t=>e===t)}function $e(e,t){return new Y((n,r)=>Xn(I(e,n,r),I(t,n,r)))}function Ve(e){return new Y((t,n)=>{if(e.hasLength(0))return new m(new Qe("choiceless choice"));if(e.hasLength(1)){let r=e.head;return I(r,t,n)}else{let r=e.head,i=e.tail,s=I(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],f=s[0][2];return new c([u,l,f])}else return I(Ve(i),t,n)}})}function we(e){return new Y((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return he(I(we(e),s,u),l=>[Ne(i,l[0]),l[1],l[2]])}else return new c([a([]),t,n])})}function yn(e){return new Y((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return he(I(we(e),s,u),l=>[Ne(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function V(e,t){return new Y((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new c([t(s),u,l])}else{let s=i[0];return new m(s)}})}function Nt(e){return new Y((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new c([new c(i),s,u])}else return new c([new m(void 0),t,n])})}function zt(e){return new Y((t,n)=>I(e,t,n).isOk()?new m(new Qe("")):new c([void 0,t,n]))}function M(e){return new Y((t,n)=>I(e(),t,n))}function o(e,t){return new Y((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return I(t(s),u,l)}else{let s=i[0];return new m(s)}})}function x(e){return new Y((t,n)=>new c([e,t,n]))}function be(e){let t=Br(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return o(_(n),i=>o(be(r),s=>x(i+s)))}else return x("")}function mn(e,t){let n=I(e,_r(t),new Ge(1,1));if(n.isOk()){let r=n[0][0];return new c(r)}else{let r=n[0];return new m(r)}}function oi(){return at(e=>Mt("abcdefghijklmnopqrstuvwxyz",e))}function ci(){return at(e=>Mt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function Bt(){return $e(oi(),ci())}function Wt(){return at(e=>Mt("0123456789",e))}function Ue(){return $e(Wt(),Bt())}let _n=class extends p{constructor(t){super(),this[0]=t}},bn=class extends p{constructor(t){super(),this[0]=t}},gn=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},hi=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},$n=class extends p{constructor(t){super(),this.int=t}},He=class extends p{constructor(t,n){super(),this.val=t,this.gen=n}},jt=class extends p{constructor(t){super(),this[0]=t}},qt=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},Se=class extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},et=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}};function di(){let e=yn(Wt()),t=V(e,lt),n=V(t,Zt),r=V(n,i=>en(i,()=>{throw it("panic","tinylang",19,"","parsed int isn't an int",{})}));return V(r,i=>new _n(i))}function xn(){return o(Bt(),e=>o(we($e(Ue(),_("_"))),t=>x(e+lt(t))))}function pi(){let e=xn();return V(e,t=>new bn(t))}function ke(){return o(we(Ve(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function wi(e,t){return t(new $n(e.int+1),e.int)}function Ye(e,t,n){if(t instanceof _n){let r=t[0];return new c(new He(new jt(r),e))}else if(t instanceof bn){let r=t[0],i=qe(n,r);if(i.isOk()){let s=i[0];return new c(new He(new qt(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof gn){let r=t[0],i=t[1];return wi(e,(s,u)=>y(Ye(s,i,T(n,r,u)),l=>{let f=new Se(u,r,l.val),h=new He(f,s);return new c(h)}))}else{let r=t[0],i=t[1];return y(Ye(e,r,n),s=>y(Ye(s.gen,i,n),u=>{let l=new et(s.val,u.val),f=new He(l,u.gen);return new c(f)}))}}function yi(e,t){return y(Ye(e,t,Ee()),n=>new c(n.val))}function Ke(e,t){for(;;){let n=e,r=t;if(n instanceof jt)return n;if(n instanceof qt){let i=n[0],s=qe(r,i);return s.isOk()?s[0]:n}else if(n instanceof et){let i=n[0],s=n[1],u=Ke(i,r),l=Ke(s,r);if(u instanceof Se){let f=u[0];e=u[2],t=T(r,f,l)}else return new et(u,l)}else{let i=n[0],s=n[1],u=n[2];return new Se(i,s,Ke(u,r))}}}function mi(e){return Ke(e,Ee())}function xe(e){if(e instanceof jt){let t=e[0];return Be(t)}else{if(e instanceof qt)return e[1];if(e instanceof Se){let t=e[1],n=e[2];return"\\"+t+". "+xe(n)}else if(e instanceof et&&e[0]instanceof Se){let t=e[0],n=e[1];return"("+xe(t)+")("+xe(n)+")"}else{let t=e[0],n=e[1];return xe(t)+"("+xe(n)+")"}}}function _i(e){return e.isOk(),e[0]}function ft(){return o(ke(),e=>o(Ve(a([di(),pi(),bi(),gi()])),t=>o(ke(),n=>o(we(o(_("("),r=>o(M(ft),i=>o(_(")"),s=>o(ke(),u=>x(i)))))),r=>{let i=xt(r,t,(s,u)=>new hi(s,u));return x(i)}))))}function bi(){return o(_("\\"),e=>o(ke(),t=>o(xn(),n=>o(ke(),r=>o(_("."),i=>o(ke(),s=>o(M(ft),u=>x(new gn(n,u)))))))))}function gi(){return o(_("("),e=>o(M(ft),t=>o(_(")"),n=>x(t))))}function $i(e){let t=y(kt(mn(ft(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(yi(new $n(0),n),r=>{let i=mi(r);return new c(xe(i))}));return _i(t)}class kn extends p{constructor(t){super(),this[0]=t}}class An extends p{constructor(t){super(),this[0]=t}}class In extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class En extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class On extends p{}class vn extends p{}class Vt extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class xi extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Ln extends p{constructor(t){super(),this.int=t}}class fe extends p{constructor(t,n){super(),this.val=t,this.gen=n}}class ge extends p{constructor(t){super(),this[0]=t}}class F extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class S extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Q extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class O extends p{}class G extends p{}class N extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class de extends p{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function ki(){let e=yn(Wt()),t=V(e,lt),n=V(t,Zt),r=V(n,i=>en(i,()=>{throw it("panic","tinytypedlang",24,"","parsed int isn't an int",{})}));return V(r,i=>new kn(i))}function ot(){return o(Bt(),e=>o(we($e(Ue(),_("_"))),t=>x(e+lt(t))))}function Ai(){let e=ot();return V(e,t=>new An(t))}function Ii(){return o(be("Type"),e=>o(zt($e(Ue(),_("_"))),t=>x(new On)))}function Ei(){return o(be("Int"),e=>o(zt($e(Ue(),_("_"))),t=>x(new vn)))}function P(){return o(we(Ve(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function yt(e,t){return t(new Ln(e.int+1),e.int)}function X(e,t,n){if(t instanceof kn){let r=t[0];return new c(new fe(new ge(r),e))}else if(t instanceof An){let r=t[0],i=qe(n,r);if(i.isOk()){let s=i[0];return new c(new fe(new F(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof In){let r=t[0],i=t[1],s=t[2];return yt(e,(u,l)=>y(X(u,s,T(n,r,l)),f=>y((()=>{if(i instanceof k){let h=i[0];return he(X(u,h,n),g=>[new k(g.val),g.gen])}else return new c([new H,u])})(),h=>{let g=h[0],L=h[1],A=new S(l,r,g,f.val),ee=new fe(A,L);return new c(ee)})))}else if(t instanceof En){let r=t[0],i=t[1];return y(X(e,r,n),s=>y(X(s.gen,i,n),u=>{let l=new Q(s.val,u.val),f=new fe(l,u.gen);return new c(f)}))}else{if(t instanceof On)return new c(new fe(new O,e));if(t instanceof vn)return new c(new fe(new G,e));if(t instanceof Vt){let r=t[0],i=t[1],s=t[2];return yt(e,(u,l)=>y(X(u,i,n),f=>y(X(f.gen,s,T(n,r,l)),h=>{let g=new N(l,r,f.val,h.val),L=new fe(g,h.gen);return new c(L)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return yt(e,(l,f)=>y((()=>{if(i instanceof k){let h=i[0];return he(X(l,h,n),g=>[new k(g.val),g.gen])}else return new c([new H,l])})(),h=>{let g=h[0],L=h[1],A=T(n,r,f);return y(X(L,s,A),ee=>y(X(ee.gen,u,A),Fe=>{let Sn=new de(f,r,g,ee.val,Fe.val),Cn=new fe(Sn,Fe.gen);return new c(Cn)}))}))}}}function Oi(e,t){return y(X(e,t,Ee()),n=>new c(n.val))}function ct(e,t,n){let r=i=>ct(i,t,n);if(e instanceof ge){let i=e[0];return new ge(i)}else if(e instanceof F){let i=e[0];return t===i?n:e}else if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];return new S(i,s,Ft(u,r),r(l))}else if(e instanceof Q){let i=e[0],s=e[1];return new Q(r(i),r(s))}else{if(e instanceof O)return new O;if(e instanceof G)return new G;if(e instanceof N){let i=e[0],s=e[1],u=e[2],l=e[3];return new N(i,s,r(u),r(l))}else{let i=e[0],s=e[1],u=e[2],l=e[3],f=e[4];return new de(i,s,Ft(u,r),r(l),r(f))}}}function ie(e,t){for(;;){let n=e,r=t;if(n instanceof ge)return n;if(n instanceof F){let i=n[0],s=qe(r,i);return s.isOk()?s[0]:n}else if(n instanceof Q){let i=n[0],s=n[1],u=ie(i,r),l=ie(s,r);if(u instanceof S){let f=u[0];e=u[3],t=T(r,f,l)}else return new Q(u,l)}else{if(n instanceof O)return new O;if(n instanceof G)return new G;if(n instanceof de){let i=n[0],s=n[3];e=n[4],t=T(r,i,ie(s,r))}else if(n instanceof S){let i=n[0],s=n[1],u=n[2],l=n[3];return new S(i,s,u,ie(l,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new N(i,s,ie(u,r),ie(l,r))}}}}function tt(e,t,n){let r=ie(e,n),i=ie(t,n);if(r instanceof F&&i instanceof F){let s=r[0],u=i[0];return s===u}else{if(r instanceof G&&i instanceof G)return!0;if(r instanceof O&&i instanceof O)return!0;if(r instanceof N&&i instanceof N){let s=r[0],u=r[1],l=r[2],f=r[3],h=i[0],g=i[2],L=i[3];return tt(l,g,n)&&tt(ct(L,h,new F(s,u)),f,n)}else return!1}}function vi(e){return ie(e,Ee())}function W(e,t){for(;;){let n=e,r=t;if(r instanceof F)return r[0]===n;if(r instanceof S&&r[2]instanceof k){let i=r[2][0],s=r[3];return W(n,i)||W(n,s)}else if(r instanceof S&&r[2]instanceof H){let i=r[3];e=n,t=i}else if(r instanceof Q){let i=r[0],s=r[1];return W(n,i)||W(n,s)}else if(r instanceof N){let i=r[2],s=r[3];return W(n,i)||W(n,s)}else if(r instanceof de&&r[2]instanceof k){let i=r[2][0],s=r[3],u=r[4];return W(n,i)||W(n,s)||W(n,u)}else if(r instanceof de&&r[2]instanceof H){let i=r[3],s=r[4];return W(n,i)||W(n,s)}else return!1}}function w(e){if(e instanceof ge){let t=e[0];return Be(t)}else{if(e instanceof F)return e[1];if(e instanceof S&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3];return"\\"+t+": "+w(n)+". "+w(r)}else if(e instanceof S&&e[2]instanceof H){let t=e[1],n=e[3];return"\\"+t+". "+w(n)}else if(e instanceof Q&&e[0]instanceof S){let t=e[0],n=e[1];return"("+w(t)+")("+w(n)+")"}else if(e instanceof Q){let t=e[0],n=e[1];return w(t)+"("+w(n)+")"}else{if(e instanceof O)return"Type";if(e instanceof G)return"Int";if(e instanceof N){let t=e[0],n=e[1],r=e[2],i=e[3];return W(t,i)?"forall "+n+": "+w(r)+". "+w(i):r instanceof ge||r instanceof F||r instanceof O||r instanceof G?w(r)+"->"+w(i):(r instanceof S||r instanceof Q||r instanceof N,"("+w(r)+") -> "+w(i))}else if(e instanceof de&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3],i=e[4];return"let "+t+": "+w(n)+" = "+w(r)+`;
`+w(i)}else{let t=e[1],n=e[3],r=e[4];return"let "+t+" = "+w(n)+`;
`+w(r)}}}}function Li(e){return e.isOk(),e[0]}function Le(e,t,n,r){if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];if(t instanceof N){let f=t[0],h=t[2],g=t[3];return y(Le(l,ct(g,f,new F(i,s)),T(n,i,h),r),L=>{if(u instanceof k){let A=u[0];return tt(A,h,r)?new c(void 0):new m("Type mismatch in lambda parameter. Expected "+w(h)+" but found "+w(A)+".")}else return new c(void 0)})}else return new m("Type mismatch. Expected "+w(t)+" but found a lambda.")}else return y(ye(e,n,r),i=>tt(i,t,r)?new c(void 0):new m("Type mismatch. Expected "+w(t)+" but found "+w(i)+"."))}function ye(e,t,n){if(e instanceof ge)return new c(new G);if(e instanceof F){let r=e[0],i=e[1];return Qt(qe(t,r),s=>"Variable "+i+" is not defined in the current context.")}else if(e instanceof Q){let r=e[0],i=e[1];return y(ye(r,t,n),s=>{if(s instanceof N){let u=s[0],l=s[2],f=s[3];return y(Le(i,l,t,n),h=>new c(ct(f,u,i)))}else return new m("Type error. Expected a function type, but found "+w(s))})}else if(e instanceof N){let r=e[0],i=e[2],s=e[3];return y(Le(i,new O,t,n),u=>y(Le(s,new O,T(t,r,i),n),l=>new c(new O)))}else{if(e instanceof G)return new c(new O);if(e instanceof O)return new c(new O);if(e instanceof de&&e[2]instanceof k){let r=e[0],i=e[2][0],s=e[3],u=e[4];return y(Le(s,i,t,n),l=>ye(u,T(t,r,i),T(n,r,s)))}else if(e instanceof de&&e[2]instanceof H){let r=e[0],i=e[3],s=e[4];return y(ye(i,t,n),u=>ye(s,T(t,r,u),T(n,r,i)))}else if(e instanceof S&&e[2]instanceof k){let r=e[0],i=e[1],s=e[2][0],u=e[3];return y(ye(u,T(t,r,s),n),l=>new c(new N(r,i,s,l)))}else return new m("Type error. Can't infer the type of this lambda. Try annotating it with a `let` expression.")}}function D(){return o(P(),e=>o(Ve(a([ki(),Ii(),Ei(),Ti(),Ci(),Ai(),Si(),Ri()])),t=>o(P(),n=>o(we(o(_("("),r=>o(M(D),i=>o(_(")"),s=>o(P(),u=>x(i)))))),r=>{let i=xt(r,t,(s,u)=>new En(s,u));return o(Nt(be("->")),s=>o((()=>s.isOk()?o(M(D),u=>x(new Vt("_",i,u))):x(i))(),u=>x(u)))}))))}function Ti(){return o(be("forall"),e=>o(zt($e(Ue(),_("_"))),t=>o(P(),n=>o(ot(),r=>o(P(),i=>o(_(":"),s=>o(P(),u=>o(M(D),l=>o(_("."),f=>o(M(D),h=>x(new Vt(r,l,h))))))))))))}function Si(){return o(_("\\"),e=>o(P(),t=>o(ot(),n=>o(P(),r=>o(Nt(_(":")),i=>o((()=>i.isOk()?V(M(D),s=>new k(s)):x(new H))(),s=>o(_("."),u=>o(P(),l=>o(M(D),f=>x(new In(n,s,f)))))))))))}function Ci(){return o(be("let "),e=>o(P(),t=>o(ot(),n=>o(P(),r=>o(Nt(_(":")),i=>o((()=>i.isOk()?V(M(D),s=>new k(s)):x(new H))(),s=>o(be("="),u=>o(M(D),l=>o(_(";"),f=>o(M(D),h=>x(new xi(n,s,l,h))))))))))))}function Ri(){return o(_("("),e=>o(M(D),t=>o(_(")"),n=>x(t))))}function Mi(e){let t=y(kt(mn(D(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(Oi(new Ln(0),n),r=>y(ye(r,Ee(),Ee()),i=>{let s=vi(r);return new c(w(s))})));return Li(t)}class nt extends p{constructor(t,n){super(),this.code=t,this.is_typed=n}}class Tn extends p{constructor(t){super(),this[0]=t}}class Ni extends p{constructor(t){super(),this[0]=t}}function zi(e){return new nt("",!1)}function Bi(e,t){if(t instanceof Tn){let n=t[0];return new nt(n,e.is_typed)}else{let n=t[0];return new nt(e.code,n)}}function Wi(e){return Pe(a([]),a([wt(a([]),a([d("Who I Am")])),De(a([]),a([d("I'm Ryan Brewer, the software developer behind "),te(a([K("https://github.com/RyanBrewer317/SaberVM")]),a([d("SaberVM")])),d(`,
an abstract machine for safe, portable computation that functional languages can compile to. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, both informationally and financially. 
Consider supporting my work!
`)])),ni(a([Kt("https://github.com/sponsors/RyanBrewer317/button"),ae("title","Sponsor RyanBrewer317"),Pr(32),Dr(114),qr(a([["border","0"],["border-radius","6px;"]]))])),Pe(a([ve("kofi"),K("https://ko-fi.com/ryanbrewer")]),a([ti(a([Kt("/kofi-logo.png"),Hr("Ko-fi logo"),ve("kofi-logo")])),Qr(a([]),a([d("Buy me a coffee!")]))])),wt(a([]),a([d("My Website")])),De(a([]),a([d("This is my website. It's hosted by Firebase and written mostly in "),te(a([K("https://gleam.run")]),a([d("Gleam")])),d(", and the code is up on my "),te(a([K("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([d("github")])),d(". The only framework used is "),te(a([K("https://lustre.build/")]),a([d("Lustre")])),d("; scripting, markup, styles, and layout were all done by hand.")])),wt(a([]),a([d("Lambda Calculus in Gleam")])),De(a([]),a([d(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),te(a([K("https://gleam.run")]),a([d("Gleam")])),d(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),ne(a([]),a([d("\\var. body")])),d(", and are called like "),ne(a([]),a([d("fun(arg)")])),d(". There are also positive integers like 7. Try writing "),ne(a([]),a([d("(\\x.x)(2)")])),d(", which evaluates to 2. The code for this can be found "),te(a([K("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([d("here")])),d(".")])),De(a([]),a([d(`Want types in your lambda calculus?
You can check the box below to switch to a version with a fancy dependent type system!
Type annotations are introduced by `),ne(a([]),a([d("let")])),d("-bindings, like "),ne(a([]),a([d("let x: A = v; e")])),d(", lambdas, like "),ne(a([]),a([d("\\x: A. e")])),d(", and Pi types, like "),ne(a([]),a([d("forall x: A. B")])),d(". For lambdas and bindings, the types can often be "),te(a([K("https://ncatlab.org/nlab/show/bidirectional+typechecking")]),a([d("inferred")])),d(". The type of types is "),ne(a([]),a([d("Type")])),d(", whose type is "),te(a([K("https://cs.brown.edu/courses/cs1951x/docs/logic/girard.html")]),a([d("also "),ne(a([]),a([d("Type")]))])),d(". The code for this extended evaluator can be found "),te(a([K("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),a([d("here")])),d(".")])),ri(a([Vr("checkbox"),ve("is-typed"),fi(t=>new Ni(t))])),ii(a([Fr("is-typed")]),a([d("dependent types")])),Xt(a([])),si(a([ve("code"),Ur((()=>e.is_typed?"Play with dependent types! Example: let id: forall a: Type. a->a = \\a.\\x.x; id(Int)(3)":"Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)")()),li(t=>new Tn(t))])),Xt(a([])),(()=>{if(e instanceof nt&&e.code==="")return d("");{let t=e.code,n=(()=>e.is_typed?Mi(t):$i(t))();return(r=>Pe(a([]),a([ei(a([]),a([d("output ")])),d(" (variables may be renamed): "),Pe(a([ve("code-output")]),a([d(r)]))])))(n)}})()]))}function ji(){let e=Zr(zi,Bi,Wi),t=Nr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw it("assignment_no_match","ryanbrewerdev",15,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{ji()});
