var ft=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var b=(e,t,n)=>(ft(e,t,"read from private field"),n?n.call(e):t.get(e)),j=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$=(e,t,n,r)=>(ft(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var ve=(e,t,n)=>(ft(e,t,"access private method"),n);import"./style-d8333133.js";class p{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class fe{static fromArray(t,n){let r=n||new tt;for(let i=t.length-1;i>=0;--i)r=new Qt(t[i],r);return r}[Symbol.iterator](){return new Nn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function Ne(e,t){return new Qt(e,t)}function a(e,t){return fe.fromArray(e,t)}var me;class Nn{constructor(t){j(this,me,void 0);$(this,me,t)}next(){if(b(this,me)instanceof tt)return{done:!0};{let{head:t,tail:n}=b(this,me);return $(this,me,n),{value:t,done:!1}}}}me=new WeakMap;class tt extends fe{}class Qt extends fe{constructor(t,n){super(),this.head=t,this.tail=n}}class Ye{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return jn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return zn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Ye(this.buffer.slice(t,n))}sliceAfter(t){return new Ye(this.buffer.slice(t))}}function zn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function jn(e){return new Float64Array(e.reverse().buffer)[0]}class ze extends p{static isResult(t){return t instanceof ze}}class c extends ze{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends ze{constructor(t){super(),this[0]=t}isOk(){return!1}}function de(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Ut(r)||!Ut(i)||!Dn(r,i)||Wn(r,i)||qn(r,i)||Vn(r,i)||Un(r,i)||Fn(r,i)||Pn(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,o]=Bn(r);for(let h of l(r))n.push(o(r,h),o(i,h))}return!0}function Bn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function Wn(e,t){return e instanceof Date&&(e>t||e<t)}function qn(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Vn(e,t){return Array.isArray(e)&&e.length!==t.length}function Un(e,t){return e instanceof Map&&e.size!==t.size}function Fn(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Pn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ut(e){return typeof e=="object"&&e!==null}function Dn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function nt(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class k extends p{constructor(t){super(),this[0]=t}}class Y extends p{}function Hn(e,t){if(e instanceof k){let n=e[0];return new c(n)}else return new m(t)}function Ft(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new Y}function en(e){return _r(e)}function kt(e){return br(e)}function Gn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=Ne(i,r)}}}function Yn(e){return Gn(e,a([]))}function Kn(e){return Yn(e)}function Xn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Kn(s);{let u=r.head;e=r.tail,t=i,n=Ne(i(u),s)}}}function Jn(e,t){return Xn(e,t,a([]))}function tn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function ce(e,t){if(e.isOk()){let n=e[0];return new c(t(n))}else{let n=e[0];return new m(n)}}function nn(e,t){if(e.isOk()){let n=e[0];return new c(n)}else{let n=e[0];return new m(t(n))}}function y(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function rn(e,t){return e.isOk()?e[0]:t()}function Zn(e,t){return e.isOk()?e:t}function At(e,t){if(e.isOk()){let n=e[0];return new c(n)}else return new m(t)}function sn(e){return xr(e)}function un(e){return e}class It extends p{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function ln(e){return e}function an(e){return Er(e)}function on(e){return yn(e)}function Qn(e){return Or(e)}function er(e){return vr(e)}function fn(e){return t=>{if(e.hasLength(0))return new m(a([new It("another type",on(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new c(s)}else return fn(r)(t)}}}function tr(e,t){let n=ln(t),r=fn(a([an,s=>ce(Qn(s),kt)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",on(n),">"]),l=sn(u);return un(l)}})();return e.withFields({path:Ne(i,e.path)})}function nr(e,t){return nn(e,n=>Jn(n,t))}function Ke(e,t){return n=>{let r=new It("field","nothing",a([]));return y(Lr(n,e),i=>{let u=Hn(i,a([r])),l=y(u,t);return nr(l,o=>tr(o,e))})}}const Pt=new WeakMap,ct=new DataView(new ArrayBuffer(8));let ht=0;function _t(e){const t=Pt.get(e);if(t!==void 0)return t;const n=ht++;return ht===2147483647&&(ht=0),Pt.set(e,n),n}function bt(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Et(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function cn(e){ct.setFloat64(0,e);const t=ct.getInt32(0),n=ct.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function rr(e){return Et(e.toString())}function ir(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return _t(e);if(e instanceof Date)return cn(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+W(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+W(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+bt(W(r),W(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+bt(W(u),Et(s))|0}}return n}function W(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return cn(e);case"string":return Et(e);case"bigint":return rr(e);case"object":return ir(e);case"symbol":return _t(e);case"function":return _t(e);default:return 0}}const Q=5,Ot=Math.pow(2,Q),sr=Ot-1,ur=Ot/2,lr=Ot/4,v=0,Z=1,R=2,_e=3,vt={type:R,bitmap:0,array:[]};function je(e,t){return e>>>t&sr}function rt(e,t){return 1<<je(e,t)}function ar(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Lt(e,t){return ar(e&t-1)}function q(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function or(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function gt(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function hn(e,t,n,r,i,s){const u=W(t);if(u===r)return{type:_e,hash:u,array:[{type:v,k:t,v:n},{type:v,k:i,v:s}]};const l={val:!1};return Be(Tt(vt,e,u,t,n,l),e,r,i,s,l)}function Be(e,t,n,r,i,s){switch(e.type){case Z:return fr(e,t,n,r,i,s);case R:return Tt(e,t,n,r,i,s);case _e:return cr(e,t,n,r,i,s)}}function fr(e,t,n,r,i,s){const u=je(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:Z,size:e.size+1,array:q(e.array,u,{type:v,k:r,v:i})};if(l.type===v)return de(r,l.k)?i===l.v?e:{type:Z,size:e.size,array:q(e.array,u,{type:v,k:r,v:i})}:(s.val=!0,{type:Z,size:e.size,array:q(e.array,u,hn(t+Q,l.k,l.v,n,r,i))});const o=Be(l,t+Q,n,r,i,s);return o===l?e:{type:Z,size:e.size,array:q(e.array,u,o)}}function Tt(e,t,n,r,i,s){const u=rt(n,t),l=Lt(e.bitmap,u);if(e.bitmap&u){const o=e.array[l];if(o.type!==v){const g=Be(o,t+Q,n,r,i,s);return g===o?e:{type:R,bitmap:e.bitmap,array:q(e.array,l,g)}}const h=o.k;return de(r,h)?i===o.v?e:{type:R,bitmap:e.bitmap,array:q(e.array,l,{type:v,k:r,v:i})}:(s.val=!0,{type:R,bitmap:e.bitmap,array:q(e.array,l,hn(t+Q,h,o.v,n,r,i))})}else{const o=e.array.length;if(o>=ur){const h=new Array(32),g=je(n,t);h[g]=Tt(vt,t+Q,n,r,i,s);let T=0,A=e.bitmap;for(let te=0;te<32;te++){if(A&1){const Ue=e.array[T++];h[te]=Ue}A=A>>>1}return{type:Z,size:o+1,array:h}}else{const h=or(e.array,l,{type:v,k:r,v:i});return s.val=!0,{type:R,bitmap:e.bitmap|u,array:h}}}}function cr(e,t,n,r,i,s){if(n===e.hash){const u=St(e,r);if(u!==-1)return e.array[u].v===i?e:{type:_e,hash:n,array:q(e.array,u,{type:v,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:_e,hash:n,array:q(e.array,l,{type:v,k:r,v:i})}}return Be({type:R,bitmap:rt(e.hash,t),array:[e]},t,n,r,i,s)}function St(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(de(t,e.array[r].k))return r;return-1}function Xe(e,t,n,r){switch(e.type){case Z:return hr(e,t,n,r);case R:return dr(e,t,n,r);case _e:return pr(e,r)}}function hr(e,t,n,r){const i=je(n,t),s=e.array[i];if(s!==void 0){if(s.type!==v)return Xe(s,t+Q,n,r);if(de(r,s.k))return s}}function dr(e,t,n,r){const i=rt(n,t);if(!(e.bitmap&i))return;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==v)return Xe(u,t+Q,n,r);if(de(r,u.k))return u}function pr(e,t){const n=St(e,t);if(!(n<0))return e.array[n]}function Ct(e,t,n,r){switch(e.type){case Z:return wr(e,t,n,r);case R:return yr(e,t,n,r);case _e:return mr(e,r)}}function wr(e,t,n,r){const i=je(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===v){if(!de(s.k,r))return e}else if(u=Ct(s,t+Q,n,r),u===s)return e;if(u===void 0){if(e.size<=lr){const l=e.array,o=new Array(e.size-1);let h=0,g=0,T=0;for(;h<i;){const A=l[h];A!==void 0&&(o[g]=A,T|=1<<h,++g),++h}for(++h;h<l.length;){const A=l[h];A!==void 0&&(o[g]=A,T|=1<<h,++g),++h}return{type:R,bitmap:T,array:o}}return{type:Z,size:e.size-1,array:q(e.array,i,u)}}return{type:Z,size:e.size,array:q(e.array,i,u)}}function yr(e,t,n,r){const i=rt(n,t);if(!(e.bitmap&i))return e;const s=Lt(e.bitmap,i),u=e.array[s];if(u.type!==v){const l=Ct(u,t+Q,n,r);return l===u?e:l!==void 0?{type:R,bitmap:e.bitmap,array:q(e.array,s,l)}:e.bitmap===i?void 0:{type:R,bitmap:e.bitmap^i,array:gt(e.array,s)}}return de(r,u.k)?e.bitmap===i?void 0:{type:R,bitmap:e.bitmap^i,array:gt(e.array,s)}:e}function mr(e,t){const n=St(e,t);if(n<0)return e;if(e.array.length!==1)return{type:_e,hash:e.hash,array:gt(e.array,n)}}function dn(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===v){t(s.v,s.k);continue}dn(s,t)}}}class P{static fromObject(t){const n=Object.keys(t);let r=P.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=P.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new P(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=Xe(this.root,0,W(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?vt:this.root,s=Be(i,0,W(t),t,n,r);return s===this.root?this:new P(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Ct(this.root,0,W(t),t);return n===this.root?this:n===void 0?P.new():new P(n,this.size-1)}has(t){return this.root===void 0?!1:Xe(this.root,0,W(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){dn(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+bt(W(n),W(r))|0}),t}equals(t){if(!(t instanceof P)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&de(t.get(i,!r),r)}),n}}const Mt=void 0,Dt={};function _r(e){return/^[-+]?(\d+)$/.test(e)?new c(parseInt(e)):new m(Mt)}function br(e){return e.toString()}function gr(e){const t=pn(e);return t?fe.fromArray(Array.from(t).map(n=>n.segment)):fe.fromArray(e.match(/./gsu))}function pn(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function $r(e){var r,i;let t;const n=pn(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new c([t,e.slice(t.length)]):new m(Mt)}function xr(e){let t="";for(const n of e)t=t+n;return t}function Rt(e,t){return e.indexOf(t)>=0}function kr(){return P.new()}function wn(e,t){const n=e.get(t,Dt);return n===Dt?new m(Mt):new c(n)}function Ar(e,t,n){return n.set(e,t)}function yn(e){if(typeof e=="string")return"String";if(e instanceof ze)return"Result";if(e instanceof fe)return"List";if(e instanceof Ye)return"BitArray";if(e instanceof P)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function it(e,t){return Ir(e,yn(t))}function Ir(e,t){return new m(fe.fromArray([new It(e,t,fe.fromArray([]))]))}function Er(e){return typeof e=="string"?new c(e):it("String",e)}function Or(e){return Number.isInteger(e)?new c(e):it("Int",e)}function vr(e){return typeof e=="boolean"?new c(e):it("Bool",e)}function Lr(e,t){const n=()=>it("Dict",e);if(e instanceof P||e instanceof WeakMap||e instanceof Map){const r=wn(e,t);return new c(r.isOk()?new k(r[0]):new Y)}else return Object.getPrototypeOf(e)==Object.prototype?Ht(e,t,()=>new c(new Y)):Ht(e,t,n)}function Ht(e,t,n){try{return t in e?new c(new k(e[t])):n()}catch{return n()}}function Oe(){return kr()}function We(e,t){return wn(e,t)}function S(e,t,n){return Ar(t,n,e)}function Tr(e,t){return n=>t(e(n))}class Sr extends p{constructor(t){super(),this.all=t}}function Gt(){return new Sr(a([]))}function re(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?Cr(e,t,n,r):Yt(e,t,n,r)}return t!=null&&t.tag?Yt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?Rr(e,t):Mr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function Yt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?Te(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?Te(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&Te(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new tt,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const o of u)i.appendChild(re(null,o,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(re(null,u,n,i));return e&&e.replaceWith(i),i}function Cr(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const o=s.get(u);o!==l&&(Te(e,u,o,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)Te(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new tt,o=r;for(;o;)if(o._slot){l=o._slot;break}else o=o.parentNode;for(;u;)Array.isArray(l)&&l.length?re(u,l.shift(),n,e):l.head&&(re(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const h of l)e.appendChild(re(null,h,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const o=u.nextSibling;re(u,l.shift(),n,e),u=o}else if(l.head){const o=u.nextSibling;re(u,l.head,n,e),l=l.tail,u=o}else{const o=u.nextSibling;u.remove(),u=o}for(const o of l)e.appendChild(re(null,o,n,e))}return e}function Te(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>ce(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function Mr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function Rr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var M,se,ue,le,oe,Ce,Ie,Ee,Me,$t,Re,xt;class Nr{constructor(t,n,r){j(this,Me);j(this,Re);j(this,M,null);j(this,se,null);j(this,ue,[]);j(this,le,[]);j(this,oe,!1);j(this,Ce,null);j(this,Ie,null);j(this,Ee,null);$(this,Ce,t),$(this,Ie,n),$(this,Ee,r)}start(t,n){if(!Br())return new m(new Xr);if(b(this,M))return new m(new Gr);if($(this,M,t instanceof HTMLElement?t:document.querySelector(t)),!b(this,M))return new m(new Kr);const[r,i]=b(this,Ce).call(this,n);return $(this,se,r),$(this,le,i.all.toArray()),$(this,oe,!0),window.requestAnimationFrame(()=>ve(this,Me,$t).call(this)),new c(s=>this.dispatch(s))}dispatch(t){b(this,ue).push(t),ve(this,Me,$t).call(this)}emit(t,n=null){b(this,M).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!b(this,M))return new m(new Yr);b(this,M).remove(),$(this,M,null),$(this,se,null),$(this,ue,[]),$(this,le,[]),$(this,oe,!1),$(this,Ie,()=>{}),$(this,Ee,()=>{})}}M=new WeakMap,se=new WeakMap,ue=new WeakMap,le=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ee=new WeakMap,Me=new WeakSet,$t=function(){if(ve(this,Re,xt).call(this),b(this,oe)){const t=b(this,Ee).call(this,b(this,se));$(this,M,re(b(this,M),t,n=>this.dispatch(n))),$(this,oe,!1)}},Re=new WeakSet,xt=function(t=0){if(b(this,M)){if(b(this,ue).length)for(;b(this,ue).length;){const[n,r]=b(this,Ie).call(this,b(this,se),b(this,ue).shift());b(this,oe)||$(this,oe,b(this,se)!==n),$(this,se,n),$(this,le,b(this,le).concat(r.all.toArray()))}for(;b(this,le).length;)b(this,le).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));b(this,ue).length&&(t>=5?console.warn(tooManyUpdates):ve(this,Re,xt).call(this,++t))}};const zr=(e,t,n)=>new Nr(e,t,n),jr=(e,t,n)=>e.start(t,n),Br=()=>window&&window.document;function st(e){let n=sn(e);return un(n)}function Wr(e){return $r(e)}class qr extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class Vr extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}function $e(e,t){return new qr(e,ln(t),!1)}function Ur(e,t){return new Vr("on"+e,Tr(t,n=>At(n,void 0)))}function we(e){return $e("id",e)}function Fr(e){return $e("type",e)}function Pr(e){return $e("placeholder",e)}function Dr(e){return $e("for",e)}function U(e){return $e("href",e)}function dt(e){return $e("src",e)}function Kt(e){return $e("alt",e)}class Hr extends p{constructor(t){super(),this.content=t}}class E extends p{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function L(e,t,n){return e==="area"?new E("",e,t,a([]),!1,!0):e==="base"?new E("",e,t,a([]),!1,!0):e==="br"?new E("",e,t,a([]),!1,!0):e==="col"?new E("",e,t,a([]),!1,!0):e==="embed"?new E("",e,t,a([]),!1,!0):e==="hr"?new E("",e,t,a([]),!1,!0):e==="img"?new E("",e,t,a([]),!1,!0):e==="input"?new E("",e,t,a([]),!1,!0):e==="link"?new E("",e,t,a([]),!1,!0):e==="meta"?new E("",e,t,a([]),!1,!0):e==="param"?new E("",e,t,a([]),!1,!0):e==="source"?new E("",e,t,a([]),!1,!0):e==="track"?new E("",e,t,a([]),!1,!0):e==="wbr"?new E("",e,t,a([]),!1,!0):new E("",e,t,n,!1,!1)}function d(e){return new Hr(e)}class Gr extends p{}class Yr extends p{}class Kr extends p{}class Xr extends p{}function Jr(e,t,n){return zr(s=>[e(s),Gt()],(s,u)=>[t(s,u),Gt()],n)}function pt(e,t){return L("h3",e,t)}function wt(e,t){return L("div",e,t)}function Fe(e,t){return L("p",e,t)}function F(e,t){return L("a",e,t)}function Xt(e){return L("br",e,a([]))}function ne(e,t){return L("code",e,t)}function Jt(e,t){return L("span",e,t)}function Zr(e,t){return L("strong",e,t)}function yt(e){return L("img",e,a([]))}function Qr(e,t){return L("table",e,t)}function Zt(e,t){return L("td",e,t)}function ei(e,t){return L("tr",e,t)}function ti(e){return L("input",e,a([]))}function ni(e,t){return L("label",e,t)}function ri(e){return L("textarea",e,a([]))}function mn(e,t){return Ur(e,t)}function ii(e){let t=e;return Ke("target",Ke("value",an))(t)}function si(e){return mn("input",t=>{let n=ii(t);return ce(n,e)})}function ui(e){let t=e;return Ke("target",Ke("checked",er))(t)}function li(e){return mn("change",t=>{let n=ui(t);return ce(n,e)})}class Je extends p{constructor(t){super(),this.error=t}}class De extends p{constructor(t,n){super(),this.row=t,this.col=n}}class X extends p{constructor(t){super(),this.parse=t}}function I(e,t,n){let r=e.parse;return r(t,n)}function ut(e){return new X((t,n)=>{if(!(n instanceof De))throw nt("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new c([s,u,new De(r+1,0)]):new c([s,u,new De(r,i+1)]):new m(new Je(s))}else return new m(new Je("EOF"))})}function _(e){return ut(t=>e===t)}function xe(e,t){return new X((n,r)=>Zn(I(e,n,r),I(t,n,r)))}function qe(e){return new X((t,n)=>{if(e.hasLength(0))return new m(new Je("choiceless choice"));if(e.hasLength(1)){let r=e.head;return I(r,t,n)}else{let r=e.head,i=e.tail,s=I(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],o=s[0][2];return new c([u,l,o])}else return I(qe(i),t,n)}})}function pe(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return ce(I(pe(e),s,u),l=>[Ne(i,l[0]),l[1],l[2]])}else return new c([a([]),t,n])})}function _n(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return ce(I(pe(e),s,u),l=>[Ne(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function V(e,t){return new X((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new c([t(s),u,l])}else{let s=i[0];return new m(s)}})}function Nt(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new c([new c(i),s,u])}else return new c([new m(void 0),t,n])})}function zt(e){return new X((t,n)=>I(e,t,n).isOk()?new m(new Je("")):new c([void 0,t,n]))}function N(e){return new X((t,n)=>I(e(),t,n))}function f(e,t){return new X((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return I(t(s),u,l)}else{let s=i[0];return new m(s)}})}function x(e){return new X((t,n)=>new c([e,t,n]))}function be(e){let t=Wr(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return f(_(n),i=>f(be(r),s=>x(i+s)))}else return x("")}function bn(e,t){let n=I(e,gr(t),new De(1,1));if(n.isOk()){let r=n[0][0];return new c(r)}else{let r=n[0];return new m(r)}}function ai(){return ut(e=>Rt("abcdefghijklmnopqrstuvwxyz",e))}function oi(){return ut(e=>Rt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function jt(){return xe(ai(),oi())}function Bt(){return ut(e=>Rt("0123456789",e))}function Ve(){return xe(Bt(),jt())}let gn=class extends p{constructor(t){super(),this[0]=t}},$n=class extends p{constructor(t){super(),this[0]=t}},xn=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},fi=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},kn=class extends p{constructor(t){super(),this.int=t}},Pe=class extends p{constructor(t,n){super(),this.val=t,this.gen=n}},Wt=class extends p{constructor(t){super(),this[0]=t}},qt=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},Se=class extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},Ze=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}};function ci(){let e=_n(Bt()),t=V(e,st),n=V(t,en),r=V(n,i=>rn(i,()=>{throw nt("panic","tinylang",19,"","parsed int isn't an int",{})}));return V(r,i=>new gn(i))}function An(){return f(jt(),e=>f(pe(xe(Ve(),_("_"))),t=>x(e+st(t))))}function hi(){let e=An();return V(e,t=>new $n(t))}function Ae(){return f(pe(qe(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function di(e,t){return t(new kn(e.int+1),e.int)}function He(e,t,n){if(t instanceof gn){let r=t[0];return new c(new Pe(new Wt(r),e))}else if(t instanceof $n){let r=t[0],i=We(n,r);if(i.isOk()){let s=i[0];return new c(new Pe(new qt(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof xn){let r=t[0],i=t[1];return di(e,(s,u)=>y(He(s,i,S(n,r,u)),l=>{let o=new Se(u,r,l.val),h=new Pe(o,l.gen);return new c(h)}))}else{let r=t[0],i=t[1];return y(He(e,r,n),s=>y(He(s.gen,i,n),u=>{let l=new Ze(s.val,u.val),o=new Pe(l,u.gen);return new c(o)}))}}function pi(e,t){return y(He(e,t,Oe()),n=>new c(n.val))}function Ge(e,t){for(;;){let n=e,r=t;if(n instanceof Wt)return n;if(n instanceof qt){let i=n[0],s=We(r,i);return s.isOk()?s[0]:n}else if(n instanceof Ze){let i=n[0],s=n[1],u=Ge(i,r),l=Ge(s,r);if(u instanceof Se){let o=u[0];e=u[2],t=S(r,o,l)}else return new Ze(u,l)}else{let i=n[0],s=n[1],u=n[2];return new Se(i,s,Ge(u,r))}}}function wi(e){return Ge(e,Oe())}function ke(e){if(e instanceof Wt){let t=e[0];return kt(t)}else{if(e instanceof qt)return e[1];if(e instanceof Se){let t=e[1],n=e[2];return"\\"+t+". "+ke(n)}else if(e instanceof Ze&&e[0]instanceof Se){let t=e[0],n=e[1];return"("+ke(t)+")("+ke(n)+")"}else{let t=e[0],n=e[1];return ke(t)+"("+ke(n)+")"}}}function yi(e){return e.isOk(),e[0]}function lt(){return f(Ae(),e=>f(qe(a([ci(),hi(),mi(),_i()])),t=>f(Ae(),n=>f(pe(f(_("("),r=>f(N(lt),i=>f(_(")"),s=>f(Ae(),u=>x(i)))))),r=>{let i=tn(r,t,(s,u)=>new fi(s,u));return x(i)}))))}function mi(){return f(_("\\"),e=>f(Ae(),t=>f(An(),n=>f(Ae(),r=>f(_("."),i=>f(Ae(),s=>f(N(lt),u=>x(new xn(n,u)))))))))}function _i(){return f(_("("),e=>f(N(lt),t=>f(_(")"),n=>x(t))))}function bi(e){let t=y(At(bn(lt(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(pi(new kn(0),n),r=>{let i=wi(r);return new c(ke(i))}));return yi(t)}class In extends p{constructor(t){super(),this[0]=t}}class En extends p{constructor(t){super(),this[0]=t}}class On extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class vn extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class Ln extends p{}class Tn extends p{}class Vt extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class gi extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Sn extends p{constructor(t){super(),this.int=t}}class ae extends p{constructor(t,n){super(),this.val=t,this.gen=n}}class ge extends p{constructor(t){super(),this[0]=t}}class D extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class C extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class ee extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class O extends p{}class K extends p{}class z extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class he extends p{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function $i(){let e=_n(Bt()),t=V(e,st),n=V(t,en),r=V(n,i=>rn(i,()=>{throw nt("panic","tinytypedlang",24,"","parsed int isn't an int",{})}));return V(r,i=>new In(i))}function at(){return f(jt(),e=>f(pe(xe(Ve(),_("_"))),t=>x(e+st(t))))}function xi(){let e=at();return V(e,t=>new En(t))}function ki(){return f(be("Type"),e=>f(zt(xe(Ve(),_("_"))),t=>x(new Ln)))}function Ai(){return f(be("Int"),e=>f(zt(xe(Ve(),_("_"))),t=>x(new Tn)))}function H(){return f(pe(qe(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function mt(e,t){return t(new Sn(e.int+1),e.int)}function J(e,t,n){if(t instanceof In){let r=t[0];return new c(new ae(new ge(r),e))}else if(t instanceof En){let r=t[0],i=We(n,r);if(i.isOk()){let s=i[0];return new c(new ae(new D(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof On){let r=t[0],i=t[1],s=t[2];return mt(e,(u,l)=>y(J(u,s,S(n,r,l)),o=>y((()=>{if(i instanceof k){let h=i[0];return ce(J(u,h,n),g=>[new k(g.val),g.gen])}else return new c([new Y,o.gen])})(),h=>{let g=h[0],T=h[1],A=new C(l,r,g,o.val),te=new ae(A,T);return new c(te)})))}else if(t instanceof vn){let r=t[0],i=t[1];return y(J(e,r,n),s=>y(J(s.gen,i,n),u=>{let l=new ee(s.val,u.val),o=new ae(l,u.gen);return new c(o)}))}else{if(t instanceof Ln)return new c(new ae(new O,e));if(t instanceof Tn)return new c(new ae(new K,e));if(t instanceof Vt){let r=t[0],i=t[1],s=t[2];return mt(e,(u,l)=>y(J(u,i,n),o=>y(J(o.gen,s,S(n,r,l)),h=>{let g=new z(l,r,o.val,h.val),T=new ae(g,h.gen);return new c(T)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return mt(e,(l,o)=>y((()=>{if(i instanceof k){let h=i[0];return ce(J(l,h,n),g=>[new k(g.val),g.gen])}else return new c([new Y,l])})(),h=>{let g=h[0],T=h[1],A=S(n,r,o);return y(J(T,s,A),te=>y(J(te.gen,u,A),Ue=>{let Mn=new he(o,r,g,te.val,Ue.val),Rn=new ae(Mn,Ue.gen);return new c(Rn)}))}))}}}function Ii(e,t){return y(J(e,t,Oe()),n=>new c(n.val))}function ot(e,t,n){let r=i=>ot(i,t,n);if(e instanceof ge){let i=e[0];return new ge(i)}else if(e instanceof D){let i=e[0];return t===i?n:e}else if(e instanceof C){let i=e[0],s=e[1],u=e[2],l=e[3];return new C(i,s,Ft(u,r),r(l))}else if(e instanceof ee){let i=e[0],s=e[1];return new ee(r(i),r(s))}else{if(e instanceof O)return new O;if(e instanceof K)return new K;if(e instanceof z){let i=e[0],s=e[1],u=e[2],l=e[3];return new z(i,s,r(u),r(l))}else{let i=e[0],s=e[1],u=e[2],l=e[3],o=e[4];return new he(i,s,Ft(u,r),r(l),r(o))}}}function ie(e,t){for(;;){let n=e,r=t;if(n instanceof ge)return n;if(n instanceof D){let i=n[0],s=We(r,i);return s.isOk()?s[0]:n}else if(n instanceof ee){let i=n[0],s=n[1],u=ie(i,r),l=ie(s,r);if(u instanceof C){let o=u[0];e=u[3],t=S(r,o,l)}else return new ee(u,l)}else{if(n instanceof O)return new O;if(n instanceof K)return new K;if(n instanceof he){let i=n[0],s=n[3];e=n[4],t=S(r,i,ie(s,r))}else if(n instanceof C){let i=n[0],s=n[1],u=n[2],l=n[3];return new C(i,s,u,ie(l,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new z(i,s,ie(u,r),ie(l,r))}}}}function Qe(e,t,n){let r=ie(e,n),i=ie(t,n);if(r instanceof D&&i instanceof D){let s=r[0],u=i[0];return s===u}else{if(r instanceof K&&i instanceof K)return!0;if(r instanceof O&&i instanceof O)return!0;if(r instanceof z&&i instanceof z){let s=r[0],u=r[1],l=r[2],o=r[3],h=i[0],g=i[2],T=i[3];return Qe(l,g,n)&&Qe(ot(T,h,new D(s,u)),o,n)}else return!1}}function Ei(e){return ie(e,Oe())}function B(e,t){for(;;){let n=e,r=t;if(r instanceof D)return r[0]===n;if(r instanceof C&&r[2]instanceof k){let i=r[2][0],s=r[3];return B(n,i)||B(n,s)}else if(r instanceof C&&r[2]instanceof Y){let i=r[3];e=n,t=i}else if(r instanceof ee){let i=r[0],s=r[1];return B(n,i)||B(n,s)}else if(r instanceof z){let i=r[2],s=r[3];return B(n,i)||B(n,s)}else if(r instanceof he&&r[2]instanceof k){let i=r[2][0],s=r[3],u=r[4];return B(n,i)||B(n,s)||B(n,u)}else if(r instanceof he&&r[2]instanceof Y){let i=r[3],s=r[4];return B(n,i)||B(n,s)}else return!1}}function w(e){if(e instanceof ge){let t=e[0];return kt(t)}else{if(e instanceof D)return e[1];if(e instanceof C&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3];return"\\"+t+": "+w(n)+". "+w(r)}else if(e instanceof C&&e[2]instanceof Y){let t=e[1],n=e[3];return"\\"+t+". "+w(n)}else if(e instanceof ee&&e[0]instanceof C){let t=e[0],n=e[1];return"("+w(t)+")("+w(n)+")"}else if(e instanceof ee){let t=e[0],n=e[1];return w(t)+"("+w(n)+")"}else{if(e instanceof O)return"Type";if(e instanceof K)return"Int";if(e instanceof z){let t=e[0],n=e[1],r=e[2],i=e[3];return B(t,i)?"forall "+n+": "+w(r)+". "+w(i):r instanceof ge||r instanceof D||r instanceof O||r instanceof K?w(r)+"->"+w(i):(r instanceof C||r instanceof ee||r instanceof z,"("+w(r)+") -> "+w(i))}else if(e instanceof he&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3],i=e[4];return"let "+t+": "+w(n)+" = "+w(r)+`;
`+w(i)}else{let t=e[1],n=e[3],r=e[4];return"let "+t+" = "+w(n)+`;
`+w(r)}}}}function Oi(e){return e.isOk(),e[0]}function Le(e,t,n,r){if(e instanceof C){let i=e[0],s=e[1],u=e[2],l=e[3];if(t instanceof z){let o=t[0],h=t[2],g=t[3];return y(Le(l,ot(g,o,new D(i,s)),S(n,i,h),r),T=>{if(u instanceof k){let A=u[0];return Qe(A,h,r)?new c(void 0):new m("Type mismatch in lambda parameter. Expected "+w(h)+" but found "+w(A)+".")}else return new c(void 0)})}else return new m("Type mismatch. Expected "+w(t)+" but found a lambda.")}else return y(ye(e,n,r),i=>Qe(i,t,r)?new c(void 0):new m("Type mismatch. Expected "+w(t)+" but found "+w(i)+"."))}function ye(e,t,n){if(e instanceof ge)return new c(new K);if(e instanceof D){let r=e[0],i=e[1];return nn(We(t,r),s=>"Variable "+i+" is not defined in the current context.")}else if(e instanceof ee){let r=e[0],i=e[1];return y(ye(r,t,n),s=>{if(s instanceof z){let u=s[0],l=s[2],o=s[3];return y(Le(i,l,t,n),h=>new c(ot(o,u,i)))}else return new m("Type error. Expected a function type, but found "+w(s))})}else if(e instanceof z){let r=e[0],i=e[2],s=e[3];return y(Le(i,new O,t,n),u=>y(Le(s,new O,S(t,r,i),n),l=>new c(new O)))}else{if(e instanceof K)return new c(new O);if(e instanceof O)return new c(new O);if(e instanceof he&&e[2]instanceof k){let r=e[0],i=e[2][0],s=e[3],u=e[4];return y(Le(s,i,t,n),l=>ye(u,S(t,r,i),S(n,r,s)))}else if(e instanceof he&&e[2]instanceof Y){let r=e[0],i=e[3],s=e[4];return y(ye(i,t,n),u=>ye(s,S(t,r,u),S(n,r,i)))}else if(e instanceof C&&e[2]instanceof k){let r=e[0],i=e[1],s=e[2][0],u=e[3];return y(ye(u,S(t,r,s),n),l=>new c(new z(r,i,s,l)))}else return new m("Type error. Can't infer the type of this lambda. Try annotating it with a `let` expression.")}}function G(){return f(H(),e=>f(qe(a([$i(),ki(),Ai(),vi(),Ti(),xi(),Li(),Si()])),t=>f(H(),n=>f(pe(f(_("("),r=>f(N(G),i=>f(_(")"),s=>f(H(),u=>x(i)))))),r=>{let i=tn(r,t,(s,u)=>new vn(s,u));return f(Nt(be("->")),s=>f((()=>s.isOk()?f(N(G),u=>x(new Vt("_",i,u))):x(i))(),u=>x(u)))}))))}function vi(){return f(be("forall"),e=>f(zt(xe(Ve(),_("_"))),t=>f(H(),n=>f(at(),r=>f(H(),i=>f(_(":"),s=>f(H(),u=>f(N(G),l=>f(_("."),o=>f(N(G),h=>x(new Vt(r,l,h))))))))))))}function Li(){return f(_("\\"),e=>f(H(),t=>f(at(),n=>f(H(),r=>f(Nt(_(":")),i=>f((()=>i.isOk()?V(N(G),s=>new k(s)):x(new Y))(),s=>f(_("."),u=>f(H(),l=>f(N(G),o=>x(new On(n,s,o)))))))))))}function Ti(){return f(be("let "),e=>f(H(),t=>f(at(),n=>f(H(),r=>f(Nt(_(":")),i=>f((()=>i.isOk()?V(N(G),s=>new k(s)):x(new Y))(),s=>f(be("="),u=>f(N(G),l=>f(_(";"),o=>f(N(G),h=>x(new gi(n,s,l,h))))))))))))}function Si(){return f(_("("),e=>f(N(G),t=>f(_(")"),n=>x(t))))}function Ci(e){let t=y(At(bn(G(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(Ii(new Sn(0),n),r=>y(ye(r,Oe(),Oe()),i=>{let s=Ei(r);return new c(w(s))})));return Oi(t)}class et extends p{constructor(t,n){super(),this.code=t,this.is_typed=n}}class Cn extends p{constructor(t){super(),this[0]=t}}class Mi extends p{constructor(t){super(),this[0]=t}}function Ri(e){return new et("",!1)}function Ni(e,t){if(t instanceof Cn){let n=t[0];return new et(n,e.is_typed)}else{let n=t[0];return new et(e.code,n)}}function zi(e){return wt(a([]),a([Qr(a([]),a([ei(a([]),a([Zt(a([]),a([yt(a([dt("/ryan-and-ivy.jpg")]))])),Zt(a([]),a([pt(a([]),a([d("Me.")])),Fe(a([]),a([d(`I'm Ryan Brewer.
I'm a passionate software developer working on open-source software 
for safe, reliable, and portable applications.
I specialize in a formal methods approach to systems design, with a focus on ergonomics.
My current biggest project is `),F(a([U("https://github.com/RyanBrewer317/SaberVM")]),a([d("SaberVM")])),d(`,
a lightweight abstract machine for functional languages that aims 
to be formally memory-safe, fault-tolerant, and very small. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, 
both by taking it out of the ivory tower of academia and 
by removing the need for expensive hardware.
Consider supporting my work!
`)])),F(a([we("github"),U("https://github.com/sponsors/RyanBrewer317")]),a([yt(a([dt("/github-logo.png"),Kt("GitHub logo"),we("github-logo")])),Jt(a([]),a([d("Sponsor")]))])),F(a([we("kofi"),U("https://ko-fi.com/ryanbrewer")]),a([yt(a([dt("/kofi-logo.png"),Kt("Ko-fi logo"),we("kofi-logo")])),Jt(a([]),a([d("Support")]))]))]))]))])),pt(a([]),a([d("My Website")])),Fe(a([]),a([d("This is my website. It's hosted by Firebase and written mostly in "),F(a([U("https://gleam.run")]),a([d("Gleam")])),d(", and the code is up on my "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([d("github")])),d(". The only framework used is "),F(a([U("https://lustre.build/")]),a([d("Lustre")])),d("; scripting, markup, styles, and layout were all done by hand.")])),pt(a([]),a([d("Lambda Calculus in Gleam")])),Fe(a([]),a([d(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),F(a([U("https://gleam.run")]),a([d("Gleam")])),d(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),ne(a([]),a([d("\\var. body")])),d(", and are called like "),ne(a([]),a([d("fun(arg)")])),d(". There are also positive integers like 7. Try writing "),ne(a([]),a([d("(\\x.x)(2)")])),d(", which evaluates to 2. The code for this can be found "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([d("here")])),d(".")])),Fe(a([]),a([d(`Want types in your lambda calculus?
You can check the box below to switch to a version with a fancy dependent type system!
Type annotations are introduced by `),ne(a([]),a([d("let")])),d("-bindings, like "),ne(a([]),a([d("let x: A = v; e")])),d(", lambdas, like "),ne(a([]),a([d("\\x: A. e")])),d(", and Pi types, like "),ne(a([]),a([d("forall x: A. B")])),d(". For lambdas and bindings, the types can often be "),F(a([U("https://ncatlab.org/nlab/show/bidirectional+typechecking")]),a([d("inferred")])),d(". The type of types is "),ne(a([]),a([d("Type")])),d(", whose type is "),F(a([U("https://cs.brown.edu/courses/cs1951x/docs/logic/girard.html")]),a([d("also "),ne(a([]),a([d("Type")]))])),d(". The code for this extended evaluator can be found "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),a([d("here")])),d(".")])),ti(a([Fr("checkbox"),we("is-typed"),li(t=>new Mi(t))])),ni(a([Dr("is-typed")]),a([d("dependent types")])),Xt(a([])),ri(a([we("code"),Pr((()=>e.is_typed?"Play with dependent types! Example: let id: forall a: Type. a->a = \\a.\\x.x; id(Int)(3)":"Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)")()),si(t=>new Cn(t))])),Xt(a([])),(()=>{if(e instanceof et&&e.code==="")return d("");{let t=e.code,n=(()=>e.is_typed?Ci(t):bi(t))();return(r=>wt(a([]),a([Zr(a([]),a([d("output")])),d(": "),wt(a([we("code-output")]),a([d(r)]))])))(n)}})()]))}function ji(){let e=Jr(Ri,Ni,zi),t=jr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw nt("assignment_no_match","ryanbrewerdev",15,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{ji()});
