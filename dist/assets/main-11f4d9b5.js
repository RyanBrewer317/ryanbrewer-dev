var wt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var g=(e,t,n)=>(wt(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$=(e,t,n,r)=>(wt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Le=(e,t,n)=>(wt(e,t,"access private method"),n);import"./style-457fbc19.js";class p{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class de{static fromArray(t,n){let r=n||new st;for(let i=t.length-1;i>=0;--i)r=new nn(t[i],r);return r}[Symbol.iterator](){return new jn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function ze(e,t){return new nn(e,t)}function a(e,t){return de.fromArray(e,t)}var ge;class jn{constructor(t){z(this,ge,void 0);$(this,ge,t)}next(){if(g(this,ge)instanceof st)return{done:!0};{let{head:t,tail:n}=g(this,ge);return $(this,ge,n),{value:t,done:!1}}}}ge=new WeakMap;class st extends de{}class nn extends de{constructor(t,n){super(),this.head=t,this.tail=n}}class Ze{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return Wn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return Bn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Ze(this.buffer.slice(t,n))}sliceAfter(t){return new Ze(this.buffer.slice(t))}}function Bn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function Wn(e){return new Float64Array(e.reverse().buffer)[0]}class je extends p{static isResult(t){return t instanceof je}}class c extends je{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends je{constructor(t){super(),this[0]=t}isOk(){return!1}}function ye(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Yt(r)||!Yt(i)||!Gn(r,i)||qn(r,i)||Un(r,i)||Fn(r,i)||Pn(r,i)||Dn(r,i)||Hn(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,o]=Vn(r);for(let h of l(r))n.push(o(r,h),o(i,h))}return!0}function Vn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function qn(e,t){return e instanceof Date&&(e>t||e<t)}function Un(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Fn(e,t){return Array.isArray(e)&&e.length!==t.length}function Pn(e,t){return e instanceof Map&&e.size!==t.size}function Dn(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Hn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Yt(e){return typeof e=="object"&&e!==null}function Gn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function ut(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class k extends p{constructor(t){super(),this[0]=t}}class Y extends p{}function Yn(e,t){if(e instanceof k){let n=e[0];return new c(n)}else return new m(t)}function Xt(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new Y}function rn(e){return _r(e)}function lt(e){return $r(e)}function Xn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=ze(i,r)}}}function Kn(e){return Xn(e,a([]))}function Jn(e){return Kn(e)}function Zn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Jn(s);{let u=r.head;e=r.tail,t=i,n=ze(i(u),s)}}}function Qn(e,t){return Zn(e,t,a([]))}function Ot(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function pe(e,t){if(e.isOk()){let n=e[0];return new c(t(n))}else{let n=e[0];return new m(n)}}function sn(e,t){if(e.isOk()){let n=e[0];return new c(n)}else{let n=e[0];return new m(t(n))}}function y(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function un(e,t){return e.isOk()?e[0]:t()}function er(e,t){return e.isOk()?e:t}function Lt(e,t){if(e.isOk()){let n=e[0];return new c(n)}else return new m(t)}function ln(e){return Ir(e)}function an(e){return e}class Tt extends p{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function St(e){return e}function on(e){return Or(e)}function fn(e){return mn(e)}function tr(e){return Lr(e)}function nr(e){return Tr(e)}function cn(e){return t=>{if(e.hasLength(0))return new m(a([new Tt("another type",fn(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new c(s)}else return cn(r)(t)}}}function rr(e,t){let n=St(t),r=cn(a([on,s=>pe(tr(s),lt)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",fn(n),">"]),l=ln(u);return an(l)}})();return e.withFields({path:ze(i,e.path)})}function ir(e,t){return sn(e,n=>Qn(n,t))}function Qe(e,t){return n=>{let r=new Tt("field","nothing",a([]));return y(Sr(n,e),i=>{let u=Yn(i,a([r])),l=y(u,t);return ir(l,o=>rr(o,e))})}}const Kt=new WeakMap,yt=new DataView(new ArrayBuffer(8));let mt=0;function kt(e){const t=Kt.get(e);if(t!==void 0)return t;const n=mt++;return mt===2147483647&&(mt=0),Kt.set(e,n),n}function It(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Ct(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function hn(e){yt.setFloat64(0,e);const t=yt.getInt32(0),n=yt.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function sr(e){return Ct(e.toString())}function ur(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return kt(e);if(e instanceof Date)return hn(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+V(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+V(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+It(V(r),V(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+It(V(u),Ct(s))|0}}return n}function V(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return hn(e);case"string":return Ct(e);case"bigint":return sr(e);case"object":return ur(e);case"symbol":return kt(e);case"function":return kt(e);default:return 0}}const ee=5,Mt=Math.pow(2,ee),lr=Mt-1,ar=Mt/2,or=Mt/4,O=0,Q=1,M=2,_e=3,Rt={type:M,bitmap:0,array:[]};function Be(e,t){return e>>>t&lr}function at(e,t){return 1<<Be(e,t)}function fr(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Nt(e,t){return fr(e&t-1)}function q(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function cr(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function At(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function dn(e,t,n,r,i,s){const u=V(t);if(u===r)return{type:_e,hash:u,array:[{type:O,k:t,v:n},{type:O,k:i,v:s}]};const l={val:!1};return We(zt(Rt,e,u,t,n,l),e,r,i,s,l)}function We(e,t,n,r,i,s){switch(e.type){case Q:return hr(e,t,n,r,i,s);case M:return zt(e,t,n,r,i,s);case _e:return dr(e,t,n,r,i,s)}}function hr(e,t,n,r,i,s){const u=Be(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:Q,size:e.size+1,array:q(e.array,u,{type:O,k:r,v:i})};if(l.type===O)return ye(r,l.k)?i===l.v?e:{type:Q,size:e.size,array:q(e.array,u,{type:O,k:r,v:i})}:(s.val=!0,{type:Q,size:e.size,array:q(e.array,u,dn(t+ee,l.k,l.v,n,r,i))});const o=We(l,t+ee,n,r,i,s);return o===l?e:{type:Q,size:e.size,array:q(e.array,u,o)}}function zt(e,t,n,r,i,s){const u=at(n,t),l=Nt(e.bitmap,u);if(e.bitmap&u){const o=e.array[l];if(o.type!==O){const _=We(o,t+ee,n,r,i,s);return _===o?e:{type:M,bitmap:e.bitmap,array:q(e.array,l,_)}}const h=o.k;return ye(r,h)?i===o.v?e:{type:M,bitmap:e.bitmap,array:q(e.array,l,{type:O,k:r,v:i})}:(s.val=!0,{type:M,bitmap:e.bitmap,array:q(e.array,l,dn(t+ee,h,o.v,n,r,i))})}else{const o=e.array.length;if(o>=ar){const h=new Array(32),_=Be(n,t);h[_]=zt(Rt,t+ee,n,r,i,s);let L=0,I=e.bitmap;for(let ne=0;ne<32;ne++){if(I&1){const Fe=e.array[L++];h[ne]=Fe}I=I>>>1}return{type:Q,size:o+1,array:h}}else{const h=cr(e.array,l,{type:O,k:r,v:i});return s.val=!0,{type:M,bitmap:e.bitmap|u,array:h}}}}function dr(e,t,n,r,i,s){if(n===e.hash){const u=jt(e,r);if(u!==-1)return e.array[u].v===i?e:{type:_e,hash:n,array:q(e.array,u,{type:O,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:_e,hash:n,array:q(e.array,l,{type:O,k:r,v:i})}}return We({type:M,bitmap:at(e.hash,t),array:[e]},t,n,r,i,s)}function jt(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(ye(t,e.array[r].k))return r;return-1}function et(e,t,n,r){switch(e.type){case Q:return pr(e,t,n,r);case M:return wr(e,t,n,r);case _e:return yr(e,r)}}function pr(e,t,n,r){const i=Be(n,t),s=e.array[i];if(s!==void 0){if(s.type!==O)return et(s,t+ee,n,r);if(ye(r,s.k))return s}}function wr(e,t,n,r){const i=at(n,t);if(!(e.bitmap&i))return;const s=Nt(e.bitmap,i),u=e.array[s];if(u.type!==O)return et(u,t+ee,n,r);if(ye(r,u.k))return u}function yr(e,t){const n=jt(e,t);if(!(n<0))return e.array[n]}function Bt(e,t,n,r){switch(e.type){case Q:return mr(e,t,n,r);case M:return br(e,t,n,r);case _e:return gr(e,r)}}function mr(e,t,n,r){const i=Be(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===O){if(!ye(s.k,r))return e}else if(u=Bt(s,t+ee,n,r),u===s)return e;if(u===void 0){if(e.size<=or){const l=e.array,o=new Array(e.size-1);let h=0,_=0,L=0;for(;h<i;){const I=l[h];I!==void 0&&(o[_]=I,L|=1<<h,++_),++h}for(++h;h<l.length;){const I=l[h];I!==void 0&&(o[_]=I,L|=1<<h,++_),++h}return{type:M,bitmap:L,array:o}}return{type:Q,size:e.size-1,array:q(e.array,i,u)}}return{type:Q,size:e.size,array:q(e.array,i,u)}}function br(e,t,n,r){const i=at(n,t);if(!(e.bitmap&i))return e;const s=Nt(e.bitmap,i),u=e.array[s];if(u.type!==O){const l=Bt(u,t+ee,n,r);return l===u?e:l!==void 0?{type:M,bitmap:e.bitmap,array:q(e.array,s,l)}:e.bitmap===i?void 0:{type:M,bitmap:e.bitmap^i,array:At(e.array,s)}}return ye(r,u.k)?e.bitmap===i?void 0:{type:M,bitmap:e.bitmap^i,array:At(e.array,s)}:e}function gr(e,t){const n=jt(e,t);if(n<0)return e;if(e.array.length!==1)return{type:_e,hash:e.hash,array:At(e.array,n)}}function pn(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===O){t(s.v,s.k);continue}pn(s,t)}}}class P{static fromObject(t){const n=Object.keys(t);let r=P.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=P.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new P(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=et(this.root,0,V(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?Rt:this.root,s=We(i,0,V(t),t,n,r);return s===this.root?this:new P(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Bt(this.root,0,V(t),t);return n===this.root?this:n===void 0?P.new():new P(n,this.size-1)}has(t){return this.root===void 0?!1:et(this.root,0,V(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){pn(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+It(V(n),V(r))|0}),t}equals(t){if(!(t instanceof P)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&ye(t.get(i,!r),r)}),n}}const Wt=void 0,Jt={};function _r(e){return/^[-+]?(\d+)$/.test(e)?new c(parseInt(e)):new m(Wt)}function $r(e){return e.toString()}function xr(e){const t=wn(e);return t?de.fromArray(Array.from(t).map(n=>n.segment)):de.fromArray(e.match(/./gsu))}function wn(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function kr(e){var r,i;let t;const n=wn(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new c([t,e.slice(t.length)]):new m(Wt)}function Ir(e){let t="";for(const n of e)t=t+n;return t}function Vt(e,t){return e.indexOf(t)>=0}function Ar(){return P.new()}function yn(e,t){const n=e.get(t,Jt);return n===Jt?new m(Wt):new c(n)}function vr(e,t,n){return n.set(e,t)}function mn(e){if(typeof e=="string")return"String";if(e instanceof je)return"Result";if(e instanceof de)return"List";if(e instanceof Ze)return"BitArray";if(e instanceof P)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function ot(e,t){return Er(e,mn(t))}function Er(e,t){return new m(de.fromArray([new Tt(e,t,de.fromArray([]))]))}function Or(e){return typeof e=="string"?new c(e):ot("String",e)}function Lr(e){return Number.isInteger(e)?new c(e):ot("Int",e)}function Tr(e){return typeof e=="boolean"?new c(e):ot("Bool",e)}function Sr(e,t){const n=()=>ot("Dict",e);if(e instanceof P||e instanceof WeakMap||e instanceof Map){const r=yn(e,t);return new c(r.isOk()?new k(r[0]):new Y)}else return Object.getPrototypeOf(e)==Object.prototype?Zt(e,t,()=>new c(new Y)):Zt(e,t,n)}function Zt(e,t,n){try{return t in e?new c(new k(e[t])):n()}catch{return n()}}function Oe(){return Ar()}function Ve(e,t){return yn(e,t)}function T(e,t,n){return vr(t,n,e)}function Cr(e,t){return n=>t(e(n))}class Mr extends p{constructor(t){super(),this.all=t}}function Qt(){return new Mr(a([]))}function se(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?Rr(e,t,n,r):en(e,t,n,r)}return t!=null&&t.tag?en(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?zr(e,t):Nr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function en(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?Se(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?Se(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&Se(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new st,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const o of u)i.appendChild(se(null,o,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(se(null,u,n,i));return e&&e.replaceWith(i),i}function Rr(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const o=s.get(u);o!==l&&(Se(e,u,o,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)Se(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new st,o=r;for(;o;)if(o._slot){l=o._slot;break}else o=o.parentNode;for(;u;)Array.isArray(l)&&l.length?se(u,l.shift(),n,e):l.head&&(se(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const h of l)e.appendChild(se(null,h,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const o=u.nextSibling;se(u,l.shift(),n,e),u=o}else if(l.head){const o=u.nextSibling;se(u,l.head,n,e),l=l.tail,u=o}else{const o=u.nextSibling;u.remove(),u=o}for(const o of l)e.appendChild(se(null,o,n,e))}return e}function Se(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>pe(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function Nr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function zr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var C,le,ae,oe,he,Me,ve,Ee,Re,vt,Ne,Et;class jr{constructor(t,n,r){z(this,Re);z(this,Ne);z(this,C,null);z(this,le,null);z(this,ae,[]);z(this,oe,[]);z(this,he,!1);z(this,Me,null);z(this,ve,null);z(this,Ee,null);$(this,Me,t),$(this,ve,n),$(this,Ee,r)}start(t,n){if(!Vr())return new m(new ti);if(g(this,C))return new m(new Zr);if($(this,C,t instanceof HTMLElement?t:document.querySelector(t)),!g(this,C))return new m(new ei);const[r,i]=g(this,Me).call(this,n);return $(this,le,r),$(this,oe,i.all.toArray()),$(this,he,!0),window.requestAnimationFrame(()=>Le(this,Re,vt).call(this)),new c(s=>this.dispatch(s))}dispatch(t){g(this,ae).push(t),Le(this,Re,vt).call(this)}emit(t,n=null){g(this,C).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!g(this,C))return new m(new Qr);g(this,C).remove(),$(this,C,null),$(this,le,null),$(this,ae,[]),$(this,oe,[]),$(this,he,!1),$(this,ve,()=>{}),$(this,Ee,()=>{})}}C=new WeakMap,le=new WeakMap,ae=new WeakMap,oe=new WeakMap,he=new WeakMap,Me=new WeakMap,ve=new WeakMap,Ee=new WeakMap,Re=new WeakSet,vt=function(){if(Le(this,Ne,Et).call(this),g(this,he)){const t=g(this,Ee).call(this,g(this,le));$(this,C,se(g(this,C),t,n=>this.dispatch(n))),$(this,he,!1)}},Ne=new WeakSet,Et=function(t=0){if(g(this,C)){if(g(this,ae).length)for(;g(this,ae).length;){const[n,r]=g(this,ve).call(this,g(this,le),g(this,ae).shift());g(this,he)||$(this,he,g(this,le)!==n),$(this,le,n),$(this,oe,g(this,oe).concat(r.all.toArray()))}for(;g(this,oe).length;)g(this,oe).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));g(this,ae).length&&(t>=5?console.warn(tooManyUpdates):Le(this,Ne,Et).call(this,++t))}};const Br=(e,t,n)=>new jr(e,t,n),Wr=(e,t,n)=>e.start(t,n),Vr=()=>window&&window.document;function ft(e){let n=ln(e);return an(n)}function qr(e){return kr(e)}class bn extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class Ur extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}function K(e,t){return new bn(e,St(t),!1)}function Fr(e,t){return new bn(e,St(t),!0)}function Pr(e,t){return new Ur("on"+e,Cr(t,n=>Lt(n,void 0)))}function bt(e){return K("style",Ot(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function Pe(e){return K("class",e)}function re(e){return K("id",e)}function Dr(e){return K("type",e)}function Hr(e){return K("placeholder",e)}function Gr(e){return K("for",e)}function j(e){return K("href",e)}function Yr(e){return K("target",e)}function Xr(e){return K("rel",e)}function De(e){return K("src",e)}function Kr(e){return Fr("width",lt(e))}function gt(e){return K("alt",e)}class Jr extends p{constructor(t){super(),this.content=t}}class v extends p{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function F(e,t,n){return e==="area"?new v("",e,t,a([]),!1,!0):e==="base"?new v("",e,t,a([]),!1,!0):e==="br"?new v("",e,t,a([]),!1,!0):e==="col"?new v("",e,t,a([]),!1,!0):e==="embed"?new v("",e,t,a([]),!1,!0):e==="hr"?new v("",e,t,a([]),!1,!0):e==="img"?new v("",e,t,a([]),!1,!0):e==="input"?new v("",e,t,a([]),!1,!0):e==="link"?new v("",e,t,a([]),!1,!0):e==="meta"?new v("",e,t,a([]),!1,!0):e==="param"?new v("",e,t,a([]),!1,!0):e==="source"?new v("",e,t,a([]),!1,!0):e==="track"?new v("",e,t,a([]),!1,!0):e==="wbr"?new v("",e,t,a([]),!1,!0):new v("",e,t,n,!1,!1)}function d(e){return new Jr(e)}class Zr extends p{}class Qr extends p{}class ei extends p{}class ti extends p{}function ni(e,t,n){return Br(s=>[e(s),Qt()],(s,u)=>[t(s,u),Qt()],n)}function _t(e,t){return F("h3",e,t)}function fe(e,t){return F("div",e,t)}function He(e,t){return F("p",e,t)}function B(e,t){return F("a",e,t)}function tn(e){return F("br",e,a([]))}function ie(e,t){return F("code",e,t)}function $t(e,t){return F("span",e,t)}function ri(e,t){return F("strong",e,t)}function Ge(e){return F("img",e,a([]))}function ii(e){return F("input",e,a([]))}function si(e,t){return F("label",e,t)}function ui(e){return F("textarea",e,a([]))}function gn(e,t){return Pr(e,t)}function li(e){let t=e;return Qe("target",Qe("value",on))(t)}function ai(e){return gn("input",t=>{let n=li(t);return pe(n,e)})}function oi(e){let t=e;return Qe("target",Qe("checked",nr))(t)}function fi(e){return gn("change",t=>{let n=oi(t);return pe(n,e)})}class tt extends p{constructor(t){super(),this.error=t}}class Xe extends p{constructor(t,n){super(),this.row=t,this.col=n}}class J extends p{constructor(t){super(),this.parse=t}}function A(e,t,n){let r=e.parse;return r(t,n)}function ct(e){return new J((t,n)=>{if(!(n instanceof Xe))throw ut("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new c([s,u,new Xe(r+1,0)]):new c([s,u,new Xe(r,i+1)]):new m(new tt(s))}else return new m(new tt("EOF"))})}function b(e){return ct(t=>e===t)}function ke(e,t){return new J((n,r)=>er(A(e,n,r),A(t,n,r)))}function qe(e){return new J((t,n)=>{if(e.hasLength(0))return new m(new tt("choiceless choice"));if(e.hasLength(1)){let r=e.head;return A(r,t,n)}else{let r=e.head,i=e.tail,s=A(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],o=s[0][2];return new c([u,l,o])}else return A(qe(i),t,n)}})}function me(e){return new J((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return pe(A(me(e),s,u),l=>[ze(i,l[0]),l[1],l[2]])}else return new c([a([]),t,n])})}function _n(e){return new J((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return pe(A(me(e),s,u),l=>[ze(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function U(e,t){return new J((n,r)=>{let i=A(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new c([t(s),u,l])}else{let s=i[0];return new m(s)}})}function qt(e){return new J((t,n)=>{let r=A(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new c([new c(i),s,u])}else return new c([new m(void 0),t,n])})}function Ut(e){return new J((t,n)=>A(e,t,n).isOk()?new m(new tt("")):new c([void 0,t,n]))}function R(e){return new J((t,n)=>A(e(),t,n))}function f(e,t){return new J((n,r)=>{let i=A(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return A(t(s),u,l)}else{let s=i[0];return new m(s)}})}function x(e){return new J((t,n)=>new c([e,t,n]))}function $e(e){let t=qr(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return f(b(n),i=>f($e(r),s=>x(i+s)))}else return x("")}function $n(e,t){let n=A(e,xr(t),new Xe(1,1));if(n.isOk()){let r=n[0][0];return new c(r)}else{let r=n[0];return new m(r)}}function ci(){return ct(e=>Vt("abcdefghijklmnopqrstuvwxyz",e))}function hi(){return ct(e=>Vt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function Ft(){return ke(ci(),hi())}function Pt(){return ct(e=>Vt("0123456789",e))}function Ue(){return ke(Pt(),Ft())}let xn=class extends p{constructor(t){super(),this[0]=t}},kn=class extends p{constructor(t){super(),this[0]=t}},In=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},di=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},An=class extends p{constructor(t){super(),this.int=t}},Ye=class extends p{constructor(t,n){super(),this.val=t,this.gen=n}},Dt=class extends p{constructor(t){super(),this[0]=t}},Ht=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},Ce=class extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},nt=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}};function pi(){let e=_n(Pt()),t=U(e,ft),n=U(t,rn),r=U(n,i=>un(i,()=>{throw ut("panic","tinylang",19,"","parsed int isn't an int",{})}));return U(r,i=>new xn(i))}function vn(){return f(Ft(),e=>f(me(ke(Ue(),b("_"))),t=>x(e+ft(t))))}function wi(){let e=vn();return U(e,t=>new kn(t))}function Ae(){return f(me(qe(a([b(" "),b("	"),b(`
`)]))),e=>x(void 0))}function yi(e,t){return t(new An(e.int+1),e.int)}function Ke(e,t,n){if(t instanceof xn){let r=t[0];return new c(new Ye(new Dt(r),e))}else if(t instanceof kn){let r=t[0],i=Ve(n,r);if(i.isOk()){let s=i[0];return new c(new Ye(new Ht(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof In){let r=t[0],i=t[1];return yi(e,(s,u)=>y(Ke(s,i,T(n,r,u)),l=>{let o=new Ce(u,r,l.val),h=new Ye(o,l.gen);return new c(h)}))}else{let r=t[0],i=t[1];return y(Ke(e,r,n),s=>y(Ke(s.gen,i,n),u=>{let l=new nt(s.val,u.val),o=new Ye(l,u.gen);return new c(o)}))}}function mi(e,t){return y(Ke(e,t,Oe()),n=>new c(n.val))}function Je(e,t){for(;;){let n=e,r=t;if(n instanceof Dt)return n;if(n instanceof Ht){let i=n[0],s=Ve(r,i);return s.isOk()?s[0]:n}else if(n instanceof nt){let i=n[0],s=n[1],u=Je(i,r),l=Je(s,r);if(u instanceof Ce){let o=u[0];e=u[2],t=T(r,o,l)}else return new nt(u,l)}else{let i=n[0],s=n[1],u=n[2];return new Ce(i,s,Je(u,r))}}}function bi(e){return Je(e,Oe())}function Ie(e){if(e instanceof Dt){let t=e[0];return lt(t)}else{if(e instanceof Ht)return e[1];if(e instanceof Ce){let t=e[1],n=e[2];return"\\"+t+". "+Ie(n)}else if(e instanceof nt&&e[0]instanceof Ce){let t=e[0],n=e[1];return"("+Ie(t)+")("+Ie(n)+")"}else{let t=e[0],n=e[1];return Ie(t)+"("+Ie(n)+")"}}}function gi(e){return e.isOk(),e[0]}function ht(){return f(Ae(),e=>f(qe(a([pi(),wi(),_i(),$i()])),t=>f(Ae(),n=>f(me(f(b("("),r=>f(R(ht),i=>f(b(")"),s=>f(Ae(),u=>x(i)))))),r=>{let i=Ot(r,t,(s,u)=>new di(s,u));return x(i)}))))}function _i(){return f(b("\\"),e=>f(Ae(),t=>f(vn(),n=>f(Ae(),r=>f(b("."),i=>f(Ae(),s=>f(R(ht),u=>x(new In(n,u)))))))))}function $i(){return f(b("("),e=>f(R(ht),t=>f(b(")"),n=>x(t))))}function xi(e){let t=y(Lt($n(ht(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(mi(new An(0),n),r=>{let i=bi(r);return new c(Ie(i))}));return gi(t)}class En extends p{constructor(t){super(),this[0]=t}}class On extends p{constructor(t){super(),this[0]=t}}class Ln extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class Tn extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class Sn extends p{}class Cn extends p{}class Gt extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class ki extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Mn extends p{constructor(t){super(),this.int=t}}class ce extends p{constructor(t,n){super(),this.val=t,this.gen=n}}class xe extends p{constructor(t){super(),this[0]=t}}class D extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class S extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class te extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class E extends p{}class X extends p{}class N extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class we extends p{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function Ii(){let e=_n(Pt()),t=U(e,ft),n=U(t,rn),r=U(n,i=>un(i,()=>{throw ut("panic","tinytypedlang",24,"","parsed int isn't an int",{})}));return U(r,i=>new En(i))}function dt(){return f(Ft(),e=>f(me(ke(Ue(),b("_"))),t=>x(e+ft(t))))}function Ai(){let e=dt();return U(e,t=>new On(t))}function vi(){return f($e("Type"),e=>f(Ut(ke(Ue(),b("_"))),t=>x(new Sn)))}function Ei(){return f($e("Int"),e=>f(Ut(ke(Ue(),b("_"))),t=>x(new Cn)))}function H(){return f(me(qe(a([b(" "),b("	"),b(`
`)]))),e=>x(void 0))}function xt(e,t){return t(new Mn(e.int+1),e.int)}function Z(e,t,n){if(t instanceof En){let r=t[0];return new c(new ce(new xe(r),e))}else if(t instanceof On){let r=t[0],i=Ve(n,r);if(i.isOk()){let s=i[0];return new c(new ce(new D(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof Ln){let r=t[0],i=t[1],s=t[2];return xt(e,(u,l)=>y(Z(u,s,T(n,r,l)),o=>y((()=>{if(i instanceof k){let h=i[0];return pe(Z(u,h,n),_=>[new k(_.val),_.gen])}else return new c([new Y,o.gen])})(),h=>{let _=h[0],L=h[1],I=new S(l,r,_,o.val),ne=new ce(I,L);return new c(ne)})))}else if(t instanceof Tn){let r=t[0],i=t[1];return y(Z(e,r,n),s=>y(Z(s.gen,i,n),u=>{let l=new te(s.val,u.val),o=new ce(l,u.gen);return new c(o)}))}else{if(t instanceof Sn)return new c(new ce(new E,e));if(t instanceof Cn)return new c(new ce(new X,e));if(t instanceof Gt){let r=t[0],i=t[1],s=t[2];return xt(e,(u,l)=>y(Z(u,i,n),o=>y(Z(o.gen,s,T(n,r,l)),h=>{let _=new N(l,r,o.val,h.val),L=new ce(_,h.gen);return new c(L)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return xt(e,(l,o)=>y((()=>{if(i instanceof k){let h=i[0];return pe(Z(l,h,n),_=>[new k(_.val),_.gen])}else return new c([new Y,l])})(),h=>{let _=h[0],L=h[1],I=T(n,r,o);return y(Z(L,s,I),ne=>y(Z(ne.gen,u,I),Fe=>{let Nn=new we(o,r,_,ne.val,Fe.val),zn=new ce(Nn,Fe.gen);return new c(zn)}))}))}}}function Oi(e,t){return y(Z(e,t,Oe()),n=>new c(n.val))}function pt(e,t,n){let r=i=>pt(i,t,n);if(e instanceof xe){let i=e[0];return new xe(i)}else if(e instanceof D){let i=e[0];return t===i?n:e}else if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];return new S(i,s,Xt(u,r),r(l))}else if(e instanceof te){let i=e[0],s=e[1];return new te(r(i),r(s))}else{if(e instanceof E)return new E;if(e instanceof X)return new X;if(e instanceof N){let i=e[0],s=e[1],u=e[2],l=e[3];return new N(i,s,r(u),r(l))}else{let i=e[0],s=e[1],u=e[2],l=e[3],o=e[4];return new we(i,s,Xt(u,r),r(l),r(o))}}}function ue(e,t){for(;;){let n=e,r=t;if(n instanceof xe)return n;if(n instanceof D){let i=n[0],s=Ve(r,i);return s.isOk()?s[0]:n}else if(n instanceof te){let i=n[0],s=n[1],u=ue(i,r),l=ue(s,r);if(u instanceof S){let o=u[0];e=u[3],t=T(r,o,l)}else return new te(u,l)}else{if(n instanceof E)return new E;if(n instanceof X)return new X;if(n instanceof we){let i=n[0],s=n[3];e=n[4],t=T(r,i,ue(s,r))}else if(n instanceof S){let i=n[0],s=n[1],u=n[2],l=n[3];return new S(i,s,u,ue(l,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new N(i,s,ue(u,r),ue(l,r))}}}}function rt(e,t,n){let r=ue(e,n),i=ue(t,n);if(r instanceof D&&i instanceof D){let s=r[0],u=i[0];return s===u}else{if(r instanceof X&&i instanceof X)return!0;if(r instanceof E&&i instanceof E)return!0;if(r instanceof N&&i instanceof N){let s=r[0],u=r[1],l=r[2],o=r[3],h=i[0],_=i[2],L=i[3];return rt(l,_,n)&&rt(pt(L,h,new D(s,u)),o,n)}else return!1}}function Li(e){return ue(e,Oe())}function W(e,t){for(;;){let n=e,r=t;if(r instanceof D)return r[0]===n;if(r instanceof S&&r[2]instanceof k){let i=r[2][0],s=r[3];return W(n,i)||W(n,s)}else if(r instanceof S&&r[2]instanceof Y){let i=r[3];e=n,t=i}else if(r instanceof te){let i=r[0],s=r[1];return W(n,i)||W(n,s)}else if(r instanceof N){let i=r[2],s=r[3];return W(n,i)||W(n,s)}else if(r instanceof we&&r[2]instanceof k){let i=r[2][0],s=r[3],u=r[4];return W(n,i)||W(n,s)||W(n,u)}else if(r instanceof we&&r[2]instanceof Y){let i=r[3],s=r[4];return W(n,i)||W(n,s)}else return!1}}function w(e){if(e instanceof xe){let t=e[0];return lt(t)}else{if(e instanceof D)return e[1];if(e instanceof S&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3];return"\\"+t+": "+w(n)+". "+w(r)}else if(e instanceof S&&e[2]instanceof Y){let t=e[1],n=e[3];return"\\"+t+". "+w(n)}else if(e instanceof te&&e[0]instanceof S){let t=e[0],n=e[1];return"("+w(t)+")("+w(n)+")"}else if(e instanceof te){let t=e[0],n=e[1];return w(t)+"("+w(n)+")"}else{if(e instanceof E)return"Type";if(e instanceof X)return"Int";if(e instanceof N){let t=e[0],n=e[1],r=e[2],i=e[3];return W(t,i)?"forall "+n+": "+w(r)+". "+w(i):r instanceof xe||r instanceof D||r instanceof E||r instanceof X?w(r)+"->"+w(i):(r instanceof S||r instanceof te||r instanceof N,"("+w(r)+") -> "+w(i))}else if(e instanceof we&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3],i=e[4];return"let "+t+": "+w(n)+" = "+w(r)+`;
`+w(i)}else{let t=e[1],n=e[3],r=e[4];return"let "+t+" = "+w(n)+`;
`+w(r)}}}}function Ti(e){return e.isOk(),e[0]}function Te(e,t,n,r){if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];if(t instanceof N){let o=t[0],h=t[2],_=t[3];return y(Te(l,pt(_,o,new D(i,s)),T(n,i,h),r),L=>{if(u instanceof k){let I=u[0];return rt(I,h,r)?new c(void 0):new m("Type mismatch in lambda parameter. Expected "+w(h)+" but found "+w(I)+".")}else return new c(void 0)})}else return new m("Type mismatch. Expected "+w(t)+" but found a lambda.")}else return y(be(e,n,r),i=>rt(i,t,r)?new c(void 0):new m("Type mismatch. Expected "+w(t)+" but found "+w(i)+"."))}function be(e,t,n){if(e instanceof xe)return new c(new X);if(e instanceof D){let r=e[0],i=e[1];return sn(Ve(t,r),s=>"Variable "+i+" is not defined in the current context.")}else if(e instanceof te){let r=e[0],i=e[1];return y(be(r,t,n),s=>{if(s instanceof N){let u=s[0],l=s[2],o=s[3];return y(Te(i,l,t,n),h=>new c(pt(o,u,i)))}else return new m("Type error. Expected a function type, but found "+w(s))})}else if(e instanceof N){let r=e[0],i=e[2],s=e[3];return y(Te(i,new E,t,n),u=>y(Te(s,new E,T(t,r,i),n),l=>new c(new E)))}else{if(e instanceof X)return new c(new E);if(e instanceof E)return new c(new E);if(e instanceof we&&e[2]instanceof k){let r=e[0],i=e[2][0],s=e[3],u=e[4];return y(Te(s,i,t,n),l=>be(u,T(t,r,i),T(n,r,s)))}else if(e instanceof we&&e[2]instanceof Y){let r=e[0],i=e[3],s=e[4];return y(be(i,t,n),u=>be(s,T(t,r,u),T(n,r,i)))}else if(e instanceof S&&e[2]instanceof k){let r=e[0],i=e[1],s=e[2][0],u=e[3];return y(be(u,T(t,r,s),n),l=>new c(new N(r,i,s,l)))}else return new m("Type error. Can't infer the type of this lambda. Try annotating it with a `let` expression.")}}function G(){return f(H(),e=>f(qe(a([Ii(),vi(),Ei(),Si(),Mi(),Ai(),Ci(),Ri()])),t=>f(H(),n=>f(me(f(b("("),r=>f(R(G),i=>f(b(")"),s=>f(H(),u=>x(i)))))),r=>{let i=Ot(r,t,(s,u)=>new Tn(s,u));return f(qt($e("->")),s=>f((()=>s.isOk()?f(R(G),u=>x(new Gt("_",i,u))):x(i))(),u=>x(u)))}))))}function Si(){return f($e("forall"),e=>f(Ut(ke(Ue(),b("_"))),t=>f(H(),n=>f(dt(),r=>f(H(),i=>f(b(":"),s=>f(H(),u=>f(R(G),l=>f(b("."),o=>f(R(G),h=>x(new Gt(r,l,h))))))))))))}function Ci(){return f(b("\\"),e=>f(H(),t=>f(dt(),n=>f(H(),r=>f(qt(b(":")),i=>f((()=>i.isOk()?U(R(G),s=>new k(s)):x(new Y))(),s=>f(b("."),u=>f(H(),l=>f(R(G),o=>x(new Ln(n,s,o)))))))))))}function Mi(){return f($e("let "),e=>f(H(),t=>f(dt(),n=>f(H(),r=>f(qt(b(":")),i=>f((()=>i.isOk()?U(R(G),s=>new k(s)):x(new Y))(),s=>f($e("="),u=>f(R(G),l=>f(b(";"),o=>f(R(G),h=>x(new ki(n,s,l,h))))))))))))}function Ri(){return f(b("("),e=>f(R(G),t=>f(b(")"),n=>x(t))))}function Ni(e){let t=y(Lt($n(G(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(Oi(new Mn(0),n),r=>y(be(r,Oe(),Oe()),i=>{let s=Li(r);return new c(w(s))})));return Ti(t)}class it extends p{constructor(t,n){super(),this.code=t,this.is_typed=n}}class Rn extends p{constructor(t){super(),this[0]=t}}class zi extends p{constructor(t){super(),this[0]=t}}function ji(e){return new it("",!1)}function Bi(e,t){if(t instanceof Rn){let n=t[0];return new it(n,e.is_typed)}else{let n=t[0];return new it(e.code,n)}}function Wi(e){return fe(a([]),a([fe(a([]),a([fe(a([re("ryan-and-ivy-img")]),a([Ge(a([De("/ryan-and-ivy.jpg"),Kr(300)])),fe(a([Pe("caption"),Pe("subtle-text")]),a([d("Me and my lovely wife, Ivy!")]))])),fe(a([]),a([_t(a([]),a([d("Me.")])),He(a([]),a([d(`I'm Ryan Brewer.
I'm a passionate software developer working on open-source software 
for safe, reliable, and portable applications.
I specialize in a formal methods approach to systems design, with a focus on ergonomics.
My current biggest project is `),B(a([j("https://github.com/RyanBrewer317/SaberVM")]),a([d("SaberVM")])),d(`,
a lightweight abstract machine for functional languages that aims 
to be formally memory-safe, fault-tolerant, and very small. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, 
both by taking it out of the ivory tower of academia and 
by removing the need for expensive hardware.
Consider supporting my work!
`)])),B(a([re("github"),j("https://github.com/sponsors/RyanBrewer317")]),a([Ge(a([De("/github-logo.png"),gt("GitHub logo"),re("github-logo")])),$t(a([]),a([d("Sponsor")]))])),B(a([re("kofi"),j("https://ko-fi.com/ryanbrewer")]),a([Ge(a([De("/kofi-logo.png"),gt("Ko-fi logo"),re("kofi-logo")])),$t(a([]),a([d("Support")]))]))]))])),_t(a([bt(a([["padding-top","50pt"]]))]),a([d("My Website")])),He(a([]),a([d(`This is my website.
I use this as a space to store my ideas, advertise myself and my work, and write blog posts about topics that I love.
Generally I constrain my posts to be about programming language theory or implementations. 
Links to my latest posts can be found below.
This website is hosted by Firebase and written in `),B(a([j("https://gleam.run")]),a([d("Gleam")])),d(", and the code is up on my "),B(a([j("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([d("github")])),d(". The only framework used is "),B(a([j("https://lustre.build/")]),a([d("Lustre")])),d("; I did all the scripting, markup, styles, and layout by hand.")])),_t(a([bt(a([["padding-top","50pt"]]))]),a([d("Lambda Calculus in Gleam")])),He(a([]),a([d(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),B(a([j("https://gleam.run")]),a([d("Gleam")])),d(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),ie(a([]),a([d("\\var. body")])),d(", and are called like "),ie(a([]),a([d("fun(arg)")])),d(". There are also positive integers like 7. Try writing "),ie(a([]),a([d("(\\x.x)(2)")])),d(", which evaluates to 2. The code for this can be found "),B(a([j("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([d("here")])),d(".")])),He(a([]),a([d(`Want types in your lambda calculus?
You can check the box below to switch to a version with a fancy dependent type system!
Type annotations are introduced by `),ie(a([]),a([d("let")])),d("-bindings, like "),ie(a([]),a([d("let x: A = v; e")])),d(", lambdas, like "),ie(a([]),a([d("\\x: A. e")])),d(", and Pi types, like "),ie(a([]),a([d("forall x: A. B")])),d(". For lambdas and bindings, the types can often be "),B(a([j("https://ncatlab.org/nlab/show/bidirectional+typechecking")]),a([d("inferred")])),d(". The type of types is "),ie(a([]),a([d("Type")])),d(", whose type is "),B(a([j("https://cs.brown.edu/courses/cs1951x/docs/logic/girard.html")]),a([d("also "),ie(a([]),a([d("Type")]))])),d(". The code for this extended evaluator can be found "),B(a([j("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),a([d("here")])),d(".")])),ii(a([Dr("checkbox"),re("is-typed"),fi(t=>new zi(t))])),si(a([Gr("is-typed")]),a([d("dependent types")])),tn(a([])),ui(a([re("code"),Hr((()=>e.is_typed?"Play with dependent types! Example: let id: forall a: Type. a->a = \\a.\\x.x; id(Int)(3)":"Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)")()),ai(t=>new Rn(t))])),tn(a([])),(()=>{if(e instanceof it&&e.code==="")return d("");{let t=e.code,n=(()=>e.is_typed?Ni(t):xi(t))();return(r=>fe(a([]),a([ri(a([]),a([d("output")])),d(": "),fe(a([re("code-output")]),a([d(r)]))])))(n)}})(),fe(a([re("webring-links")]),a([$t(a([Pe("subtle-text")]),a([d("Webring: ")])),B(a([Pe("webring"),j("https://webring.xxiivv.com/#ryan-brewer"),Yr("_blank"),Xr("noopener")]),a([Ge(a([De("/xxiivv-webring-icon.svg"),gt("XXIIVV webring icon"),bt(a([["bottom","-8pt"]]))]))]))]))]))}function Vi(){let e=ni(ji,Bi,Wi),t=Wr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw ut("assignment_no_match","ryanbrewerdev",15,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{Vi()});
