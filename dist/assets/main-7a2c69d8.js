var Ye=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var y=(e,t,n)=>(Ye(e,t,"read from private field"),n?n.call(e):t.get(e)),L=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_=(e,t,n,r)=>(Ye(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var de=(e,t,n)=>(Ye(e,t,"access private method"),n);import"./style-b7ef9c88.js";class f{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class K{static fromArray(t,n){let r=n||new We;for(let i=t.length-1;i>=0;--i)r=new qt(t[i],r);return r}[Symbol.iterator](){return new _n(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function be(e,t){return new qt(e,t)}function a(e,t){return K.fromArray(e,t)}var Q;class _n{constructor(t){L(this,Q,void 0);_(this,Q,t)}next(){if(y(this,Q)instanceof We)return{done:!0};{let{head:t,tail:n}=y(this,Q);return _(this,Q,n),{value:t,done:!1}}}}Q=new WeakMap;class We extends K{}class qt extends K{constructor(t,n){super(),this.head=t,this.tail=n}}class Re{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return bn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return gn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Re(this.buffer.slice(t,n))}sliceAfter(t){return new Re(this.buffer.slice(t))}}function gn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function bn(e){return new Float64Array(e.reverse().buffer)[0]}class xe extends f{static isResult(t){return t instanceof xe}}class h extends xe{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends xe{constructor(t){super(),this[0]=t}isOk(){return!1}}function X(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Ct(r)||!Ct(i)||!Ln(r,i)||$n(r,i)||An(r,i)||In(r,i)||kn(r,i)||On(r,i)||En(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,o]=xn(r);for(let d of l(r))n.push(o(r,d),o(i,d))}return!0}function xn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function $n(e,t){return e instanceof Date&&(e>t||e<t)}function An(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function In(e,t){return Array.isArray(e)&&e.length!==t.length}function kn(e,t){return e instanceof Map&&e.size!==t.size}function On(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function En(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ct(e){return typeof e=="object"&&e!==null}function Ln(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Be(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class lt extends f{constructor(t){super(),this[0]=t}}class Rt extends f{}function vn(e,t){if(e instanceof lt){let n=e[0];return new h(n)}else return new m(t)}function Vt(e){return tr(e)}function $e(e){return nr(e)}function Sn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=be(i,r)}}}function Cn(e){return Sn(e,a([]))}function Rn(e){return Cn(e)}function Tn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Rn(s);{let u=r.head;e=r.tail,t=i,n=be(i(u),s)}}}function Mn(e,t){return Tn(e,t,a([]))}function at(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function Ae(e,t){if(e.isOk()){let n=e[0];return new h(t(n))}else{let n=e[0];return new m(n)}}function Nn(e,t){if(e.isOk()){let n=e[0];return new h(n)}else{let n=e[0];return new m(t(n))}}function b(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function Ut(e,t){return e.isOk()?e[0]:t()}function zn(e,t){return e.isOk()?e:t}function ct(e,t){if(e.isOk()){let n=e[0];return new h(n)}else return new m(t)}function Ft(e){return sr(e)}function Dt(e){return e}class ot extends f{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function ft(e){return e}function Ht(e){return cr(e)}function Pt(e){return Qt(e)}function jn(e){return or(e)}function Gt(e){return t=>{if(e.hasLength(0))return new m(a([new ot("another type",Pt(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new h(s)}else return Gt(r)(t)}}}function Wn(e,t){let n=ft(t),r=Gt(a([Ht,s=>Ae(jn(s),$e)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",Pt(n),">"]),l=Ft(u);return Dt(l)}})();return e.withFields({path:be(i,e.path)})}function Bn(e,t){return Nn(e,n=>Mn(n,t))}function Tt(e,t){return n=>{let r=new ot("field","nothing",a([]));return b(fr(n,e),i=>{let u=vn(i,a([r])),l=b(u,t);return Bn(l,o=>Wn(o,e))})}}const Mt=new WeakMap,Ke=new DataView(new ArrayBuffer(8));let Xe=0;function nt(e){const t=Mt.get(e);if(t!==void 0)return t;const n=Xe++;return Xe===2147483647&&(Xe=0),Mt.set(e,n),n}function rt(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function ht(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function Yt(e){Ke.setFloat64(0,e);const t=Ke.getInt32(0),n=Ke.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function qn(e){return ht(e.toString())}function Vn(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return nt(e);if(e instanceof Date)return Yt(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+v(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+v(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+rt(v(r),v(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+rt(v(u),ht(s))|0}}return n}function v(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Yt(e);case"string":return ht(e);case"bigint":return qn(e);case"object":return Vn(e);case"symbol":return nt(e);case"function":return nt(e);default:return 0}}const B=5,dt=Math.pow(2,B),Un=dt-1,Fn=dt/2,Dn=dt/4,A=0,j=1,O=2,te=3,pt={type:O,bitmap:0,array:[]};function Ie(e,t){return e>>>t&Un}function qe(e,t){return 1<<Ie(e,t)}function Hn(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function wt(e,t){return Hn(e&t-1)}function S(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function Pn(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function it(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function Kt(e,t,n,r,i,s){const u=v(t);if(u===r)return{type:te,hash:u,array:[{type:A,k:t,v:n},{type:A,k:i,v:s}]};const l={val:!1};return ke(yt(pt,e,u,t,n,l),e,r,i,s,l)}function ke(e,t,n,r,i,s){switch(e.type){case j:return Gn(e,t,n,r,i,s);case O:return yt(e,t,n,r,i,s);case te:return Yn(e,t,n,r,i,s)}}function Gn(e,t,n,r,i,s){const u=Ie(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:j,size:e.size+1,array:S(e.array,u,{type:A,k:r,v:i})};if(l.type===A)return X(r,l.k)?i===l.v?e:{type:j,size:e.size,array:S(e.array,u,{type:A,k:r,v:i})}:(s.val=!0,{type:j,size:e.size,array:S(e.array,u,Kt(t+B,l.k,l.v,n,r,i))});const o=ke(l,t+B,n,r,i,s);return o===l?e:{type:j,size:e.size,array:S(e.array,u,o)}}function yt(e,t,n,r,i,s){const u=qe(n,t),l=wt(e.bitmap,u);if(e.bitmap&u){const o=e.array[l];if(o.type!==A){const I=ke(o,t+B,n,r,i,s);return I===o?e:{type:O,bitmap:e.bitmap,array:S(e.array,l,I)}}const d=o.k;return X(r,d)?i===o.v?e:{type:O,bitmap:e.bitmap,array:S(e.array,l,{type:A,k:r,v:i})}:(s.val=!0,{type:O,bitmap:e.bitmap,array:S(e.array,l,Kt(t+B,d,o.v,n,r,i))})}else{const o=e.array.length;if(o>=Fn){const d=new Array(32),I=Ie(n,t);d[I]=yt(pt,t+B,n,r,i,s);let z=0,E=e.bitmap;for(let he=0;he<32;he++){if(E&1){const Ge=e.array[z++];d[he]=Ge}E=E>>>1}return{type:j,size:o+1,array:d}}else{const d=Pn(e.array,l,{type:A,k:r,v:i});return s.val=!0,{type:O,bitmap:e.bitmap|u,array:d}}}}function Yn(e,t,n,r,i,s){if(n===e.hash){const u=mt(e,r);if(u!==-1)return e.array[u].v===i?e:{type:te,hash:n,array:S(e.array,u,{type:A,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:te,hash:n,array:S(e.array,l,{type:A,k:r,v:i})}}return ke({type:O,bitmap:qe(e.hash,t),array:[e]},t,n,r,i,s)}function mt(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(X(t,e.array[r].k))return r;return-1}function Te(e,t,n,r){switch(e.type){case j:return Kn(e,t,n,r);case O:return Xn(e,t,n,r);case te:return Jn(e,r)}}function Kn(e,t,n,r){const i=Ie(n,t),s=e.array[i];if(s!==void 0){if(s.type!==A)return Te(s,t+B,n,r);if(X(r,s.k))return s}}function Xn(e,t,n,r){const i=qe(n,t);if(!(e.bitmap&i))return;const s=wt(e.bitmap,i),u=e.array[s];if(u.type!==A)return Te(u,t+B,n,r);if(X(r,u.k))return u}function Jn(e,t){const n=mt(e,t);if(!(n<0))return e.array[n]}function _t(e,t,n,r){switch(e.type){case j:return Zn(e,t,n,r);case O:return Qn(e,t,n,r);case te:return er(e,r)}}function Zn(e,t,n,r){const i=Ie(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===A){if(!X(s.k,r))return e}else if(u=_t(s,t+B,n,r),u===s)return e;if(u===void 0){if(e.size<=Dn){const l=e.array,o=new Array(e.size-1);let d=0,I=0,z=0;for(;d<i;){const E=l[d];E!==void 0&&(o[I]=E,z|=1<<d,++I),++d}for(++d;d<l.length;){const E=l[d];E!==void 0&&(o[I]=E,z|=1<<d,++I),++d}return{type:O,bitmap:z,array:o}}return{type:j,size:e.size-1,array:S(e.array,i,u)}}return{type:j,size:e.size,array:S(e.array,i,u)}}function Qn(e,t,n,r){const i=qe(n,t);if(!(e.bitmap&i))return e;const s=wt(e.bitmap,i),u=e.array[s];if(u.type!==A){const l=_t(u,t+B,n,r);return l===u?e:l!==void 0?{type:O,bitmap:e.bitmap,array:S(e.array,s,l)}:e.bitmap===i?void 0:{type:O,bitmap:e.bitmap^i,array:it(e.array,s)}}return X(r,u.k)?e.bitmap===i?void 0:{type:O,bitmap:e.bitmap^i,array:it(e.array,s)}:e}function er(e,t){const n=mt(e,t);if(n<0)return e;if(e.array.length!==1)return{type:te,hash:e.hash,array:it(e.array,n)}}function Xt(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===A){t(s.v,s.k);continue}Xt(s,t)}}}class T{static fromObject(t){const n=Object.keys(t);let r=T.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=T.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new T(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=Te(this.root,0,v(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?pt:this.root,s=ke(i,0,v(t),t,n,r);return s===this.root?this:new T(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=_t(this.root,0,v(t),t);return n===this.root?this:n===void 0?T.new():new T(n,this.size-1)}has(t){return this.root===void 0?!1:Te(this.root,0,v(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){Xt(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+rt(v(n),v(r))|0}),t}equals(t){if(!(t instanceof T)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&X(t.get(i,!r),r)}),n}}const gt=void 0,Nt={};function tr(e){return/^[-+]?(\d+)$/.test(e)?new h(parseInt(e)):new m(gt)}function nr(e){return e.toString()}function rr(e){const t=Jt(e);return t?K.fromArray(Array.from(t).map(n=>n.segment)):K.fromArray(e.match(/./gsu))}function Jt(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function ir(e){var r,i;let t;const n=Jt(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new h([t,e.slice(t.length)]):new m(gt)}function sr(e){let t="";for(const n of e)t=t+n;return t}function bt(e,t){return e.indexOf(t)>=0}function ur(){return T.new()}function Zt(e,t){const n=e.get(t,Nt);return n===Nt?new m(gt):new h(n)}function lr(e,t,n){return n.set(e,t)}function Qt(e){if(typeof e=="string")return"String";if(e instanceof xe)return"Result";if(e instanceof K)return"List";if(e instanceof Re)return"BitArray";if(e instanceof T)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function xt(e,t){return ar(e,Qt(t))}function ar(e,t){return new m(K.fromArray([new ot(e,t,K.fromArray([]))]))}function cr(e){return typeof e=="string"?new h(e):xt("String",e)}function or(e){return Number.isInteger(e)?new h(e):xt("Int",e)}function fr(e,t){const n=()=>xt("Dict",e);if(e instanceof T||e instanceof WeakMap||e instanceof Map){const r=Zt(e,t);return new h(r.isOk()?new lt(r[0]):new Rt)}else return Object.getPrototypeOf(e)==Object.prototype?zt(e,t,()=>new h(new Rt)):zt(e,t,n)}function zt(e,t,n){try{return t in e?new h(new lt(e[t])):n()}catch{return n()}}function Ve(){return ur()}function Ue(e,t){return Zt(e,t)}function ee(e,t,n){return lr(t,n,e)}function hr(e,t){return n=>t(e(n))}class dr extends f{constructor(t){super(),this.all=t}}function jt(){return new dr(a([]))}function U(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?pr(e,t,n,r):Wt(e,t,n,r)}return t!=null&&t.tag?Wt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?yr(e,t):wr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function Wt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?pe(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?pe(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&pe(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new We,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const o of u)i.appendChild(U(null,o,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(U(null,u,n,i));return e&&e.replaceWith(i),i}function pr(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const o=s.get(u);o!==l&&(pe(e,u,o,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)pe(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new We,o=r;for(;o;)if(o._slot){l=o._slot;break}else o=o.parentNode;for(;u;)Array.isArray(l)&&l.length?U(u,l.shift(),n,e):l.head&&(U(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const d of l)e.appendChild(U(null,d,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const o=u.nextSibling;U(u,l.shift(),n,e),u=o}else if(l.head){const o=u.nextSibling;U(u,l.head,n,e),l=l.tail,u=o}else{const o=u.nextSibling;u.remove(),u=o}for(const o of l)e.appendChild(U(null,o,n,e))}return e}function pe(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>Ae(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function wr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function yr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var k,F,D,H,Y,me,ce,oe,_e,st,ge,ut;class mr{constructor(t,n,r){L(this,_e);L(this,ge);L(this,k,null);L(this,F,null);L(this,D,[]);L(this,H,[]);L(this,Y,!1);L(this,me,null);L(this,ce,null);L(this,oe,null);_(this,me,t),_(this,ce,n),_(this,oe,r)}start(t,n){if(!br())return new m(new Tr);if(y(this,k))return new m(new Sr);if(_(this,k,t instanceof HTMLElement?t:document.querySelector(t)),!y(this,k))return new m(new Rr);const[r,i]=y(this,me).call(this,n);return _(this,F,r),_(this,H,i.all.toArray()),_(this,Y,!0),window.requestAnimationFrame(()=>de(this,_e,st).call(this)),new h(s=>this.dispatch(s))}dispatch(t){y(this,D).push(t),de(this,_e,st).call(this)}emit(t,n=null){y(this,k).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!y(this,k))return new m(new Cr);y(this,k).remove(),_(this,k,null),_(this,F,null),_(this,D,[]),_(this,H,[]),_(this,Y,!1),_(this,ce,()=>{}),_(this,oe,()=>{})}}k=new WeakMap,F=new WeakMap,D=new WeakMap,H=new WeakMap,Y=new WeakMap,me=new WeakMap,ce=new WeakMap,oe=new WeakMap,_e=new WeakSet,st=function(){if(de(this,ge,ut).call(this),y(this,Y)){const t=y(this,oe).call(this,y(this,F));_(this,k,U(y(this,k),t,n=>this.dispatch(n))),_(this,Y,!1)}},ge=new WeakSet,ut=function(t=0){if(y(this,k)){if(y(this,D).length)for(;y(this,D).length;){const[n,r]=y(this,ce).call(this,y(this,F),y(this,D).shift());y(this,Y)||_(this,Y,y(this,F)!==n),_(this,F,n),_(this,H,y(this,H).concat(r.all.toArray()))}for(;y(this,H).length;)y(this,H).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));y(this,D).length&&(t>=5?console.warn(tooManyUpdates):de(this,ge,ut).call(this,++t))}};const _r=(e,t,n)=>new mr(e,t,n),gr=(e,t,n)=>e.start(t,n),br=()=>window&&window.document;function Fe(e){let n=Ft(e);return Dt(n)}function xr(e){return ir(e)}class en extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class $r extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}function fe(e,t){return new en(e,ft(t),!1)}function tn(e,t){return new en(e,ft(t),!0)}function Ar(e,t){return new $r("on"+e,hr(t,n=>ct(n,void 0)))}function Ir(e){return fe("style",at(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function Bt(e){return fe("id",e)}function kr(e){return fe("placeholder",e)}function ie(e){return fe("href",e)}function Or(e){return fe("src",e)}function Er(e){return tn("height",$e(e))}function Lr(e){return tn("width",$e(e))}class vr extends f{constructor(t){super(),this.content=t}}class $ extends f{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function P(e,t,n){return e==="area"?new $("",e,t,a([]),!1,!0):e==="base"?new $("",e,t,a([]),!1,!0):e==="br"?new $("",e,t,a([]),!1,!0):e==="col"?new $("",e,t,a([]),!1,!0):e==="embed"?new $("",e,t,a([]),!1,!0):e==="hr"?new $("",e,t,a([]),!1,!0):e==="img"?new $("",e,t,a([]),!1,!0):e==="input"?new $("",e,t,a([]),!1,!0):e==="link"?new $("",e,t,a([]),!1,!0):e==="meta"?new $("",e,t,a([]),!1,!0):e==="param"?new $("",e,t,a([]),!1,!0):e==="source"?new $("",e,t,a([]),!1,!0):e==="track"?new $("",e,t,a([]),!1,!0):e==="wbr"?new $("",e,t,a([]),!1,!0):new $("",e,t,n,!1,!1)}function p(e){return new vr(e)}class Sr extends f{}class Cr extends f{}class Rr extends f{}class Tr extends f{}function Mr(e,t,n){return _r(s=>[e(s),jt()],(s,u)=>[t(s,u),jt()],n)}function Je(e,t){return P("h3",e,t)}function Ze(e,t){return P("div",e,t)}function Qe(e,t){return P("p",e,t)}function se(e,t){return P("a",e,t)}function Nr(e){return P("br",e,a([]))}function et(e,t){return P("code",e,t)}function zr(e,t){return P("strong",e,t)}function jr(e){return P("iframe",e,a([]))}function Wr(e){return P("textarea",e,a([]))}function Br(e,t){return Ar(e,t)}function qr(e){let t=e;return Tt("target",Tt("value",Ht))(t)}function Vr(e){return Br("input",t=>{let n=qr(t);return Ae(n,e)})}class Me extends f{constructor(t){super(),this.error=t}}class ve extends f{constructor(t,n){super(),this.row=t,this.col=n}}class N extends f{constructor(t){super(),this.parse=t}}function x(e,t,n){let r=e.parse;return r(t,n)}function De(e){return new N((t,n)=>{if(!(n instanceof ve))throw Be("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new h([s,u,new ve(r+1,0)]):new h([s,u,new ve(r,i+1)]):new m(new Me(s))}else return new m(new Me("EOF"))})}function w(e){return De(t=>e===t)}function re(e,t){return new N((n,r)=>zn(x(e,n,r),x(t,n,r)))}function Oe(e){return new N((t,n)=>{if(e.hasLength(0))return new m(new Me("choiceless choice"));if(e.hasLength(1)){let r=e.head;return x(r,t,n)}else{let r=e.head,i=e.tail,s=x(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],o=s[0][2];return new h([u,l,o])}else return x(Oe(i),t,n)}})}function J(e){return new N((t,n)=>{let r=x(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return Ae(x(J(e),s,u),l=>[be(i,l[0]),l[1],l[2]])}else return new h([a([]),t,n])})}function nn(e){return new N((t,n)=>{let r=x(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return Ae(x(J(e),s,u),l=>[be(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function W(e,t){return new N((n,r)=>{let i=x(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new h([t(s),u,l])}else{let s=i[0];return new m(s)}})}function Ur(e){return new N((t,n)=>{let r=x(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new h([new h(i),s,u])}else return new h([new m(void 0),t,n])})}function $t(e){return new N((t,n)=>x(e,t,n).isOk()?new m(new Me("")):new h([void 0,t,n]))}function C(e){return new N((t,n)=>x(e(),t,n))}function c(e,t){return new N((n,r)=>{let i=x(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return x(t(s),u,l)}else{let s=i[0];return new m(s)}})}function g(e){return new N((t,n)=>new h([e,t,n]))}function ne(e){let t=xr(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return c(w(n),i=>c(ne(r),s=>g(i+s)))}else return g("")}function rn(e,t){let n=x(e,rr(t),new ve(1,1));if(n.isOk()){let r=n[0][0];return new h(r)}else{let r=n[0];return new m(r)}}function Fr(){return De(e=>bt("abcdefghijklmnopqrstuvwxyz",e))}function Dr(){return De(e=>bt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function At(){return re(Fr(),Dr())}function It(){return De(e=>bt("0123456789",e))}function Ee(){return re(It(),At())}let sn=class extends f{constructor(t){super(),this[0]=t}},un=class extends f{constructor(t){super(),this[0]=t}},ln=class extends f{constructor(t,n){super(),this[0]=t,this[1]=n}},Hr=class extends f{constructor(t,n){super(),this[0]=t,this[1]=n}},an=class extends f{constructor(t){super(),this.int=t}},Le=class extends f{constructor(t,n){super(),this.val=t,this.gen=n}},kt=class extends f{constructor(t){super(),this[0]=t}},Ot=class extends f{constructor(t,n){super(),this[0]=t,this[1]=n}},we=class extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},Ne=class extends f{constructor(t,n){super(),this[0]=t,this[1]=n}};function Pr(){let e=nn(It()),t=W(e,Fe),n=W(t,Vt),r=W(n,i=>Ut(i,()=>{throw Be("panic","tinylang",19,"","parsed int isn't an int",{})}));return W(r,i=>new sn(i))}function cn(){return c(At(),e=>c(J(re(Ee(),w("_"))),t=>g(e+Fe(t))))}function Gr(){let e=cn();return W(e,t=>new un(t))}function le(){return c(J(Oe(a([w(" "),w("	"),w(`
`)]))),e=>g(void 0))}function Yr(e,t){return t(new an(e.int+1),e.int)}function Se(e,t,n){if(t instanceof sn){let r=t[0];return new h(new Le(new kt(r),e))}else if(t instanceof un){let r=t[0],i=Ue(n,r);if(i.isOk()){let s=i[0];return new h(new Le(new Ot(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof ln){let r=t[0],i=t[1];return Yr(e,(s,u)=>b(Se(s,i,ee(n,r,u)),l=>{let o=new we(u,r,l.val),d=new Le(o,s);return new h(d)}))}else{let r=t[0],i=t[1];return b(Se(e,r,n),s=>b(Se(s.gen,i,n),u=>{let l=new Ne(s.val,u.val),o=new Le(l,u.gen);return new h(o)}))}}function Kr(e,t){return b(Se(e,t,Ve()),n=>new h(n.val))}function Ce(e,t){for(;;){let n=e,r=t;if(n instanceof kt)return n;if(n instanceof Ot){let i=n[0],s=Ue(r,i);return s.isOk()?s[0]:n}else if(n instanceof Ne){let i=n[0],s=n[1],u=Ce(i,r),l=Ce(s,r);if(u instanceof we){let o=u[0];e=u[2],t=ee(r,o,l)}else return new Ne(u,l)}else{let i=n[0],s=n[1],u=n[2];return new we(i,s,Ce(u,r))}}}function Xr(e){return Ce(e,Ve())}function ue(e){if(e instanceof kt){let t=e[0];return $e(t)}else{if(e instanceof Ot)return e[1];if(e instanceof we){let t=e[1],n=e[2];return"\\"+t+". "+ue(n)}else if(e instanceof Ne&&e[0]instanceof we){let t=e[0],n=e[1];return"("+ue(t)+")("+ue(n)+")"}else{let t=e[0],n=e[1];return ue(t)+"("+ue(n)+")"}}}function Jr(e){return e.isOk(),e[0]}function He(){return c(le(),e=>c(Oe(a([Pr(),Gr(),Zr(),Qr()])),t=>c(le(),n=>c(J(c(w("("),r=>c(C(He),i=>c(w(")"),s=>c(le(),u=>g(i)))))),r=>{let i=at(r,t,(s,u)=>new Hr(s,u));return g(i)}))))}function Zr(){return c(w("\\"),e=>c(le(),t=>c(cn(),n=>c(le(),r=>c(w("."),i=>c(le(),s=>c(C(He),u=>g(new ln(n,u)))))))))}function Qr(){return c(w("("),e=>c(C(He),t=>c(w(")"),n=>g(t))))}function ei(e){let t=b(ct(rn(He(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>b(Kr(new an(0),n),r=>{let i=Xr(r);return new h(ue(i))}));return Jr(t)}class on extends f{constructor(t){super(),this[0]=t}}class fn extends f{constructor(t){super(),this[0]=t}}class hn extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class dn extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class pn extends f{}class wn extends f{}class Et extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class ti extends f{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class yn extends f{constructor(t){super(),this.int=t}}class G extends f{constructor(t,n){super(),this.val=t,this.gen=n}}class Lt extends f{constructor(t){super(),this[0]=t}}class vt extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class ae extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class ye extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class ze extends f{}class je extends f{}class St extends f{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class mn extends f{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function ni(){let e=nn(It()),t=W(e,Fe),n=W(t,Vt),r=W(n,i=>Ut(i,()=>{throw Be("panic","tinytypedlang",23,"","parsed int isn't an int",{})}));return W(r,i=>new on(i))}function Pe(){return c(At(),e=>c(J(re(Ee(),w("_"))),t=>g(e+Fe(t))))}function ri(){let e=Pe();return W(e,t=>new fn(t))}function ii(){return c(ne("Type"),e=>c($t(re(Ee(),w("_"))),t=>g(new pn)))}function si(){return c(ne("Int"),e=>c($t(re(Ee(),w("_"))),t=>g(new wn)))}function M(){return c(J(Oe(a([w(" "),w("	"),w(`
`)]))),e=>g(void 0))}function tt(e,t){return t(new yn(e.int+1),e.int)}function V(e,t,n){if(t instanceof on){let r=t[0];return new h(new G(new Lt(r),e))}else if(t instanceof fn){let r=t[0],i=Ue(n,r);if(i.isOk()){let s=i[0];return new h(new G(new vt(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof hn){let r=t[0],i=t[1];return tt(e,(s,u)=>b(V(s,i,ee(n,r,u)),l=>{let o=new ae(u,r,l.val),d=new G(o,s);return new h(d)}))}else if(t instanceof dn){let r=t[0],i=t[1];return b(V(e,r,n),s=>b(V(s.gen,i,n),u=>{let l=new ye(s.val,u.val),o=new G(l,u.gen);return new h(o)}))}else{if(t instanceof pn)return new h(new G(new ze,e));if(t instanceof wn)return new h(new G(new je,e));if(t instanceof Et){let r=t[0],i=t[1],s=t[2];return tt(e,(u,l)=>b(V(u,i,n),o=>b(V(o.gen,s,ee(n,r,l)),d=>{let I=new St(l,r,o.val,d.val),z=new G(I,d.gen);return new h(z)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return tt(e,(l,o)=>b(V(l,i,n),d=>{let I=ee(n,r,o);return b(V(d.gen,s,I),z=>b(V(z.gen,u,I),E=>{let he=new mn(o,r,d.val,z.val,E.val),Ge=new G(he,E.gen);return new h(Ge)}))}))}}}function ui(e,t){return b(V(e,t,Ve()),n=>new h(n.val))}function Z(e,t){for(;;){let n=e,r=t;if(n instanceof Lt)return n;if(n instanceof vt){let i=n[0],s=Ue(r,i);return s.isOk()?s[0]:n}else if(n instanceof ye){let i=n[0],s=n[1],u=Z(i,r),l=Z(s,r);if(u instanceof ae){let o=u[0];e=u[2],t=ee(r,o,l)}else return new ye(u,l)}else{if(n instanceof ze)return new ze;if(n instanceof je)return new je;if(n instanceof mn){let i=n[0],s=n[3];e=n[4],t=ee(r,i,Z(s,r))}else if(n instanceof ae){let i=n[0],s=n[1],u=n[2];return new ae(i,s,Z(u,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new St(i,s,Z(u,r),Z(l,r))}}}}function li(e){return Z(e,Ve())}function R(e){if(e instanceof Lt){let t=e[0];return $e(t)}else{if(e instanceof vt)return e[1];if(e instanceof ae){let t=e[1],n=e[2];return"\\"+t+". "+R(n)}else if(e instanceof ye&&e[0]instanceof ae){let t=e[0],n=e[1];return"("+R(t)+")("+R(n)+")"}else if(e instanceof ye){let t=e[0],n=e[1];return R(t)+"("+R(n)+")"}else{if(e instanceof ze)return"Type";if(e instanceof je)return"Int";if(e instanceof St){let t=e[1],n=e[2],r=e[3];return"forall "+t+": "+R(n)+". "+R(r)}else{let t=e[1],n=e[2],r=e[3],i=e[4];return"let "+t+": "+R(n)+" = "+R(r)+`;
`+R(i)}}}}function ai(e){return e.isOk(),e[0]}function q(){return c(M(),e=>c(Oe(a([ni(),ii(),si(),ci(),fi(),ri(),oi(),hi()])),t=>c(M(),n=>c(J(c(w("("),r=>c(C(q),i=>c(w(")"),s=>c(M(),u=>g(i)))))),r=>{let i=at(r,t,(s,u)=>new dn(s,u));return c(Ur(ne("->")),s=>c((()=>s.isOk()?c(C(q),u=>g(new Et("_",i,u))):g(i))(),u=>g(u)))}))))}function ci(){return c(ne("forall"),e=>c($t(re(Ee(),w("_"))),t=>c(M(),n=>c(Pe(),r=>c(M(),i=>c(w(":"),s=>c(M(),u=>c(C(q),l=>c(w("."),o=>c(C(q),d=>g(new Et(r,l,d))))))))))))}function oi(){return c(w("\\"),e=>c(M(),t=>c(Pe(),n=>c(M(),r=>c(w("."),i=>c(M(),s=>c(C(q),u=>g(new hn(n,u)))))))))}function fi(){return c(ne("let "),e=>c(M(),t=>c(Pe(),n=>c(M(),r=>c(w(":"),i=>c(C(q),s=>c(ne("="),u=>c(C(q),l=>c(w(";"),o=>c(C(q),d=>g(new ti(n,s,l,d))))))))))))}function hi(){return c(w("("),e=>c(C(q),t=>c(w(")"),n=>g(t))))}function di(e){let t=b(ct(rn(q(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>b(ui(new yn(0),n),r=>{let i=li(r);return new h(R(i))}));return ai(t)}class pi extends f{constructor(t){super(),this[0]=t}}function wi(e){return["",!0]}function yi(e,t){return[t[0],e[1]]}function mi(e){return Ze(a([]),a([Je(a([]),a([p("Who I Am")])),Qe(a([]),a([p("I'm Ryan Brewer, the software developer behind "),se(a([ie("https://github.com/RyanBrewer317/SaberVM")]),a([p("SaberVM")])),p(`,
an abstract machine for safe, portable computation that functional languages can compile to. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, both informationally and financially. 
Consider supporting my work!
`)])),jr(a([Or("https://github.com/sponsors/RyanBrewer317/button"),fe("title","Sponsor RyanBrewer317"),Er(32),Lr(114),Ir(a([["border","0"],["border-radius","6px;"]]))])),Je(a([]),a([p("My Website")])),Qe(a([]),a([p("This is my website. It's hosted by Firebase and written mostly in "),se(a([ie("https://gleam.run")]),a([p("Gleam")])),p(", and the code is up on my "),se(a([ie("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([p("github")])),p(". The only framework used is "),se(a([ie("https://lustre.build/")]),a([p("Lustre")])),p("; scripting, markup, styles, and layout were all done by hand.")])),Je(a([]),a([p("Lambda Calculus in Gleam")])),Qe(a([]),a([p(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),se(a([ie("https://gleam.run")]),a([p("Gleam")])),p(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),et(a([]),a([p("\\var. body")])),p(", and are called like "),et(a([]),a([p("fun(arg)")])),p(". There are also positive integers like 7. Try writing "),et(a([]),a([p("(\\x.x)(2)")])),p(", which evaluates to 2. The code for this can be found "),se(a([ie("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([p("here")])),p(". (It's currently broken on firefox, but definitely works on chrome.)")])),Wr(a([Bt("code"),kr("Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)"),Vr(t=>new pi(t))])),Nr(a([])),(()=>{if(e[0]==="")return p("");{let t=e[0],n=e[1],r=(()=>n?di(t):ei(t))();return(i=>Ze(a([]),a([zr(a([]),a([p("output ")])),p(" (variables may be renamed): "),Ze(a([Bt("code-output")]),a([p(i)]))])))(r)}})()]))}function _i(){let e=Mr(wi,yi,mi),t=gr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw Be("assignment_no_match","ryanbrewerdev",15,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{_i()});
