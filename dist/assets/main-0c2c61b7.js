var ht=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var g=(e,t,n)=>(ht(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$=(e,t,n,r)=>(ht(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Le=(e,t,n)=>(ht(e,t,"access private method"),n);import"./style-c607558d.js";class p{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class he{static fromArray(t,n){let r=n||new nt;for(let i=t.length-1;i>=0;--i)r=new tn(t[i],r);return r}[Symbol.iterator](){return new zn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function ze(e,t){return new tn(e,t)}function a(e,t){return he.fromArray(e,t)}var ge;class zn{constructor(t){z(this,ge,void 0);$(this,ge,t)}next(){if(g(this,ge)instanceof nt)return{done:!0};{let{head:t,tail:n}=g(this,ge);return $(this,ge,n),{value:t,done:!1}}}}ge=new WeakMap;class nt extends he{}class tn extends he{constructor(t,n){super(),this.head=t,this.tail=n}}class Ke{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return Bn(this.buffer.slice(t,t+8))}intFromSlice(t,n){return jn(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Ke(this.buffer.slice(t,n))}sliceAfter(t){return new Ke(this.buffer.slice(t))}}function jn(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function Bn(e){return new Float64Array(e.reverse().buffer)[0]}class je extends p{static isResult(t){return t instanceof je}}class c extends je{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends je{constructor(t){super(),this[0]=t}isOk(){return!1}}function we(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Dt(r)||!Dt(i)||!Hn(r,i)||qn(r,i)||Vn(r,i)||Un(r,i)||Fn(r,i)||Pn(r,i)||Dn(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,o]=Wn(r);for(let h of l(r))n.push(o(r,h),o(i,h))}return!0}function Wn(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function qn(e,t){return e instanceof Date&&(e>t||e<t)}function Vn(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Un(e,t){return Array.isArray(e)&&e.length!==t.length}function Fn(e,t){return e instanceof Map&&e.size!==t.size}function Pn(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Dn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Dt(e){return typeof e=="object"&&e!==null}function Hn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function rt(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class k extends p{constructor(t){super(),this[0]=t}}class Y extends p{}function Gn(e,t){if(e instanceof k){let n=e[0];return new c(n)}else return new m(t)}function Ht(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new Y}function nn(e){return gr(e)}function it(e){return br(e)}function Yn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=ze(i,r)}}}function Kn(e){return Yn(e,a([]))}function Xn(e){return Kn(e)}function Jn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return Xn(s);{let u=r.head;e=r.tail,t=i,n=ze(i(u),s)}}}function Zn(e,t){return Jn(e,t,a([]))}function It(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function de(e,t){if(e.isOk()){let n=e[0];return new c(t(n))}else{let n=e[0];return new m(n)}}function rn(e,t){if(e.isOk()){let n=e[0];return new c(n)}else{let n=e[0];return new m(t(n))}}function y(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function sn(e,t){return e.isOk()?e[0]:t()}function Qn(e,t){return e.isOk()?e:t}function vt(e,t){if(e.isOk()){let n=e[0];return new c(n)}else return new m(t)}function un(e){return kr(e)}function ln(e){return e}class Et extends p{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function Ot(e){return e}function an(e){return Er(e)}function on(e){return yn(e)}function er(e){return Or(e)}function tr(e){return Lr(e)}function fn(e){return t=>{if(e.hasLength(0))return new m(a([new Et("another type",on(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new c(s)}else return fn(r)(t)}}}function nr(e,t){let n=Ot(t),r=fn(a([an,s=>de(er(s),it)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=a(["<",on(n),">"]),l=un(u);return ln(l)}})();return e.withFields({path:ze(i,e.path)})}function rr(e,t){return rn(e,n=>Zn(n,t))}function Xe(e,t){return n=>{let r=new Et("field","nothing",a([]));return y(Tr(n,e),i=>{let u=Gn(i,a([r])),l=y(u,t);return rr(l,o=>nr(o,e))})}}const Gt=new WeakMap,dt=new DataView(new ArrayBuffer(8));let pt=0;function bt(e){const t=Gt.get(e);if(t!==void 0)return t;const n=pt++;return pt===2147483647&&(pt=0),Gt.set(e,n),n}function $t(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Lt(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function cn(e){dt.setFloat64(0,e);const t=dt.getInt32(0),n=dt.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function ir(e){return Lt(e.toString())}function sr(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return bt(e);if(e instanceof Date)return cn(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+B(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+B(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+$t(B(r),B(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+$t(B(u),Lt(s))|0}}return n}function B(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return cn(e);case"string":return Lt(e);case"bigint":return ir(e);case"object":return sr(e);case"symbol":return bt(e);case"function":return bt(e);default:return 0}}const Q=5,Tt=Math.pow(2,Q),ur=Tt-1,lr=Tt/2,ar=Tt/4,O=0,Z=1,M=2,be=3,St={type:M,bitmap:0,array:[]};function Be(e,t){return e>>>t&ur}function st(e,t){return 1<<Be(e,t)}function or(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Ct(e,t){return or(e&t-1)}function W(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function fr(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function xt(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function hn(e,t,n,r,i,s){const u=B(t);if(u===r)return{type:be,hash:u,array:[{type:O,k:t,v:n},{type:O,k:i,v:s}]};const l={val:!1};return We(Mt(St,e,u,t,n,l),e,r,i,s,l)}function We(e,t,n,r,i,s){switch(e.type){case Z:return cr(e,t,n,r,i,s);case M:return Mt(e,t,n,r,i,s);case be:return hr(e,t,n,r,i,s)}}function cr(e,t,n,r,i,s){const u=Be(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:Z,size:e.size+1,array:W(e.array,u,{type:O,k:r,v:i})};if(l.type===O)return we(r,l.k)?i===l.v?e:{type:Z,size:e.size,array:W(e.array,u,{type:O,k:r,v:i})}:(s.val=!0,{type:Z,size:e.size,array:W(e.array,u,hn(t+Q,l.k,l.v,n,r,i))});const o=We(l,t+Q,n,r,i,s);return o===l?e:{type:Z,size:e.size,array:W(e.array,u,o)}}function Mt(e,t,n,r,i,s){const u=st(n,t),l=Ct(e.bitmap,u);if(e.bitmap&u){const o=e.array[l];if(o.type!==O){const b=We(o,t+Q,n,r,i,s);return b===o?e:{type:M,bitmap:e.bitmap,array:W(e.array,l,b)}}const h=o.k;return we(r,h)?i===o.v?e:{type:M,bitmap:e.bitmap,array:W(e.array,l,{type:O,k:r,v:i})}:(s.val=!0,{type:M,bitmap:e.bitmap,array:W(e.array,l,hn(t+Q,h,o.v,n,r,i))})}else{const o=e.array.length;if(o>=lr){const h=new Array(32),b=Be(n,t);h[b]=Mt(St,t+Q,n,r,i,s);let L=0,A=e.bitmap;for(let te=0;te<32;te++){if(A&1){const Fe=e.array[L++];h[te]=Fe}A=A>>>1}return{type:Z,size:o+1,array:h}}else{const h=fr(e.array,l,{type:O,k:r,v:i});return s.val=!0,{type:M,bitmap:e.bitmap|u,array:h}}}}function hr(e,t,n,r,i,s){if(n===e.hash){const u=Rt(e,r);if(u!==-1)return e.array[u].v===i?e:{type:be,hash:n,array:W(e.array,u,{type:O,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:be,hash:n,array:W(e.array,l,{type:O,k:r,v:i})}}return We({type:M,bitmap:st(e.hash,t),array:[e]},t,n,r,i,s)}function Rt(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(we(t,e.array[r].k))return r;return-1}function Je(e,t,n,r){switch(e.type){case Z:return dr(e,t,n,r);case M:return pr(e,t,n,r);case be:return wr(e,r)}}function dr(e,t,n,r){const i=Be(n,t),s=e.array[i];if(s!==void 0){if(s.type!==O)return Je(s,t+Q,n,r);if(we(r,s.k))return s}}function pr(e,t,n,r){const i=st(n,t);if(!(e.bitmap&i))return;const s=Ct(e.bitmap,i),u=e.array[s];if(u.type!==O)return Je(u,t+Q,n,r);if(we(r,u.k))return u}function wr(e,t){const n=Rt(e,t);if(!(n<0))return e.array[n]}function Nt(e,t,n,r){switch(e.type){case Z:return yr(e,t,n,r);case M:return mr(e,t,n,r);case be:return _r(e,r)}}function yr(e,t,n,r){const i=Be(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===O){if(!we(s.k,r))return e}else if(u=Nt(s,t+Q,n,r),u===s)return e;if(u===void 0){if(e.size<=ar){const l=e.array,o=new Array(e.size-1);let h=0,b=0,L=0;for(;h<i;){const A=l[h];A!==void 0&&(o[b]=A,L|=1<<h,++b),++h}for(++h;h<l.length;){const A=l[h];A!==void 0&&(o[b]=A,L|=1<<h,++b),++h}return{type:M,bitmap:L,array:o}}return{type:Z,size:e.size-1,array:W(e.array,i,u)}}return{type:Z,size:e.size,array:W(e.array,i,u)}}function mr(e,t,n,r){const i=st(n,t);if(!(e.bitmap&i))return e;const s=Ct(e.bitmap,i),u=e.array[s];if(u.type!==O){const l=Nt(u,t+Q,n,r);return l===u?e:l!==void 0?{type:M,bitmap:e.bitmap,array:W(e.array,s,l)}:e.bitmap===i?void 0:{type:M,bitmap:e.bitmap^i,array:xt(e.array,s)}}return we(r,u.k)?e.bitmap===i?void 0:{type:M,bitmap:e.bitmap^i,array:xt(e.array,s)}:e}function _r(e,t){const n=Rt(e,t);if(n<0)return e;if(e.array.length!==1)return{type:be,hash:e.hash,array:xt(e.array,n)}}function dn(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===O){t(s.v,s.k);continue}dn(s,t)}}}class P{static fromObject(t){const n=Object.keys(t);let r=P.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=P.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new P(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=Je(this.root,0,B(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?St:this.root,s=We(i,0,B(t),t,n,r);return s===this.root?this:new P(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Nt(this.root,0,B(t),t);return n===this.root?this:n===void 0?P.new():new P(n,this.size-1)}has(t){return this.root===void 0?!1:Je(this.root,0,B(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){dn(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+$t(B(n),B(r))|0}),t}equals(t){if(!(t instanceof P)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&we(t.get(i,!r),r)}),n}}const zt=void 0,Yt={};function gr(e){return/^[-+]?(\d+)$/.test(e)?new c(parseInt(e)):new m(zt)}function br(e){return e.toString()}function $r(e){const t=pn(e);return t?he.fromArray(Array.from(t).map(n=>n.segment)):he.fromArray(e.match(/./gsu))}function pn(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function xr(e){var r,i;let t;const n=pn(e);return n?t=(r=n.next().value)==null?void 0:r.segment:t=(i=e.match(/./su))==null?void 0:i[0],t?new c([t,e.slice(t.length)]):new m(zt)}function kr(e){let t="";for(const n of e)t=t+n;return t}function jt(e,t){return e.indexOf(t)>=0}function Ar(){return P.new()}function wn(e,t){const n=e.get(t,Yt);return n===Yt?new m(zt):new c(n)}function Ir(e,t,n){return n.set(e,t)}function yn(e){if(typeof e=="string")return"String";if(e instanceof je)return"Result";if(e instanceof he)return"List";if(e instanceof Ke)return"BitArray";if(e instanceof P)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function ut(e,t){return vr(e,yn(t))}function vr(e,t){return new m(he.fromArray([new Et(e,t,he.fromArray([]))]))}function Er(e){return typeof e=="string"?new c(e):ut("String",e)}function Or(e){return Number.isInteger(e)?new c(e):ut("Int",e)}function Lr(e){return typeof e=="boolean"?new c(e):ut("Bool",e)}function Tr(e,t){const n=()=>ut("Dict",e);if(e instanceof P||e instanceof WeakMap||e instanceof Map){const r=wn(e,t);return new c(r.isOk()?new k(r[0]):new Y)}else return Object.getPrototypeOf(e)==Object.prototype?Kt(e,t,()=>new c(new Y)):Kt(e,t,n)}function Kt(e,t,n){try{return t in e?new c(new k(e[t])):n()}catch{return n()}}function Oe(){return Ar()}function qe(e,t){return wn(e,t)}function T(e,t,n){return Ir(t,n,e)}function Sr(e,t){return n=>t(e(n))}class Cr extends p{constructor(t){super(),this.all=t}}function Xt(){return new Cr(a([]))}function re(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?Mr(e,t,n,r):Jt(e,t,n,r)}return t!=null&&t.tag?Jt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?Nr(e,t):Rr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function Jt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?Se(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?Se(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&Se(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new nt,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const o of u)i.appendChild(re(null,o,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(re(null,u,n,i));return e&&e.replaceWith(i),i}function Mr(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const o=s.get(u);o!==l&&(Se(e,u,o,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)Se(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new nt,o=r;for(;o;)if(o._slot){l=o._slot;break}else o=o.parentNode;for(;u;)Array.isArray(l)&&l.length?re(u,l.shift(),n,e):l.head&&(re(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const h of l)e.appendChild(re(null,h,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const o=u.nextSibling;re(u,l.shift(),n,e),u=o}else if(l.head){const o=u.nextSibling;re(u,l.head,n,e),l=l.tail,u=o}else{const o=u.nextSibling;u.remove(),u=o}for(const o of l)e.appendChild(re(null,o,n,e))}return e}function Se(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>de(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function Rr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function Nr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var C,se,ue,le,ce,Me,ve,Ee,Re,kt,Ne,At;class zr{constructor(t,n,r){z(this,Re);z(this,Ne);z(this,C,null);z(this,se,null);z(this,ue,[]);z(this,le,[]);z(this,ce,!1);z(this,Me,null);z(this,ve,null);z(this,Ee,null);$(this,Me,t),$(this,ve,n),$(this,Ee,r)}start(t,n){if(!Wr())return new m(new Qr);if(g(this,C))return new m(new Xr);if($(this,C,t instanceof HTMLElement?t:document.querySelector(t)),!g(this,C))return new m(new Zr);const[r,i]=g(this,Me).call(this,n);return $(this,se,r),$(this,le,i.all.toArray()),$(this,ce,!0),window.requestAnimationFrame(()=>Le(this,Re,kt).call(this)),new c(s=>this.dispatch(s))}dispatch(t){g(this,ue).push(t),Le(this,Re,kt).call(this)}emit(t,n=null){g(this,C).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!g(this,C))return new m(new Jr);g(this,C).remove(),$(this,C,null),$(this,se,null),$(this,ue,[]),$(this,le,[]),$(this,ce,!1),$(this,ve,()=>{}),$(this,Ee,()=>{})}}C=new WeakMap,se=new WeakMap,ue=new WeakMap,le=new WeakMap,ce=new WeakMap,Me=new WeakMap,ve=new WeakMap,Ee=new WeakMap,Re=new WeakSet,kt=function(){if(Le(this,Ne,At).call(this),g(this,ce)){const t=g(this,Ee).call(this,g(this,se));$(this,C,re(g(this,C),t,n=>this.dispatch(n))),$(this,ce,!1)}},Ne=new WeakSet,At=function(t=0){if(g(this,C)){if(g(this,ue).length)for(;g(this,ue).length;){const[n,r]=g(this,ve).call(this,g(this,se),g(this,ue).shift());g(this,ce)||$(this,ce,g(this,se)!==n),$(this,se,n),$(this,le,g(this,le).concat(r.all.toArray()))}for(;g(this,le).length;)g(this,le).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));g(this,ue).length&&(t>=5?console.warn(tooManyUpdates):Le(this,Ne,At).call(this,++t))}};const jr=(e,t,n)=>new zr(e,t,n),Br=(e,t,n)=>e.start(t,n),Wr=()=>window&&window.document;function lt(e){let n=un(e);return ln(n)}function qr(e){return xr(e)}class mn extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class Vr extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}function ae(e,t){return new mn(e,Ot(t),!1)}function Ur(e,t){return new mn(e,Ot(t),!0)}function Fr(e,t){return new Vr("on"+e,Sr(t,n=>vt(n,void 0)))}function wt(e){return ae("style",It(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function Pr(e){return ae("class",e)}function oe(e){return ae("id",e)}function Dr(e){return ae("type",e)}function Hr(e){return ae("placeholder",e)}function Gr(e){return ae("for",e)}function U(e){return ae("href",e)}function yt(e){return ae("src",e)}function Yr(e){return Ur("width",it(e))}function Zt(e){return ae("alt",e)}class Kr extends p{constructor(t){super(),this.content=t}}class v extends p{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function V(e,t,n){return e==="area"?new v("",e,t,a([]),!1,!0):e==="base"?new v("",e,t,a([]),!1,!0):e==="br"?new v("",e,t,a([]),!1,!0):e==="col"?new v("",e,t,a([]),!1,!0):e==="embed"?new v("",e,t,a([]),!1,!0):e==="hr"?new v("",e,t,a([]),!1,!0):e==="img"?new v("",e,t,a([]),!1,!0):e==="input"?new v("",e,t,a([]),!1,!0):e==="link"?new v("",e,t,a([]),!1,!0):e==="meta"?new v("",e,t,a([]),!1,!0):e==="param"?new v("",e,t,a([]),!1,!0):e==="source"?new v("",e,t,a([]),!1,!0):e==="track"?new v("",e,t,a([]),!1,!0):e==="wbr"?new v("",e,t,a([]),!1,!0):new v("",e,t,n,!1,!1)}function d(e){return new Kr(e)}class Xr extends p{}class Jr extends p{}class Zr extends p{}class Qr extends p{}function ei(e,t,n){return jr(s=>[e(s),Xt()],(s,u)=>[t(s,u),Xt()],n)}function mt(e,t){return V("h3",e,t)}function me(e,t){return V("div",e,t)}function Pe(e,t){return V("p",e,t)}function F(e,t){return V("a",e,t)}function Qt(e){return V("br",e,a([]))}function ne(e,t){return V("code",e,t)}function en(e,t){return V("span",e,t)}function ti(e,t){return V("strong",e,t)}function _t(e){return V("img",e,a([]))}function ni(e){return V("input",e,a([]))}function ri(e,t){return V("label",e,t)}function ii(e){return V("textarea",e,a([]))}function _n(e,t){return Fr(e,t)}function si(e){let t=e;return Xe("target",Xe("value",an))(t)}function ui(e){return _n("input",t=>{let n=si(t);return de(n,e)})}function li(e){let t=e;return Xe("target",Xe("checked",tr))(t)}function ai(e){return _n("change",t=>{let n=li(t);return de(n,e)})}class Ze extends p{constructor(t){super(),this.error=t}}class He extends p{constructor(t,n){super(),this.row=t,this.col=n}}class X extends p{constructor(t){super(),this.parse=t}}function I(e,t,n){let r=e.parse;return r(t,n)}function at(e){return new X((t,n)=>{if(!(n instanceof He))throw rt("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new c([s,u,new He(r+1,0)]):new c([s,u,new He(r,i+1)]):new m(new Ze(s))}else return new m(new Ze("EOF"))})}function _(e){return at(t=>e===t)}function ke(e,t){return new X((n,r)=>Qn(I(e,n,r),I(t,n,r)))}function Ve(e){return new X((t,n)=>{if(e.hasLength(0))return new m(new Ze("choiceless choice"));if(e.hasLength(1)){let r=e.head;return I(r,t,n)}else{let r=e.head,i=e.tail,s=I(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],o=s[0][2];return new c([u,l,o])}else return I(Ve(i),t,n)}})}function ye(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return de(I(ye(e),s,u),l=>[ze(i,l[0]),l[1],l[2]])}else return new c([a([]),t,n])})}function gn(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return de(I(ye(e),s,u),l=>[ze(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function q(e,t){return new X((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new c([t(s),u,l])}else{let s=i[0];return new m(s)}})}function Bt(e){return new X((t,n)=>{let r=I(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return new c([new c(i),s,u])}else return new c([new m(void 0),t,n])})}function Wt(e){return new X((t,n)=>I(e,t,n).isOk()?new m(new Ze("")):new c([void 0,t,n]))}function R(e){return new X((t,n)=>I(e(),t,n))}function f(e,t){return new X((n,r)=>{let i=I(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return I(t(s),u,l)}else{let s=i[0];return new m(s)}})}function x(e){return new X((t,n)=>new c([e,t,n]))}function $e(e){let t=qr(e);if(t.isOk()){let n=t[0][0],r=t[0][1];return f(_(n),i=>f($e(r),s=>x(i+s)))}else return x("")}function bn(e,t){let n=I(e,$r(t),new He(1,1));if(n.isOk()){let r=n[0][0];return new c(r)}else{let r=n[0];return new m(r)}}function oi(){return at(e=>jt("abcdefghijklmnopqrstuvwxyz",e))}function fi(){return at(e=>jt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function qt(){return ke(oi(),fi())}function Vt(){return at(e=>jt("0123456789",e))}function Ue(){return ke(Vt(),qt())}let $n=class extends p{constructor(t){super(),this[0]=t}},xn=class extends p{constructor(t){super(),this[0]=t}},kn=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},ci=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},An=class extends p{constructor(t){super(),this.int=t}},De=class extends p{constructor(t,n){super(),this.val=t,this.gen=n}},Ut=class extends p{constructor(t){super(),this[0]=t}},Ft=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}},Ce=class extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}},Qe=class extends p{constructor(t,n){super(),this[0]=t,this[1]=n}};function hi(){let e=gn(Vt()),t=q(e,lt),n=q(t,nn),r=q(n,i=>sn(i,()=>{throw rt("panic","tinylang",19,"","parsed int isn't an int",{})}));return q(r,i=>new $n(i))}function In(){return f(qt(),e=>f(ye(ke(Ue(),_("_"))),t=>x(e+lt(t))))}function di(){let e=In();return q(e,t=>new xn(t))}function Ie(){return f(ye(Ve(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function pi(e,t){return t(new An(e.int+1),e.int)}function Ge(e,t,n){if(t instanceof $n){let r=t[0];return new c(new De(new Ut(r),e))}else if(t instanceof xn){let r=t[0],i=qe(n,r);if(i.isOk()){let s=i[0];return new c(new De(new Ft(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof kn){let r=t[0],i=t[1];return pi(e,(s,u)=>y(Ge(s,i,T(n,r,u)),l=>{let o=new Ce(u,r,l.val),h=new De(o,l.gen);return new c(h)}))}else{let r=t[0],i=t[1];return y(Ge(e,r,n),s=>y(Ge(s.gen,i,n),u=>{let l=new Qe(s.val,u.val),o=new De(l,u.gen);return new c(o)}))}}function wi(e,t){return y(Ge(e,t,Oe()),n=>new c(n.val))}function Ye(e,t){for(;;){let n=e,r=t;if(n instanceof Ut)return n;if(n instanceof Ft){let i=n[0],s=qe(r,i);return s.isOk()?s[0]:n}else if(n instanceof Qe){let i=n[0],s=n[1],u=Ye(i,r),l=Ye(s,r);if(u instanceof Ce){let o=u[0];e=u[2],t=T(r,o,l)}else return new Qe(u,l)}else{let i=n[0],s=n[1],u=n[2];return new Ce(i,s,Ye(u,r))}}}function yi(e){return Ye(e,Oe())}function Ae(e){if(e instanceof Ut){let t=e[0];return it(t)}else{if(e instanceof Ft)return e[1];if(e instanceof Ce){let t=e[1],n=e[2];return"\\"+t+". "+Ae(n)}else if(e instanceof Qe&&e[0]instanceof Ce){let t=e[0],n=e[1];return"("+Ae(t)+")("+Ae(n)+")"}else{let t=e[0],n=e[1];return Ae(t)+"("+Ae(n)+")"}}}function mi(e){return e.isOk(),e[0]}function ot(){return f(Ie(),e=>f(Ve(a([hi(),di(),_i(),gi()])),t=>f(Ie(),n=>f(ye(f(_("("),r=>f(R(ot),i=>f(_(")"),s=>f(Ie(),u=>x(i)))))),r=>{let i=It(r,t,(s,u)=>new ci(s,u));return x(i)}))))}function _i(){return f(_("\\"),e=>f(Ie(),t=>f(In(),n=>f(Ie(),r=>f(_("."),i=>f(Ie(),s=>f(R(ot),u=>x(new kn(n,u)))))))))}function gi(){return f(_("("),e=>f(R(ot),t=>f(_(")"),n=>x(t))))}function bi(e){let t=y(vt(bn(ot(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(wi(new An(0),n),r=>{let i=yi(r);return new c(Ae(i))}));return mi(t)}class vn extends p{constructor(t){super(),this[0]=t}}class En extends p{constructor(t){super(),this[0]=t}}class On extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class Ln extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class Tn extends p{}class Sn extends p{}class Pt extends p{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class $i extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class Cn extends p{constructor(t){super(),this.int=t}}class fe extends p{constructor(t,n){super(),this.val=t,this.gen=n}}class xe extends p{constructor(t){super(),this[0]=t}}class D extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class S extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class ee extends p{constructor(t,n){super(),this[0]=t,this[1]=n}}class E extends p{}class K extends p{}class N extends p{constructor(t,n,r,i){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i}}class pe extends p{constructor(t,n,r,i,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=s}}function xi(){let e=gn(Vt()),t=q(e,lt),n=q(t,nn),r=q(n,i=>sn(i,()=>{throw rt("panic","tinytypedlang",24,"","parsed int isn't an int",{})}));return q(r,i=>new vn(i))}function ft(){return f(qt(),e=>f(ye(ke(Ue(),_("_"))),t=>x(e+lt(t))))}function ki(){let e=ft();return q(e,t=>new En(t))}function Ai(){return f($e("Type"),e=>f(Wt(ke(Ue(),_("_"))),t=>x(new Tn)))}function Ii(){return f($e("Int"),e=>f(Wt(ke(Ue(),_("_"))),t=>x(new Sn)))}function H(){return f(ye(Ve(a([_(" "),_("	"),_(`
`)]))),e=>x(void 0))}function gt(e,t){return t(new Cn(e.int+1),e.int)}function J(e,t,n){if(t instanceof vn){let r=t[0];return new c(new fe(new xe(r),e))}else if(t instanceof En){let r=t[0],i=qe(n,r);if(i.isOk()){let s=i[0];return new c(new fe(new D(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof On){let r=t[0],i=t[1],s=t[2];return gt(e,(u,l)=>y(J(u,s,T(n,r,l)),o=>y((()=>{if(i instanceof k){let h=i[0];return de(J(u,h,n),b=>[new k(b.val),b.gen])}else return new c([new Y,o.gen])})(),h=>{let b=h[0],L=h[1],A=new S(l,r,b,o.val),te=new fe(A,L);return new c(te)})))}else if(t instanceof Ln){let r=t[0],i=t[1];return y(J(e,r,n),s=>y(J(s.gen,i,n),u=>{let l=new ee(s.val,u.val),o=new fe(l,u.gen);return new c(o)}))}else{if(t instanceof Tn)return new c(new fe(new E,e));if(t instanceof Sn)return new c(new fe(new K,e));if(t instanceof Pt){let r=t[0],i=t[1],s=t[2];return gt(e,(u,l)=>y(J(u,i,n),o=>y(J(o.gen,s,T(n,r,l)),h=>{let b=new N(l,r,o.val,h.val),L=new fe(b,h.gen);return new c(L)})))}else{let r=t[0],i=t[1],s=t[2],u=t[3];return gt(e,(l,o)=>y((()=>{if(i instanceof k){let h=i[0];return de(J(l,h,n),b=>[new k(b.val),b.gen])}else return new c([new Y,l])})(),h=>{let b=h[0],L=h[1],A=T(n,r,o);return y(J(L,s,A),te=>y(J(te.gen,u,A),Fe=>{let Rn=new pe(o,r,b,te.val,Fe.val),Nn=new fe(Rn,Fe.gen);return new c(Nn)}))}))}}}function vi(e,t){return y(J(e,t,Oe()),n=>new c(n.val))}function ct(e,t,n){let r=i=>ct(i,t,n);if(e instanceof xe){let i=e[0];return new xe(i)}else if(e instanceof D){let i=e[0];return t===i?n:e}else if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];return new S(i,s,Ht(u,r),r(l))}else if(e instanceof ee){let i=e[0],s=e[1];return new ee(r(i),r(s))}else{if(e instanceof E)return new E;if(e instanceof K)return new K;if(e instanceof N){let i=e[0],s=e[1],u=e[2],l=e[3];return new N(i,s,r(u),r(l))}else{let i=e[0],s=e[1],u=e[2],l=e[3],o=e[4];return new pe(i,s,Ht(u,r),r(l),r(o))}}}function ie(e,t){for(;;){let n=e,r=t;if(n instanceof xe)return n;if(n instanceof D){let i=n[0],s=qe(r,i);return s.isOk()?s[0]:n}else if(n instanceof ee){let i=n[0],s=n[1],u=ie(i,r),l=ie(s,r);if(u instanceof S){let o=u[0];e=u[3],t=T(r,o,l)}else return new ee(u,l)}else{if(n instanceof E)return new E;if(n instanceof K)return new K;if(n instanceof pe){let i=n[0],s=n[3];e=n[4],t=T(r,i,ie(s,r))}else if(n instanceof S){let i=n[0],s=n[1],u=n[2],l=n[3];return new S(i,s,u,ie(l,r))}else{let i=n[0],s=n[1],u=n[2],l=n[3];return new N(i,s,ie(u,r),ie(l,r))}}}}function et(e,t,n){let r=ie(e,n),i=ie(t,n);if(r instanceof D&&i instanceof D){let s=r[0],u=i[0];return s===u}else{if(r instanceof K&&i instanceof K)return!0;if(r instanceof E&&i instanceof E)return!0;if(r instanceof N&&i instanceof N){let s=r[0],u=r[1],l=r[2],o=r[3],h=i[0],b=i[2],L=i[3];return et(l,b,n)&&et(ct(L,h,new D(s,u)),o,n)}else return!1}}function Ei(e){return ie(e,Oe())}function j(e,t){for(;;){let n=e,r=t;if(r instanceof D)return r[0]===n;if(r instanceof S&&r[2]instanceof k){let i=r[2][0],s=r[3];return j(n,i)||j(n,s)}else if(r instanceof S&&r[2]instanceof Y){let i=r[3];e=n,t=i}else if(r instanceof ee){let i=r[0],s=r[1];return j(n,i)||j(n,s)}else if(r instanceof N){let i=r[2],s=r[3];return j(n,i)||j(n,s)}else if(r instanceof pe&&r[2]instanceof k){let i=r[2][0],s=r[3],u=r[4];return j(n,i)||j(n,s)||j(n,u)}else if(r instanceof pe&&r[2]instanceof Y){let i=r[3],s=r[4];return j(n,i)||j(n,s)}else return!1}}function w(e){if(e instanceof xe){let t=e[0];return it(t)}else{if(e instanceof D)return e[1];if(e instanceof S&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3];return"\\"+t+": "+w(n)+". "+w(r)}else if(e instanceof S&&e[2]instanceof Y){let t=e[1],n=e[3];return"\\"+t+". "+w(n)}else if(e instanceof ee&&e[0]instanceof S){let t=e[0],n=e[1];return"("+w(t)+")("+w(n)+")"}else if(e instanceof ee){let t=e[0],n=e[1];return w(t)+"("+w(n)+")"}else{if(e instanceof E)return"Type";if(e instanceof K)return"Int";if(e instanceof N){let t=e[0],n=e[1],r=e[2],i=e[3];return j(t,i)?"forall "+n+": "+w(r)+". "+w(i):r instanceof xe||r instanceof D||r instanceof E||r instanceof K?w(r)+"->"+w(i):(r instanceof S||r instanceof ee||r instanceof N,"("+w(r)+") -> "+w(i))}else if(e instanceof pe&&e[2]instanceof k){let t=e[1],n=e[2][0],r=e[3],i=e[4];return"let "+t+": "+w(n)+" = "+w(r)+`;
`+w(i)}else{let t=e[1],n=e[3],r=e[4];return"let "+t+" = "+w(n)+`;
`+w(r)}}}}function Oi(e){return e.isOk(),e[0]}function Te(e,t,n,r){if(e instanceof S){let i=e[0],s=e[1],u=e[2],l=e[3];if(t instanceof N){let o=t[0],h=t[2],b=t[3];return y(Te(l,ct(b,o,new D(i,s)),T(n,i,h),r),L=>{if(u instanceof k){let A=u[0];return et(A,h,r)?new c(void 0):new m("Type mismatch in lambda parameter. Expected "+w(h)+" but found "+w(A)+".")}else return new c(void 0)})}else return new m("Type mismatch. Expected "+w(t)+" but found a lambda.")}else return y(_e(e,n,r),i=>et(i,t,r)?new c(void 0):new m("Type mismatch. Expected "+w(t)+" but found "+w(i)+"."))}function _e(e,t,n){if(e instanceof xe)return new c(new K);if(e instanceof D){let r=e[0],i=e[1];return rn(qe(t,r),s=>"Variable "+i+" is not defined in the current context.")}else if(e instanceof ee){let r=e[0],i=e[1];return y(_e(r,t,n),s=>{if(s instanceof N){let u=s[0],l=s[2],o=s[3];return y(Te(i,l,t,n),h=>new c(ct(o,u,i)))}else return new m("Type error. Expected a function type, but found "+w(s))})}else if(e instanceof N){let r=e[0],i=e[2],s=e[3];return y(Te(i,new E,t,n),u=>y(Te(s,new E,T(t,r,i),n),l=>new c(new E)))}else{if(e instanceof K)return new c(new E);if(e instanceof E)return new c(new E);if(e instanceof pe&&e[2]instanceof k){let r=e[0],i=e[2][0],s=e[3],u=e[4];return y(Te(s,i,t,n),l=>_e(u,T(t,r,i),T(n,r,s)))}else if(e instanceof pe&&e[2]instanceof Y){let r=e[0],i=e[3],s=e[4];return y(_e(i,t,n),u=>_e(s,T(t,r,u),T(n,r,i)))}else if(e instanceof S&&e[2]instanceof k){let r=e[0],i=e[1],s=e[2][0],u=e[3];return y(_e(u,T(t,r,s),n),l=>new c(new N(r,i,s,l)))}else return new m("Type error. Can't infer the type of this lambda. Try annotating it with a `let` expression.")}}function G(){return f(H(),e=>f(Ve(a([xi(),Ai(),Ii(),Li(),Si(),ki(),Ti(),Ci()])),t=>f(H(),n=>f(ye(f(_("("),r=>f(R(G),i=>f(_(")"),s=>f(H(),u=>x(i)))))),r=>{let i=It(r,t,(s,u)=>new Ln(s,u));return f(Bt($e("->")),s=>f((()=>s.isOk()?f(R(G),u=>x(new Pt("_",i,u))):x(i))(),u=>x(u)))}))))}function Li(){return f($e("forall"),e=>f(Wt(ke(Ue(),_("_"))),t=>f(H(),n=>f(ft(),r=>f(H(),i=>f(_(":"),s=>f(H(),u=>f(R(G),l=>f(_("."),o=>f(R(G),h=>x(new Pt(r,l,h))))))))))))}function Ti(){return f(_("\\"),e=>f(H(),t=>f(ft(),n=>f(H(),r=>f(Bt(_(":")),i=>f((()=>i.isOk()?q(R(G),s=>new k(s)):x(new Y))(),s=>f(_("."),u=>f(H(),l=>f(R(G),o=>x(new On(n,s,o)))))))))))}function Si(){return f($e("let "),e=>f(H(),t=>f(ft(),n=>f(H(),r=>f(Bt(_(":")),i=>f((()=>i.isOk()?q(R(G),s=>new k(s)):x(new Y))(),s=>f($e("="),u=>f(R(G),l=>f(_(";"),o=>f(R(G),h=>x(new $i(n,s,l,h))))))))))))}function Ci(){return f(_("("),e=>f(R(G),t=>f(_(")"),n=>x(t))))}function Mi(e){let t=y(vt(bn(G(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>y(vi(new Cn(0),n),r=>y(_e(r,Oe(),Oe()),i=>{let s=Ei(r);return new c(w(s))})));return Oi(t)}class tt extends p{constructor(t,n){super(),this.code=t,this.is_typed=n}}class Mn extends p{constructor(t){super(),this[0]=t}}class Ri extends p{constructor(t){super(),this[0]=t}}function Ni(e){return new tt("",!1)}function zi(e,t){if(t instanceof Mn){let n=t[0];return new tt(n,e.is_typed)}else{let n=t[0];return new tt(e.code,n)}}function ji(e){return me(a([]),a([me(a([]),a([me(a([oe("ryan-and-ivy-img"),wt(a([["float","left"],["margin-right","20px"]]))]),a([_t(a([yt("/ryan-and-ivy.jpg"),Yr(300)])),me(a([Pr("caption")]),a([d("Me and my lovely wife, Ivy!")]))])),me(a([]),a([mt(a([]),a([d("Me.")])),Pe(a([]),a([d(`I'm Ryan Brewer.
I'm a passionate software developer working on open-source software 
for safe, reliable, and portable applications.
I specialize in a formal methods approach to systems design, with a focus on ergonomics.
My current biggest project is `),F(a([U("https://github.com/RyanBrewer317/SaberVM")]),a([d("SaberVM")])),d(`,
a lightweight abstract machine for functional languages that aims 
to be formally memory-safe, fault-tolerant, and very small. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, 
both by taking it out of the ivory tower of academia and 
by removing the need for expensive hardware.
Consider supporting my work!
`)])),F(a([oe("github"),U("https://github.com/sponsors/RyanBrewer317")]),a([_t(a([yt("/github-logo.png"),Zt("GitHub logo"),oe("github-logo")])),en(a([]),a([d("Sponsor")]))])),F(a([oe("kofi"),U("https://ko-fi.com/ryanbrewer")]),a([_t(a([yt("/kofi-logo.png"),Zt("Ko-fi logo"),oe("kofi-logo")])),en(a([]),a([d("Support")]))]))]))])),mt(a([wt(a([["padding-top","50pt"]]))]),a([d("My Website")])),Pe(a([]),a([d(`This is my website.
I use this as a space to store my ideas, advertise myself and my work, and write blog posts about topics that I love.
Generally I constrain my posts to be about programming language theory or implementations. 
Links to my latest posts can be found below.
This website is hosted by Firebase and written in `),F(a([U("https://gleam.run")]),a([d("Gleam")])),d(", and the code is up on my "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev")]),a([d("github")])),d(". The only framework used is "),F(a([U("https://lustre.build/")]),a([d("Lustre")])),d("; I did all the scripting, markup, styles, and layout by hand.")])),mt(a([wt(a([["padding-top","50pt"]]))]),a([d("Lambda Calculus in Gleam")])),Pe(a([]),a([d(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),F(a([U("https://gleam.run")]),a([d("Gleam")])),d(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),ne(a([]),a([d("\\var. body")])),d(", and are called like "),ne(a([]),a([d("fun(arg)")])),d(". There are also positive integers like 7. Try writing "),ne(a([]),a([d("(\\x.x)(2)")])),d(", which evaluates to 2. The code for this can be found "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),a([d("here")])),d(".")])),Pe(a([]),a([d(`Want types in your lambda calculus?
You can check the box below to switch to a version with a fancy dependent type system!
Type annotations are introduced by `),ne(a([]),a([d("let")])),d("-bindings, like "),ne(a([]),a([d("let x: A = v; e")])),d(", lambdas, like "),ne(a([]),a([d("\\x: A. e")])),d(", and Pi types, like "),ne(a([]),a([d("forall x: A. B")])),d(". For lambdas and bindings, the types can often be "),F(a([U("https://ncatlab.org/nlab/show/bidirectional+typechecking")]),a([d("inferred")])),d(". The type of types is "),ne(a([]),a([d("Type")])),d(", whose type is "),F(a([U("https://cs.brown.edu/courses/cs1951x/docs/logic/girard.html")]),a([d("also "),ne(a([]),a([d("Type")]))])),d(". The code for this extended evaluator can be found "),F(a([U("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),a([d("here")])),d(".")])),ni(a([Dr("checkbox"),oe("is-typed"),ai(t=>new Ri(t))])),ri(a([Gr("is-typed")]),a([d("dependent types")])),Qt(a([])),ii(a([oe("code"),Hr((()=>e.is_typed?"Play with dependent types! Example: let id: forall a: Type. a->a = \\a.\\x.x; id(Int)(3)":"Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)")()),ui(t=>new Mn(t))])),Qt(a([])),(()=>{if(e instanceof tt&&e.code==="")return d("");{let t=e.code,n=(()=>e.is_typed?Mi(t):bi(t))();return(r=>me(a([]),a([ti(a([]),a([d("output")])),d(": "),me(a([oe("code-output")]),a([d(r)]))])))(n)}})()]))}function Bi(){let e=ei(Ni,zi,ji),t=Br(e,"[data-lustre-app]",void 0);if(!t.isOk())throw rt("assignment_no_match","ryanbrewerdev",15,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{Bi()});
