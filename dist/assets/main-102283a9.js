var je=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var d=(e,t,n)=>(je(e,t,"read from private field"),n?n.call(e):t.get(e)),A=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},y=(e,t,n,r)=>(je(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var te=(e,t,n)=>(je(e,t,"access private method"),n);import"./style-27b4b240.js";class f{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class R{static fromArray(t,n){let r=n||new Ae;for(let i=t.length-1;i>=0;--i)r=new gt(t[i],r);return r}[Symbol.iterator](){return new Yt(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function ae(e,t){return new gt(e,t)}function o(e,t){return R.fromArray(e,t)}var Y;class Yt{constructor(t){A(this,Y,void 0);y(this,Y,t)}next(){if(d(this,Y)instanceof Ae)return{done:!0};{let{head:t,tail:n}=d(this,Y);return y(this,Y,n),{value:t,done:!1}}}}Y=new WeakMap;class Ae extends R{}class gt extends R{constructor(t,n){super(),this.head=t,this.tail=n}}class ie{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return Xt(this.buffer.slice(t,t+8))}intFromSlice(t,n){return Kt(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new ie(this.buffer.slice(t,n))}sliceAfter(t){return new ie(this.buffer.slice(t))}}class Gt{constructor(t){this.value=t}}function Kt(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function Xt(e){return new Float64Array(e.reverse().buffer)[0]}class ce extends f{static isResult(t){return t instanceof ce}}class p extends ce{constructor(t){super(),this[0]=t}isOk(){return!0}}class m extends ce{constructor(t){super(),this[0]=t}isOk(){return!1}}function F(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!ut(r)||!ut(i)||!rn(r,i)||Zt(r,i)||Qt(r,i)||vt(r,i)||en(r,i)||tn(r,i)||nn(r,i))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[l,a]=Jt(r);for(let h of l(r))n.push(a(r,h),a(i,h))}return!0}function Jt(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function Zt(e,t){return e instanceof Date&&(e>t||e<t)}function Qt(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function vt(e,t){return Array.isArray(e)&&e.length!==t.length}function en(e,t){return e instanceof Map&&e.size!==t.size}function tn(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function nn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function ut(e){return typeof e=="object"&&e!==null}function rn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Ue(e,t,n,r,i,s){let u=new globalThis.Error(i);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let l in s)u[l]=s[l];return u}class Fe extends f{constructor(t){super(),this[0]=t}}class lt extends f{}function sn(e,t){if(e instanceof Fe){let n=e[0];return new p(n)}else return new m(t)}function un(e){return Ln(e)}function Oe(e){return Mn(e)}function ln(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=ae(i,r)}}}function on(e){return ln(e,o([]))}function an(e){return on(e)}function cn(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return an(s);{let u=r.head;e=r.tail,t=i,n=ae(i(u),s)}}}function fn(e,t){return cn(e,t,o([]))}function bt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let u=r.head;e=r.tail,t=s(i,u),n=s}}}function fe(e,t){if(e.isOk()){let n=e[0];return new p(t(n))}else{let n=e[0];return new m(n)}}function hn(e,t){if(e.isOk()){let n=e[0];return new p(n)}else{let n=e[0];return new m(t(n))}}function U(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new m(n)}}function dn(e,t){return e.isOk()?e[0]:t()}function pn(e,t){return e.isOk()?e:t}function _t(e,t){if(e.isOk()){let n=e[0];return new p(n)}else return new m(t)}function xt(e){return Bn(e)}function Ve(e){return e}class Pe extends f{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function He(e){return e}function $t(e){return Fn(e)}function At(e){return Ct(e)}function yn(e){return Vn(e)}function Ot(e){return t=>{if(e.hasLength(0))return new m(o([new Pe("another type",At(t),o([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new p(s)}else return Ot(r)(t)}}}function wn(e,t){let n=He(t),r=Ot(o([$t,s=>fe(yn(s),Oe)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let u=o(["<",At(n),">"]),l=xt(u);return Ve(l)}})();return e.withFields({path:ae(i,e.path)})}function mn(e,t){return hn(e,n=>fn(n,t))}function ot(e,t){return n=>{let r=new Pe("field","nothing",o([]));return U(Pn(n,e),i=>{let u=sn(i,o([r])),l=U(u,t);return mn(l,a=>wn(a,e))})}}const at=new WeakMap,Ce=new DataView(new ArrayBuffer(8));let Ne=0;function ze(e){const t=at.get(e);if(t!==void 0)return t;const n=Ne++;return Ne===2147483647&&(Ne=0),at.set(e,n),n}function Re(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Ye(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function Et(e){Ce.setFloat64(0,e);const t=Ce.getInt32(0),n=Ce.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function gn(e){return Ye(e.toString())}function bn(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return ze(e);if(e instanceof Date)return Et(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+E(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+E(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+Re(E(r),E(i))|0});else{const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],u=e[s];n=n+Re(E(u),Ye(s))|0}}return n}function E(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Et(e);case"string":return Ye(e);case"bigint":return gn(e);case"object":return bn(e);case"symbol":return ze(e);case"function":return ze(e);default:return 0}}const S=5,Ge=Math.pow(2,S),_n=Ge-1,xn=Ge/2,$n=Ge/4,b=0,I=1,$=2,G=3,Ke={type:$,bitmap:0,array:[]};function he(e,t){return e>>>t&_n}function Ee(e,t){return 1<<he(e,t)}function An(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Xe(e,t){return An(e&t-1)}function k(e,t,n){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function On(e,t,n){const r=e.length,i=new Array(r+1);let s=0,u=0;for(;s<t;)i[u++]=e[s++];for(i[u++]=n;s<r;)i[u++]=e[s++];return i}function Be(e,t){const n=e.length,r=new Array(n-1);let i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function kt(e,t,n,r,i,s){const u=E(t);if(u===r)return{type:G,hash:u,array:[{type:b,k:t,v:n},{type:b,k:i,v:s}]};const l={val:!1};return de(Je(Ke,e,u,t,n,l),e,r,i,s,l)}function de(e,t,n,r,i,s){switch(e.type){case I:return En(e,t,n,r,i,s);case $:return Je(e,t,n,r,i,s);case G:return kn(e,t,n,r,i,s)}}function En(e,t,n,r,i,s){const u=he(n,t),l=e.array[u];if(l===void 0)return s.val=!0,{type:I,size:e.size+1,array:k(e.array,u,{type:b,k:r,v:i})};if(l.type===b)return F(r,l.k)?i===l.v?e:{type:I,size:e.size,array:k(e.array,u,{type:b,k:r,v:i})}:(s.val=!0,{type:I,size:e.size,array:k(e.array,u,kt(t+S,l.k,l.v,n,r,i))});const a=de(l,t+S,n,r,i,s);return a===l?e:{type:I,size:e.size,array:k(e.array,u,a)}}function Je(e,t,n,r,i,s){const u=Ee(n,t),l=Xe(e.bitmap,u);if(e.bitmap&u){const a=e.array[l];if(a.type!==b){const C=de(a,t+S,n,r,i,s);return C===a?e:{type:$,bitmap:e.bitmap,array:k(e.array,l,C)}}const h=a.k;return F(r,h)?i===a.v?e:{type:$,bitmap:e.bitmap,array:k(e.array,l,{type:b,k:r,v:i})}:(s.val=!0,{type:$,bitmap:e.bitmap,array:k(e.array,l,kt(t+S,h,a.v,n,r,i))})}else{const a=e.array.length;if(a>=xn){const h=new Array(32),C=he(n,t);h[C]=Je(Ke,t+S,n,r,i,s);let ee=0,N=e.bitmap;for(let Se=0;Se<32;Se++){if(N&1){const Ht=e.array[ee++];h[Se]=Ht}N=N>>>1}return{type:I,size:a+1,array:h}}else{const h=On(e.array,l,{type:b,k:r,v:i});return s.val=!0,{type:$,bitmap:e.bitmap|u,array:h}}}}function kn(e,t,n,r,i,s){if(n===e.hash){const u=Ze(e,r);if(u!==-1)return e.array[u].v===i?e:{type:G,hash:n,array:k(e.array,u,{type:b,k:r,v:i})};const l=e.array.length;return s.val=!0,{type:G,hash:n,array:k(e.array,l,{type:b,k:r,v:i})}}return de({type:$,bitmap:Ee(e.hash,t),array:[e]},t,n,r,i,s)}function Ze(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(F(t,e.array[r].k))return r;return-1}function _e(e,t,n,r){switch(e.type){case I:return In(e,t,n,r);case $:return Sn(e,t,n,r);case G:return jn(e,r)}}function In(e,t,n,r){const i=he(n,t),s=e.array[i];if(s!==void 0){if(s.type!==b)return _e(s,t+S,n,r);if(F(r,s.k))return s}}function Sn(e,t,n,r){const i=Ee(n,t);if(!(e.bitmap&i))return;const s=Xe(e.bitmap,i),u=e.array[s];if(u.type!==b)return _e(u,t+S,n,r);if(F(r,u.k))return u}function jn(e,t){const n=Ze(e,t);if(!(n<0))return e.array[n]}function Qe(e,t,n,r){switch(e.type){case I:return Cn(e,t,n,r);case $:return Nn(e,t,n,r);case G:return Tn(e,r)}}function Cn(e,t,n,r){const i=he(n,t),s=e.array[i];if(s===void 0)return e;let u;if(s.type===b){if(!F(s.k,r))return e}else if(u=Qe(s,t+S,n,r),u===s)return e;if(u===void 0){if(e.size<=$n){const l=e.array,a=new Array(e.size-1);let h=0,C=0,ee=0;for(;h<i;){const N=l[h];N!==void 0&&(a[C]=N,ee|=1<<h,++C),++h}for(++h;h<l.length;){const N=l[h];N!==void 0&&(a[C]=N,ee|=1<<h,++C),++h}return{type:$,bitmap:ee,array:a}}return{type:I,size:e.size-1,array:k(e.array,i,u)}}return{type:I,size:e.size,array:k(e.array,i,u)}}function Nn(e,t,n,r){const i=Ee(n,t);if(!(e.bitmap&i))return e;const s=Xe(e.bitmap,i),u=e.array[s];if(u.type!==b){const l=Qe(u,t+S,n,r);return l===u?e:l!==void 0?{type:$,bitmap:e.bitmap,array:k(e.array,s,l)}:e.bitmap===i?void 0:{type:$,bitmap:e.bitmap^i,array:Be(e.array,s)}}return F(r,u.k)?e.bitmap===i?void 0:{type:$,bitmap:e.bitmap^i,array:Be(e.array,s)}:e}function Tn(e,t){const n=Ze(e,t);if(n<0)return e;if(e.array.length!==1)return{type:G,hash:e.hash,array:Be(e.array,n)}}function It(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s!==void 0){if(s.type===b){t(s.v,s.k);continue}It(s,t)}}}class O{static fromObject(t){const n=Object.keys(t);let r=O.new();for(let i=0;i<n.length;i++){const s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=O.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new O(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=_e(this.root,0,E(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},i=this.root===void 0?Ke:this.root,s=de(i,0,E(t),t,n,r);return s===this.root?this:new O(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Qe(this.root,0,E(t),t);return n===this.root?this:n===void 0?O.new():new O(n,this.size-1)}has(t){return this.root===void 0?!1:_e(this.root,0,E(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){It(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+Re(E(n),E(r))|0}),t}equals(t){if(!(t instanceof O)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&F(t.get(i,!r),r)}),n}}const St=void 0,ct={};function Ln(e){return/^[-+]?(\d+)$/.test(e)?new p(parseInt(e)):new m(St)}function Mn(e){return e.toString()}function zn(e){const t=Rn(e);return t?R.fromArray(Array.from(t).map(n=>n.segment)):R.fromArray(e.match(/./gsu))}function Rn(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function Bn(e){let t="";for(const n of e)t=t+n;return t}function ve(e,t){return e.indexOf(t)>=0}function Wn(e){var t;typeof process=="object"&&((t=process.stderr)!=null&&t.write)?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function qn(){return O.new()}function jt(e,t){const n=e.get(t,ct);return n===ct?new m(St):new p(n)}function Dn(e,t,n){return n.set(e,t)}function Ct(e){if(typeof e=="string")return"String";if(e instanceof ce)return"Result";if(e instanceof R)return"List";if(e instanceof ie)return"BitArray";if(e instanceof O)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function et(e,t){return Un(e,Ct(t))}function Un(e,t){return new m(R.fromArray([new Pe(e,t,R.fromArray([]))]))}function Fn(e){return typeof e=="string"?new p(e):et("String",e)}function Vn(e){return Number.isInteger(e)?new p(e):et("Int",e)}function Pn(e,t){const n=()=>et("Dict",e);if(e instanceof O||e instanceof WeakMap||e instanceof Map){const r=jt(e,t);return new p(r.isOk()?new Fe(r[0]):new lt)}else return Object.getPrototypeOf(e)==Object.prototype?ft(e,t,()=>new p(new lt)):ft(e,t,n)}function ft(e,t,n){try{return t in e?new p(new Fe(e[t])):n()}catch{return n()}}function B(e){const t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return JSON.stringify(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(B).join(", ")})`;if(e instanceof R)return Kn(e);if(e instanceof Gt)return Jn(e);if(e instanceof ie)return Xn(e);if(e instanceof f)return Gn(e);if(e instanceof O)return Hn(e);if(e instanceof Set)return`//js(Set(${[...e].map(B).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Yn(e)}function Hn(e){let t="dict.from_list([",n=!0;return e.forEach((r,i)=>{n||(t=t+", "),t=t+"#("+B(i)+", "+B(r)+")",n=!1}),t+"])"}function Yn(e){var s,u;const t=((u=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:u.name)||"Object",n=[];for(const l of Object.keys(e))n.push(`${B(l)}: ${B(e[l])}`);const r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Gn(e){const t=Object.keys(e).map(n=>{const r=B(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Kn(e){return`[${e.toArray().map(B).join(", ")}]`}function Xn(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function Jn(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function Nt(){return qn()}function Tt(e,t){return jt(e,t)}function Lt(e,t,n){return Dn(t,n,e)}function Mt(e){let n=xt(e);return Ve(n)}function Zn(e){let t=B(e);return Ve(t)}function ht(e){let n=Zn(e);return Wn(n),e}function Qn(e,t){return n=>t(e(n))}class vn extends f{constructor(t){super(),this.all=t}}function dt(){return new vn(o([]))}function T(e,t,n,r){if(t!=null&&t.tag&&(e==null?void 0:e.nodeType)===1){const i=t.tag.toUpperCase(),s=t.namespace||"http://www.w3.org/1999/xhtml";return e.nodeName===i&&e.namespaceURI==s?er(e,t,n,r):pt(e,t,n,r)}return t!=null&&t.tag?pt(e,t,n,r):typeof(t==null?void 0:t.content)=="string"?(e==null?void 0:e.nodeType)===3?nr(e,t):tr(e,t):document.createComment(["[internal lustre error] I couldn't work out how to render this element. This","function should only be called internally by lustre's runtime: if you think","this is an error, please open an issue at","https://github.com/hayleigh-dot-dev/gleam-lustre/issues/new"].join(" "))}function pt(e,t,n,r=null){const i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);i.$lustre={__registered_events:new Set};let s="";for(const u of t.attrs)u[0]==="class"?re(i,u[0],`${i.className} ${u[1]}`):u[0]==="style"?re(i,u[0],`${i.style.cssText} ${u[1]}`):u[0]==="dangerous-unescaped-html"?s+=u[1]:u[0]!==""&&re(i,u[0],u[1],n);if(customElements.get(t.tag))i._slot=t.children;else if(t.tag==="slot"){let u=new Ae,l=r;for(;l;)if(l._slot){u=l._slot;break}else l=l.parentNode;for(const a of u)i.appendChild(T(null,a,n,i))}else if(s)i.innerHTML=s;else for(const u of t.children)i.appendChild(T(null,u,n,i));return e&&e.replaceWith(i),i}function er(e,t,n,r){const i=e.attributes,s=new Map;e.$lustre??(e.$lustre={__registered_events:new Set});for(const u of t.attrs)u[0]==="class"&&s.has("class")?s.set(u[0],`${s.get("class")} ${u[1]}`):u[0]==="style"&&s.has("style")?s.set(u[0],`${s.get("style")} ${u[1]}`):u[0]==="dangerous-unescaped-html"&&s.has("dangerous-unescaped-html")?s.set(u[0],`${s.get("dangerous-unescaped-html")} ${u[1]}`):u[0]!==""&&s.set(u[0],u[1]);for(const{name:u,value:l}of i)if(!s.has(u))e.removeAttribute(u);else{const a=s.get(u);a!==l&&(re(e,u,a,n),s.delete(u))}for(const u of e.$lustre.__registered_events)if(!s.has(u)){const l=u.slice(2).toLowerCase();e.removeEventListener(l,e.$lustre[`${u}Handler`]),e.$lustre.__registered_events.delete(u),delete e.$lustre[u],delete e.$lustre[`${u}Handler`]}for(const[u,l]of s)re(e,u,l,n);if(customElements.get(t.tag))e._slot=t.children;else if(t.tag==="slot"){let u=e.firstChild,l=new Ae,a=r;for(;a;)if(a._slot){l=a._slot;break}else a=a.parentNode;for(;u;)Array.isArray(l)&&l.length?T(u,l.shift(),n,e):l.head&&(T(u,l.head,n,e),l=l.tail),u=u.nextSibling;for(const h of l)e.appendChild(T(null,h,n,e))}else if(s.has("dangerous-unescaped-html"))e.innerHTML=s.get("dangerous-unescaped-html");else{let u=e.firstChild,l=t.children;for(;u;)if(Array.isArray(l)&&l.length){const a=u.nextSibling;T(u,l.shift(),n,e),u=a}else if(l.head){const a=u.nextSibling;T(u,l.head,n,e),l=l.tail,u=a}else{const a=u.nextSibling;u.remove(),u=a}for(const a of l)e.appendChild(T(null,a,n,e))}return e}function re(e,t,n,r){switch(typeof n){case"string":e.getAttribute(t)!==n&&e.setAttribute(t,n),n===""&&e.removeAttribute(t),t==="value"&&e.value!==n&&(e.value=n);break;case(t.startsWith("on")&&"function"):{if(e.$lustre[t]===n)break;const i=t.slice(2).toLowerCase(),s=u=>fe(n(u),r);e.$lustre[`${t}Handler`]&&e.removeEventListener(i,e.$lustre[`${t}Handler`]),e.addEventListener(i,s),e.$lustre[t]=n,e.$lustre[`${t}Handler`]=s,e.$lustre.__registered_events.add(t);break}default:e[t]=n}}function tr(e,t){const n=document.createTextNode(t.content);return e&&e.replaceWith(n),n}function nr(e,t){const n=e.nodeValue,r=t.content;return r?(n!==r&&(e.nodeValue=r),e):(e==null||e.remove(),null)}var x,L,M,z,D,ue,J,Z,le,We,oe,qe;class rr{constructor(t,n,r){A(this,le);A(this,oe);A(this,x,null);A(this,L,null);A(this,M,[]);A(this,z,[]);A(this,D,!1);A(this,ue,null);A(this,J,null);A(this,Z,null);y(this,ue,t),y(this,J,n),y(this,Z,r)}start(t,n){if(!ur())return new m(new mr);if(d(this,x))return new m(new pr);if(y(this,x,t instanceof HTMLElement?t:document.querySelector(t)),!d(this,x))return new m(new wr);const[r,i]=d(this,ue).call(this,n);return y(this,L,r),y(this,z,i.all.toArray()),y(this,D,!0),window.requestAnimationFrame(()=>te(this,le,We).call(this)),new p(s=>this.dispatch(s))}dispatch(t){d(this,M).push(t),te(this,le,We).call(this)}emit(t,n=null){d(this,x).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}destroy(){if(!d(this,x))return new m(new yr);d(this,x).remove(),y(this,x,null),y(this,L,null),y(this,M,[]),y(this,z,[]),y(this,D,!1),y(this,J,()=>{}),y(this,Z,()=>{})}}x=new WeakMap,L=new WeakMap,M=new WeakMap,z=new WeakMap,D=new WeakMap,ue=new WeakMap,J=new WeakMap,Z=new WeakMap,le=new WeakSet,We=function(){if(te(this,oe,qe).call(this),d(this,D)){const t=d(this,Z).call(this,d(this,L));y(this,x,T(d(this,x),t,n=>this.dispatch(n))),y(this,D,!1)}},oe=new WeakSet,qe=function(t=0){if(d(this,x)){if(d(this,M).length)for(;d(this,M).length;){const[n,r]=d(this,J).call(this,d(this,L),d(this,M).shift());d(this,D)||y(this,D,d(this,L)!==n),y(this,L,n),y(this,z,d(this,z).concat(r.all.toArray()))}for(;d(this,z).length;)d(this,z).shift()(n=>this.dispatch(n),(n,r)=>this.emit(n,r));d(this,M).length&&(t>=5?console.warn(tooManyUpdates):te(this,oe,qe).call(this,++t))}};const ir=(e,t,n)=>new rr(e,t,n),sr=(e,t,n)=>e.start(t,n),ur=()=>window&&window.document;class zt extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}class lr extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}function v(e,t){return new zt(e,He(t),!1)}function Rt(e,t){return new zt(e,He(t),!0)}function or(e,t){return new lr("on"+e,Qn(t,n=>_t(n,void 0)))}function ar(e){return v("style",bt(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function Te(e){return v("id",e)}function yt(e){return v("placeholder",e)}function V(e){return v("href",e)}function cr(e){return v("src",e)}function fr(e){return Rt("height",Oe(e))}function hr(e){return Rt("width",Oe(e))}class dr extends f{constructor(t){super(),this.content=t}}class g extends f{constructor(t,n,r,i,s,u){super(),this.namespace=t,this.tag=n,this.attrs=r,this.children=i,this.self_closing=s,this.void=u}}function W(e,t,n){return e==="area"?new g("",e,t,o([]),!1,!0):e==="base"?new g("",e,t,o([]),!1,!0):e==="br"?new g("",e,t,o([]),!1,!0):e==="col"?new g("",e,t,o([]),!1,!0):e==="embed"?new g("",e,t,o([]),!1,!0):e==="hr"?new g("",e,t,o([]),!1,!0):e==="img"?new g("",e,t,o([]),!1,!0):e==="input"?new g("",e,t,o([]),!1,!0):e==="link"?new g("",e,t,o([]),!1,!0):e==="meta"?new g("",e,t,o([]),!1,!0):e==="param"?new g("",e,t,o([]),!1,!0):e==="source"?new g("",e,t,o([]),!1,!0):e==="track"?new g("",e,t,o([]),!1,!0):e==="wbr"?new g("",e,t,o([]),!1,!0):new g("",e,t,n,!1,!1)}function c(e){return new dr(e)}class pr extends f{}class yr extends f{}class wr extends f{}class mr extends f{}function gr(e,t,n){return ir(s=>[e(s),dt()],(s,u)=>[t(s,u),dt()],n)}function Le(e,t){return W("h3",e,t)}function Me(e,t){return W("div",e,t)}function ye(e,t){return W("p",e,t)}function P(e,t){return W("a",e,t)}function br(e){return W("br",e,o([]))}function H(e,t){return W("code",e,t)}function _r(e,t){return W("strong",e,t)}function xr(e){return W("iframe",e,o([]))}function wt(e){return W("textarea",e,o([]))}function $r(e,t){return or(e,t)}function Ar(e){let t=e;return ot("target",ot("value",$t))(t)}function mt(e){return $r("input",t=>{let n=Ar(t);return fe(n,e)})}class De extends f{constructor(t){super(),this.error=t}}class me extends f{constructor(t,n){super(),this.row=t,this.col=n}}class q extends f{constructor(t){super(),this.parse=t}}function _(e,t,n){let r=e.parse;return r(t,n)}function ke(e){return new q((t,n)=>{if(!(n instanceof me))throw Ue("assignment_no_match","party",58,"","Assignment pattern did not match",{value:n});let r=n.row,i=n.col;if(t.atLeastLength(1)){let s=t.head,u=t.tail;return e(s)?s===`
`?new p([s,u,new me(r+1,0)]):new p([s,u,new me(r,i+1)]):new m(new De(s))}else return new m(new De("EOF"))})}function j(e){return ke(t=>e===t)}function tt(e,t){return new q((n,r)=>pn(_(e,n,r),_(t,n,r)))}function nt(e){return new q((t,n)=>{if(e.hasLength(0))return new m(new De("choiceless choice"));if(e.hasLength(1)){let r=e.head;return _(r,t,n)}else{let r=e.head,i=e.tail,s=_(r,t,n);if(s.isOk()){let u=s[0][0],l=s[0][1],a=s[0][2];return new p([u,l,a])}else return _(nt(i),t,n)}})}function pe(e){return new q((t,n)=>{let r=_(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return fe(_(pe(e),s,u),l=>[ae(i,l[0]),l[1],l[2]])}else return new p([o([]),t,n])})}function Or(e){return new q((t,n)=>{let r=_(e,t,n);if(r.isOk()){let i=r[0][0],s=r[0][1],u=r[0][2];return fe(_(pe(e),s,u),l=>[ae(i,l[0]),l[1],l[2]])}else{let i=r[0];return new m(i)}})}function ne(e,t){return new q((n,r)=>{let i=_(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return new p([t(s),u,l])}else{let s=i[0];return new m(s)}})}function rt(e){return new q((t,n)=>_(e(),t,n))}function w(e,t){return new q((n,r)=>{let i=_(e,n,r);if(i.isOk()){let s=i[0][0],u=i[0][1],l=i[0][2];return _(t(s),u,l)}else{let s=i[0];return new m(s)}})}function Q(e){return new q((t,n)=>new p([e,t,n]))}function Er(e,t){let n=_(e,zn(t),new me(1,1));if(n.isOk()){let r=n[0][0];return new p(r)}else{let r=n[0];return new m(r)}}function kr(){return ke(e=>ve("abcdefghijklmnopqrstuvwxyz",e))}function Ir(){return ke(e=>ve("ABCDEFGHIJKLMNOPQRSTUVWXYZ",e))}function Bt(){return tt(kr(),Ir())}function Wt(){return ke(e=>ve("0123456789",e))}function Sr(){return tt(Wt(),Bt())}class qt extends f{constructor(t){super(),this[0]=t}}class Dt extends f{constructor(t){super(),this[0]=t}}class Ut extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class jr extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class Ft extends f{constructor(t){super(),this.int=t}}class we extends f{constructor(t,n){super(),this.val=t,this.gen=n}}class it extends f{constructor(t){super(),this[0]=t}}class st extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}class se extends f{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class xe extends f{constructor(t,n){super(),this[0]=t,this[1]=n}}function Cr(){let e=Or(Wt()),t=ne(e,Mt),n=ne(t,un),r=ne(n,i=>dn(i,()=>{throw Ue("panic","tinylang",19,"","parsed int isn't an int",{})}));return ne(r,i=>new qt(i))}function Vt(){return w(Bt(),e=>w(pe(tt(Sr(),j("_"))),t=>Q(e+Mt(t))))}function Nr(){let e=Vt();return ne(e,t=>new Dt(t))}function X(){return w(pe(nt(o([j(" "),j("	"),j(`
`)]))),e=>Q(void 0))}function Tr(e,t){return t(new Ft(e.int+1),e.int)}function ge(e,t,n){if(t instanceof qt){let r=t[0];return new p(new we(new it(r),e))}else if(t instanceof Dt){let r=t[0],i=Tt(n,r);if(i.isOk()){let s=i[0];return new p(new we(new st(s,r),e))}else return new m("Wait! "+r+" isn't defined anywhere!")}else if(t instanceof Ut){let r=t[0],i=t[1];return Tr(e,(s,u)=>U(ge(s,i,Lt(n,r,u)),l=>{let a=new se(u,r,l.val),h=new we(a,s);return new p(h)}))}else{let r=t[0],i=t[1];return U(ge(e,r,n),s=>U(ge(s.gen,i,n),u=>{let l=new xe(s.val,u.val),a=new we(l,u.gen);return new p(a)}))}}function Lr(e,t){return U(ge(e,t,Nt()),n=>new p(n.val))}function be(e,t){for(;;){let n=e,r=t;if(n instanceof it)return n;if(n instanceof st){let i=n[0],s=Tt(r,i);return s.isOk()?s[0]:n}else if(n instanceof xe){let i=n[0],s=n[1],u=be(i,r),l=be(s,r);if(u instanceof se){let a=u[0];e=u[2],t=Lt(r,a,l)}else return new xe(u,l)}else{let i=n[0],s=n[1],u=n[2];return new se(i,s,be(u,r))}}}function Mr(e){return be(e,Nt())}function K(e){if(e instanceof it){let t=e[0];return Oe(t)}else{if(e instanceof st)return e[1];if(e instanceof se){let t=e[1],n=e[2];return"\\"+t+". "+K(n)}else if(e instanceof xe&&e[0]instanceof se){let t=e[0],n=e[1];return"("+K(t)+")("+K(n)+")"}else{let t=e[0],n=e[1];return K(t)+"("+K(n)+")"}}}function zr(e){return e.isOk(),e[0]}function Ie(){return w(X(),e=>w(nt(o([Cr(),Nr(),Rr(),Br()])),t=>w(X(),n=>w(pe(w(j("("),r=>w(rt(Ie),i=>w(j(")"),s=>w(X(),u=>Q(i)))))),r=>{let i=bt(r,t,(s,u)=>new jr(s,u));return Q(i)}))))}function Rr(){return w(j("\\"),e=>w(X(),t=>w(Vt(),n=>w(X(),r=>w(j("."),i=>w(X(),s=>w(rt(Ie),u=>Q(new Ut(n,u)))))))))}function Br(){return w(j("("),e=>w(rt(Ie),t=>w(j(")"),n=>Q(t))))}function Wr(e){let t=U(_t(Er(Ie(),e),"there's a mistake in the notation somewhere; I couldn't understand it!"),n=>U(Lr(new Ft(0),n),r=>{let i=Mr(r);return new p(K(i))}));return zr(t)}class $e extends f{constructor(t,n){super(),this.untyped=t,this.typed=n}}class Pt extends f{constructor(t){super(),this[0]=t}}class qr extends f{constructor(t){super(),this[0]=t}}function Dr(e){return new $e("","")}function Ur(e,t){if(t instanceof Pt){let n=t[0];return ht(new $e(n,e.typed))}else{let n=t[0];return ht(new $e(e.untyped,n))}}function Fr(e){return Me(o([]),o([Le(o([]),o([c("Who I Am")])),ye(o([]),o([c("I'm Ryan Brewer, the software developer behind "),P(o([V("https://github.com/RyanBrewer317/SaberVM")]),o([c("SaberVM")])),c(`,
an abstract machine for safe, portable computation that functional languages can compile to. 
With SaberVM, I'm hoping to broaden accessibility to safe computation, both informationally and financially. 
Consider supporting my work!
`)])),xr(o([cr("https://github.com/sponsors/RyanBrewer317/button"),v("title","Sponsor RyanBrewer317"),fr(32),hr(114),ar(o([["border","0"],["border-radius","6px;"]]))])),Le(o([]),o([c("My Website")])),ye(o([]),o([c("This is my website. It's hosted by Firebase and written mostly in "),P(o([V("https://gleam.run")]),o([c("Gleam")])),c(", and the code is up on my "),P(o([V("https://github.com/RyanBrewer317/ryanbrewer-dev")]),o([c("github")])),c(". The only framework used is "),P(o([V("https://lustre.build/")]),o([c("Lustre")])),c("; scripting, markup, styles, and layout were all done by hand.")])),Le(o([]),o([c("Lambda Calculus in Gleam")])),ye(o([]),o([c(`
I study programming language design, and I'm particularly fond of functional programming.
That's why I made this website in `),P(o([V("https://gleam.run")]),o([c("Gleam")])),c(`,
a statically-typed functional language
that can run anywhere JavaScript can, as well as on Erlang's BEAM VM. 
I've used Gleam to write a lambda calculus evaluator that you can play with below. 
Lambda abstractions are written like 
`),H(o([]),o([c("\\var. body")])),c(", and are called like "),H(o([]),o([c("fun(arg)")])),c(". There are also positive integers like 7. Try writing "),H(o([]),o([c("(\\x.x)(2)")])),c(", which evaluates to 2. The code for this can be found "),P(o([V("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinylang.gleam")]),o([c("here")])),c(".")])),wt(o([Te("code"),yt("Write some lambda calculus code! Example: (\\x.\\y.x)(\\x.x)(3)"),mt(t=>new Pt(t))])),br(o([])),(()=>{if(e instanceof $e&&e.untyped==="")return c("");{let t=e.untyped,n=Wr(t);return(r=>Me(o([]),o([_r(o([]),o([c("output ")])),c(" (variables may be renamed): "),Me(o([Te("code-output")]),o([c(r)]))])))(n)}})(),ye(o([]),o([c(`Want types in your lambda calculus?
Below I've extended the evaluator with a simple dependent type system. 
Lambdas need to be annotated using a `),H(o([]),o([c("let")])),c("-binding, like "),H(o([]),o([c("let f: Int->Int = \\x. x; f(3)")])),c(". Pi types are written "),H(o([]),o([c("forall x: A. B")])),c(", and the type of types is "),H(o([]),o([c("Type")])),c(". The code for this extended evaluator can be found "),P(o([V("https://github.com/RyanBrewer317/ryanbrewer-dev/blob/main/src/tinytypedlang.gleam")]),o([c("here")])),c(".")])),wt(o([Te("typed-code"),yt("Write some typed lambda calculus code! Example: let f: Int->Int = \\x. x; f(3)"),mt(t=>new qr(t))]))]))}function Vr(){let e=gr(Dr,Ur,Fr),t=sr(e,"[data-lustre-app]",void 0);if(!t.isOk())throw Ue("assignment_no_match","ryanbrewerdev",16,"main","Assignment pattern did not match",{value:t});return t[0]}document.addEventListener("DOMContentLoaded",()=>{Vr()});
